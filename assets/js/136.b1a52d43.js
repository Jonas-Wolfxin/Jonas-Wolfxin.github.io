(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{732:function(s,t,n){"use strict";n.r(t);var a=n(14),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"layer-2-discovery-protocols"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#layer-2-discovery-protocols"}},[s._v("#")]),s._v(" Layer 2 Discovery Protocols")]),s._v(" "),n("blockquote",[n("ul",[n("li",[s._v("Layer 2 discovery protocols such as CDP and LLDP "),n("em",[s._v("share information with and discover information about, neighboring (connected) devices")]),s._v(".")]),s._v(" "),n("li",[s._v("They are called ‘Layer 2’ discovery protocols because the protocols themselves "),n("strong",[s._v("operate at Layer 2, they don’t use IP addresses")]),s._v(".")]),s._v(" "),n("li",[s._v("The shared information includes "),n("strong",[s._v("host name, IP address, device type, interface-ID, etc")]),s._v(".")]),s._v(" "),n("li",[s._v("However, because these protocols share information about the devices in the network, they can be considered "),n("strong",[s._v("a security risk and are often not used")]),s._v("!")])])]),s._v(" "),n("h2",{attrs:{id:"cdp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cdp"}},[s._v("#")]),s._v(" CDP")]),s._v(" "),n("blockquote",[n("ul",[n("li",[n("p",[n("strong",[s._v("CDP")]),s._v("(Cisco Discovery Protocol, 思科发现协议), Cisco proprietary protocol, developed by Cisco for Cisco devices, 简单、低开销, 用来获取"),n("strong",[s._v("直接相连接")]),s._v("的设备上的相关信息;")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("enabled")]),s._v(" on Cisco devices(Cisco routers, Cisco switches, Cisco firewalls, Cisco IP phones, etc.) "),n("strong",[s._v("by default")]),s._v(";")])]),s._v(" "),n("li",[n("p",[s._v("CDP messages are periodically sent to "),n("strong",[s._v("multicast MAC address")]),s._v(" "),n("code",[s._v("0100.0CCC.CCCC")]),s._v(".")])]),s._v(" "),n("li",[n("p",[s._v("When a device receives these CDP messages from a neighboring device, it adds an entry for the device in its CDP neighbor table.")])]),s._v(" "),n("li",[n("p",[s._v("When a device receives a CDP message, it processes and discards the message. "),n("strong",[s._v("It does not forward it to other devices.")]),s._v(" So, "),n("strong",[s._v("only directly connected neighbors")]),s._v(" can become CDP neighbors.")])]),s._v(" "),n("li",[n("p",[s._v("CDP's Timers:")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("By default, CDP messages are sent "),n("strong",[s._v("once every 60 seconds")]),s._v(", out of all interfaces which are in an up state.")])]),s._v(" "),n("li",[n("p",[s._v("By default, the "),n("strong",[s._v("CDP holdtime is 180 seconds")]),s._v(". If a message isn’t received from a neighbor for 180 seconds, the neighbor is removed from the CDP neighbor table.")])])])]),s._v(" "),n("li",[n("p",[s._v("There are two versions of CDP, version 1 and version 2, but "),n("strong",[s._v("CDP version 2 messages are used by default")]),s._v(", which provides "),n("strong",[s._v("a few more advanced features")]),s._v(" like "),n("em",[s._v("the ability to identify native VLAN mismatches")]),s._v(".")])])]),s._v(" "),n("blockquote",[n("ul",[n("li",[n("p",[n("strong",[s._v("设备标识符（Device ID）：")]),s._v(" 设备的名称，如邻接路由器的名字为R2。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("地址列表（IP Address）：")]),s._v(" 每种支持的协议最多一个网络层地址，如使用TCP/IP协议栈的192.168.1.2。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("端口标识符（Local Intrfce/Port ID）：")]),s._v(" 设备的本地与邻接设备的端口。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("功能列表（Capability）：")]),s._v(" 邻接设备所支持的功能，如设备充当路由器、交换机或防火墙等。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("平台（Platform）：")]),s._v(" 设备的硬件平台，如Cisco的3745。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("设备的IOS版本：")]),s._v(" 如经典版本12.4。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("保持时间(Holdtime)")]),s._v("：这里指的是接收到CDP的信息最多保留180秒，超过了就丢弃了。")])])])])]),s._v(" "),n("h3",{attrs:{id:"cdp的相关命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cdp的相关命令"}},[s._v("#")]),s._v(" CDP的相关命令:")]),s._v(" "),n("blockquote",[n("h5",{attrs:{id:"配置命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置命令"}},[s._v("#")]),s._v(" 配置命令")]),s._v(" "),n("ul",[n("li",[s._v("CDP is globally enabled by default, Cisco devices have CDP activated by default;")]),s._v(" "),n("li",[s._v("Each interface also has CDP enabled by default.")])]),s._v(" "),n("img",{staticStyle:{zoom:"30%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304220114930.png",alt:"image-20230422011441715"}}),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("R2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#cdp run   //在全局配置模式下, 启用CDP(默认)")]),s._v("\nR2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#no cdp run   //在全局配置模式下, 禁用CDP")]),s._v("\n\nR2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#cdp enable  // 在指定接口上启用 CDP")]),s._v("\nR2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#no cdp enable   //在指定接口上禁用 CDP")]),s._v("\n\nCorp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#cdp timer ?")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("-25"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("4")]),s._v(">")]),s._v(" Rate at whichCDP packets are sent "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("in second 〉\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认每60秒所有活动接口将CDP分组发送出去，")]),s._v("\n\nCorp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#cdp holdtime ?")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("-25"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("5")]),s._v(">")]),s._v(" Length of "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("in sec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" that receiver must keep this packet\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认保持时间为180秒(接收自相邻设备的CDP分组应被当前设备保持的时间长度);")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h5",{attrs:{id:"查看命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看命令"}},[s._v("#")]),s._v(" 查看命令:")]),s._v(" "),n("img",{staticStyle:{zoom:"30%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304220111219.png",alt:"image-20230422011155003"}}),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("SW1"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#show cdp ")]),s._v("\nGlobal CDP information:\n    Sending CDP packets every "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" seconds\n    Sending a holdtime value of "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("180")]),s._v(" seconds\n    Sending CDPv2 advertisements is enabled\n    \nSW1"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#show cdp ?")]),s._v("\n  entry      Information "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" specific neighbor entry\n  interface  CDP interface status and configuration\n  neighbors  CDP neighbor entries\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("cr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("ul",[n("li",[n("p",[n("code",[s._v("show cdp entry *")]),s._v(": 和命令show cdp neighbors detail 提供同样的信息。显示有关运行CDP协议的邻接设备的详细信息，如设备ID、保持时间、硬件平台、本地与邻接设备端口、第三层协议信息IP地址、Cisco IOS软件的类型与版本、设备功能等。")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("SW1"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#show cdp entry * ?")]),s._v("\n  protocol  Protocol information\n  version   Version information\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("cr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  \nSW1"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#show cdp entry *")]),s._v("\n\nDevice ID: R1\nEntry address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("es"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": \n  IP address "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.254\nPlatform: cisco C2900, Capabilities: Router\nInterface: GigabitEthernet0/1, Port ID "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("outgoing port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": GigabitEthernet0/2\nHoldtime: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("137")]),s._v("\n\nVersion "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\nCisco IOS Software, C2900 Software "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("C2900-UNIVERSALK9-M"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", Version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("M4, RELEASE SOFTWARE "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fc2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nTechnical Support: http://www.cisco.com/techsupport\nCopyright "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1986")]),s._v("-2012 by Cisco Systems, Inc.\nCompiled Thurs "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("-Jan-12 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":41 by pt_team\n\nadvertisement version: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nDuplex: full\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("ul",[n("li",[n("p",[n("code",[s._v("show cdp entry * protocol")]),s._v("仅显示出每个直接相连的设备的"),n("strong",[s._v("IP地址")]),s._v("。")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("R3"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#show cdp entry * protocol ")]),s._v("\n\nProtocol information "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" R1 "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" \n  IP Address: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".13.1\n---------------------------\n\nProtocol information "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" SW3 "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" \n  IP Address: \n---------------------------\n\nProtocol information "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" R2 "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" \n  IP Address: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".23.1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("show cdp entry * version")]),s._v(" 将只显示每个直接相连的设备上运行的"),n("strong",[s._v("IOS版本信息")])]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("SW1"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#show cdp entry * version ")]),s._v("\n\nVersion information "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" R1 "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\nCisco IOS Software, C2900 Software "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("C2900-UNIVERSALK9-M"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", Version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("M4, RELEASE SOFTWARE "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fc2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nTechnical Support: http://www.cisco.com/techsupport\nCopyright "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1986")]),s._v("-2012 by Cisco Systems, Inc.\nCompiled Thurs "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("-Jan-12 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":41 by pt_team\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("show cdp interface")]),s._v(": 显示本设备的接口状态和配置信息，如接口的线路状态的数据链路状态、接口的封装类型、CDP的发送间隔（默认60秒发送一次）、保持时间（默认180秒）等。")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("R3"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#show cdp interface ?")]),s._v("\n  Ethernet         IEEE "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("802.3")]),s._v("\n  FastEthernet     FastEthernet IEEE "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("802.3")]),s._v("\n  GigabitEthernet  GigabitEthernet IEEE "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("802")]),s._v(".3z\n  Serial           Serial\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("cr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\nR3"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#show cdp interface")]),s._v("\nVlan1 is administratively down, line protocol is down\n  Sending CDP packets every "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" seconds\n  Holdtime is "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("180")]),s._v(" seconds\nGigabitEthernet0/0 is up, line protocol is up\n  Sending CDP packets every "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" seconds\n  Holdtime is "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("180")]),s._v(" seconds\nGigabitEthernet0/1 is up, line protocol is up\n  Sending CDP packets every "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" seconds\n  Holdtime is "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("180")]),s._v(" seconds\nGigabitEthernet0/2 is up, line protocol is up\n  Sending CDP packets every "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" seconds\n  Holdtime is "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("180")]),s._v(" seconds\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("show cdp neighbors [details]")]),s._v(": 显示运行CDP协议的邻接设备信息，相关的信息有: 邻接设备ID、本地接口、保持时间、设备功能编码、硬件平台、邻接设备端口。")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("R3"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#show cdp neighbors ")]),s._v("\nCapability Codes: R - Router, T - Trans Bridge, B - Source Route Bridge\n                  S - Switch, H - Host, I - IGMP, r - Repeater, P - Phone\nDevice ID    Local Intrfce   Holdtme    Capability   Platform    Port ID\nR1           Gig "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("159")]),s._v("            R       C2900       Gig "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/0\nSW3          Gig "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/0          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("159")]),s._v("            S       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2960")]),s._v("        Gig "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1\nR2           Gig "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/2          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("159")]),s._v("            R       C2900       Gig "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/2\n\nR3"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#show cdp neighbors detail ")]),s._v("\n\nDevice ID: R1\nEntry address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("es"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": \n  IP address "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".13.1\nPlatform: cisco C2900, Capabilities: Router\nInterface: GigabitEthernet0/1, Port ID "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("outgoing port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": GigabitEthernet0/0\nHoldtime: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("164")]),s._v("\n\nVersion "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\nCisco IOS Software, C2900 Software "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("C2900-UNIVERSALK9-M"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", Version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("M4, RELEASE SOFTWARE "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fc2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nTechnical Support: http://www.cisco.com/techsupport\nCopyright "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1986")]),s._v("-2012 by Cisco Systems, Inc.\nCompiled Thurs "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("-Jan-12 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":41 by pt_team\n\nadvertisement version: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nDuplex: full\n---------------------------\n\nDevice ID: SW3\nEntry address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("es"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": \nPlatform: cisco "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2960")]),s._v(", Capabilities: Switch\nInterface: GigabitEthernet0/0, Port ID "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("outgoing port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": GigabitEthernet0/1\nHoldtime: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("164")]),s._v("\n\nVersion "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\nCisco IOS Software, C2960 Software "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("C2960-LANBASE-M"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", Version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("FX, RELEASE SOFTWARE "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fc1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nCopyright "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1986")]),s._v("-2005 by Cisco Systems, Inc.\nCompiled Wed "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("-Oct-05 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":05 by pt_team\n\nadvertisement version: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nDuplex: full\n---------------------------\n\nDevice ID: R2\nEntry address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("es"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": \n  IP address "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".23.1\nPlatform: cisco C2900, Capabilities: Router\nInterface: GigabitEthernet0/2, Port ID "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("outgoing port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": GigabitEthernet0/2\nHoldtime: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("164")]),s._v("\n\nVersion "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\nCisco IOS Software, C2900 Software "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("C2900-UNIVERSALK9-M"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", Version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("M4, RELEASE SOFTWARE "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fc2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nTechnical Support: http://www.cisco.com/techsupport\nCopyright "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1986")]),s._v("-2012 by Cisco Systems, Inc.\nCompiled Thurs "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("-Jan-12 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":41 by pt_team\n\nadvertisement version: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nDuplex: full\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("show cdp traffic")]),s._v(": 显示接口流量的信息，包括发送和接收到的CDP分组的数量，以及CDP错误。")])])]),s._v(" "),n("img",{staticStyle:{zoom:"48%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304220054897.png",alt:"image-20230422005419785"}})]),s._v(" "),n("h3",{attrs:{id:"使用cdp绘出网络拓扑"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用cdp绘出网络拓扑"}},[s._v("#")]),s._v(" 使用CDP绘出网络拓扑")]),s._v(" "),n("blockquote",[n("ol",[n("li",[n("p",[s._v("使用 "),n("code",[s._v("show running-config")]),s._v(" 命令确定本设备上每个接口的IP地址;")])]),s._v(" "),n("li",[n("p",[s._v("使用 "),n("code",[s._v("show cdp neighbors")]),s._v(" 命令确定与这些接口相连的另一端的设备类型;")])]),s._v(" "),n("li",[n("p",[s._v("使用 "),n("code",[s._v("show cdp entry * protocol")]),s._v(" 或者 "),n("code",[s._v("show cdp neighbors detail")]),s._v(" 命令查看相邻设备上的接口IP地址;")])]),s._v(" "),n("li",[n("p",[s._v("现在根据以上的命令提供的信息，我们就可以手动绘制这个网络的拓扑图")])])])]),s._v(" "),n("h2",{attrs:{id:"lldp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#lldp"}},[s._v("#")]),s._v(" LLDP")]),s._v(" "),n("blockquote",[n("ul",[n("li",[n("strong",[s._v("LLDP（Link Layer Discovery Protocol，链路层发现协议）")]),s._v(", industry standard protocol"),n("strong",[s._v("IEEE 802.1AB")]),s._v(";")]),s._v(" "),n("li",[s._v("A device can run CDP and LLDP at the same time. But LLDP is usually disabled on Cisco devices by default, so it must be manually enabled.")]),s._v(" "),n("li",[s._v("LLDP messages are periodically sent to multicast MAC address "),n("code",[s._v("0180.C200.000E")]),s._v(".")]),s._v(" "),n("li",[s._v("When a device receives an LLDP message, it processes and discards the message. "),n("strong",[s._v("It does not forward it to other devices.")]),s._v(" So, only directly connected devices can become LLDP neighbors.")]),s._v(" "),n("li",[s._v("LLDP's timers:\n"),n("ul",[n("li",[s._v("By default, LLDP messages are sent "),n("strong",[s._v("once every 30 seconds")]),s._v(";")]),s._v(" "),n("li",[s._v("LLDP’s default holdtime is "),n("strong",[s._v("120 seconds")]),s._v(".")]),s._v(" "),n("li",[s._v("LLDP also has an additional timer called the ‘"),n("strong",[s._v("reinitialization delay")]),s._v("’. If LLDP is enabled (globally or on a specific interface), this timer will delay the actual initialization of LLDP, and the timer is 2 seconds by default. ("),n("em",[s._v("The purpose of this timer is to help in cases of ‘flapping’, when LLDP is rapidly enabled or disabled for some reason. So, the device won’t send LLDP messages out of its interfaces immediately when LLDP is enabled, it will wait for the initialization timer to expire.")]),s._v(")")])])]),s._v(" "),n("li",[s._v("LLDP协议使得接入网络的一台设备可以将其主要的能力，管理地址，设备标识，接口标识等信息发送给接入同一个局域网络的其它设备。当一个设备从网络中接收到其它设备的这些信息时，它就将这些信息以"),n("strong",[s._v("MIB")]),s._v("的形式存储起来。这些MIB信息可用于发现设备的物理拓扑结构以及管理配置信息。")])])]),s._v(" "),n("h3",{attrs:{id:"lldp-frame"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#lldp-frame"}},[s._v("#")]),s._v(" LLDP Frame")]),s._v(" "),n("blockquote",[n("p",[s._v("封装有 LLDPDU 的报文称为 LLDP 帧，其封装格式有两种：Ethernet II 和 SNAP（SubNetwork Access Protocol，子网访问协议）。两者的差别在于LLDPDU分组的大小，"),n("em",[s._v("Ethernet II 封装格式为固定1500 Bytes，SNAP封装为 n 字节。")])]),s._v(" "),n("h6",{attrs:{id:"ethernet-ii格式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ethernet-ii格式"}},[s._v("#")]),s._v(" Ethernet II格式:")]),s._v(" "),n("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/20210312002838818.png",alt:"在这里插入图片描述"}}),s._v(" "),n("ul",[n("li",[n("strong",[s._v("DA：")]),s._v(" 目的 MAC地址，为固定的组播 MAC地址 0x0180-C200-000E。")]),s._v(" "),n("li",[n("strong",[s._v("SA：")]),s._v(" 源 MAC地址，为端口 MAC地址或设备MAC地址（如有端口地址则用端口MAC地址，否则用设备MAC地址）。")]),s._v(" "),n("li",[n("strong",[s._v("Type：")]),s._v(" 帧类型，为 0x88CC。")]),s._v(" "),n("li",[n("strong",[s._v("Data：")]),s._v(" 数据，为 LLDPDU。")]),s._v(" "),n("li",[n("strong",[s._v("FCS：")]),s._v(" 帧检验序列。")])]),s._v(" "),n("h6",{attrs:{id:"snap格式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#snap格式"}},[s._v("#")]),s._v(" SNAP格式:")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304192254454.png",alt:"在这里插入图片描述"}})]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("DA")]),s._v("：目的MAC地址，为固定的组播 MAC地址 "),n("code",[s._v("01-80-C2-00-00-0E")]),s._v("。")]),s._v(" "),n("li",[n("strong",[s._v("SA")]),s._v("：源MAC地址，为端口MAC地址或设备MAC地址（如果有端口地址则用端口MAC地址，否则用设备MAC地址）。")]),s._v(" "),n("li",[n("strong",[s._v("Type")]),s._v("：帧类型，为 0xAAAA-0300-0000-88CC。")]),s._v(" "),n("li",[n("strong",[s._v("Data")]),s._v("：数据，为 LLDPDU。")]),s._v(" "),n("li",[n("strong",[s._v("FCS")]),s._v("：帧检验序列。")])])]),s._v(" "),n("h3",{attrs:{id:"配置指令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置指令"}},[s._v("#")]),s._v(" 配置指令")]),s._v(" "),n("ul",[n("li",[s._v("LLDP is usually globally disabled by default;")]),s._v(" "),n("li",[s._v("LLDP is also disabled on each interface by default.")])]),s._v(" "),n("h4",{attrs:{id:"cisco-devices"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cisco-devices"}},[s._v("#")]),s._v(" Cisco Devices:")]),s._v(" "),n("img",{staticStyle:{zoom:"30%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304220133908.png",alt:"image-20230422013308665"}}),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("R1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lldp run     # 在思科设备上开启LLDP")]),s._v("\nR1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# no lldp run     # 在思科设备上关闭LLDP")]),s._v("\n\nSW3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#int g0/1 - 5")]),s._v("\nSW3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ll t")]),s._v("\nSW3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config-if"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ll r")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h4",{attrs:{id:"huawei-devices"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#huawei-devices"}},[s._v("#")]),s._v(" Huawei Devices:")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("R1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lldp enable  # 华为设备开启LLDP")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"查看lldp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看lldp"}},[s._v("#")]),s._v(" 查看LLDP")]),s._v(" "),n("img",{staticStyle:{zoom:"32%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304220151993.png",alt:"image-20230422015137755"}}),s._v(" "),n("h4",{attrs:{id:"cisco-devices-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cisco-devices-2"}},[s._v("#")]),s._v(" Cisco Devices:")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("R3"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#show lldp ")]),s._v("\n\nGlobal LLDP Information:\n    Status: ACTIVE\n    LLDP advertisements are sent every "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" seconds\n    LLDP hold "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" advertised is "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),s._v(" seconds\n    LLDP interface reinitialisation delay is "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" seconds\n\nR3"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# show lldp traffic")]),s._v("\n\nR3"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# show lldp interface")]),s._v("\n\nR3"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# show lldp entry Name")]),s._v("\n\n\nR3"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#show lldp neighbors ")]),s._v("\nCapability codes:\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("R"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Router, "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("B"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Bridge, "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("T"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Telephone, "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("C"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" DOCSIS Cable Device\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("W"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" WLAN Access Point, "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("P"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Repeater, "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("S"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Station, "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("O"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Other\nDevice ID           Local Intf     Hold-time  Capability      Port ID\nSW3                 Gig0/0         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),s._v("        B               Gig0/1\nR1                  Gig0/1         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),s._v("        R               Gig0/0\nR2                  Gig0/2         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),s._v("        R               Gig0/2\n\nTotal entries displayed: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n\n\nR3"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#show lldp neighbors detail ")]),s._v("\n------------------------------------------------\nChassis id: 0001.6495.DE19\nPort id: Gig0/1\nPort Description: GigabitEthernet0/1\nSystem Name: SW3\nSystem Description:\nCisco IOS Software, C2960 Software "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("C2960-LANBASE-M"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", Version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("FX, RELEASE SOFTWARE "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fc1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nCopyright "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1986")]),s._v("-2005 by Cisco Systems, Inc.\nCompiled Wed "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("-Oct-05 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":05 by pt_team\nTime remaining: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v(" seconds\nSystem Capabilities: B\nEnabled Capabilities: B\nManagement Addresses - not advertised\nAuto Negotiation - supported, enabled\nPhysical media capabilities:\n    100baseT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HD"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    100baseT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("FD"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    1000baseT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("FD"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    1000baseT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HD"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nMedia Attachment Unit type: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\nVlan ID: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n------------------------------------------------\nChassis id: 0010.119D.2501\nPort id: Gig0/0\nPort Description: GigabitEthernet0/0\nSystem Name: R1\nSystem Description:\nCisco IOS Software, C2900 Software "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("C2900-UNIVERSALK9-M"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", Version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("M4, RELEASE SOFTWARE "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fc2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nTechnical Support: http://www.cisco.com/techsupport\nCopyright "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1986")]),s._v("-2012 by Cisco Systems, Inc.\nCompiled Thurs "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("-Jan-12 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":41 by pt_team\nTime remaining: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v(" seconds\nSystem Capabilities: R\nEnabled Capabilities: R\nManagement Addresses - not advertised\nAuto Negotiation - supported, enabled\nPhysical media capabilities:\n    1000baseT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("FD"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nMedia Attachment Unit type: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\nVlan ID: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\nTotal entries displayed: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br")])]),n("h4",{attrs:{id:"huawei-devices-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#huawei-devices-2"}},[s._v("#")]),s._v(" Huawei Devices:")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("R1"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# display lldp")]),s._v("\nR1"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# display lldp neighbor [brief]  ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"补充-wireshark-captures-one-for-cdp-and-one-for-lldp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#补充-wireshark-captures-one-for-cdp-and-one-for-lldp"}},[s._v("#")]),s._v(" 补充: Wireshark captures: one for CDP and one for LLDP")]),s._v(" "),n("h3",{attrs:{id:"wireshark-capture-for-cdp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#wireshark-capture-for-cdp"}},[s._v("#")]),s._v(" Wireshark capture for CDP")]),s._v(" "),n("img",{staticStyle:{zoom:"60%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304220154383.png",alt:"image-20230422015417204"}}),s._v(" "),n("blockquote",[n("ul",[n("li",[s._v("Notice the CDP destination MAC address, "),n("code",[s._v("0100.0CCC.CCCC")]),s._v(". Wireshark describes this destination MAC as "),n("strong",[s._v("CDP/VTP/DTP/PagP/UDLD")]),s._v(". That’s because this same multicast MAC address is actually used for multiple protocols.")])])]),s._v(" "),n("h3",{attrs:{id:"wireshark-capture-for-lldp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#wireshark-capture-for-lldp"}},[s._v("#")]),s._v(" Wireshark capture for LLDP")]),s._v(" "),n("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304220157909.png",alt:"image-20230422015737687"}})])}),[],!1,null,null,null);t.default=e.exports}}]);