(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{743:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"acl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl"}},[t._v("#")]),t._v(" ACL")]),t._v(" "),a("blockquote",[a("p",[t._v("在大中型企业网络中，通常采用"),a("code",[t._v("外围路由器")]),t._v("、"),a("code",[t._v("内部路由器")]),t._v("和"),a("code",[t._v("防火墙")]),t._v("的配置来实现各种安全策略。")]),t._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202207101845191.png",alt:"image-20220710184543082"}}),t._v(" "),a("ul",[a("li",[a("code",[t._v("内部路由器")]),t._v("对前往企业网络中受保护部分的数据流进行过滤，以进一步提高安全，这是通过使用"),a("code",[t._v("访问控制列表ACL")]),t._v("实现的.")]),t._v(" "),a("li",[t._v("在可信网络内部，可不使用路由器，而结合使用"),a("code",[t._v("虚拟局域网(VLAN)和交换机")]),t._v("。多层交换机内置了安全功能，可替代内部路由器在VLAN架构中提供较高的性能。")])])]),t._v(" "),a("h2",{attrs:{id:"acl简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl简介"}},[t._v("#")]),t._v(" ACL简介")]),t._v(" "),a("blockquote",[a("p",[t._v("ACL(Access Control List, 访问控制列表):")]),t._v(" "),a("ul",[a("li",[t._v("The name ‘access control’ indicates that they control access to the network.")]),t._v(" "),a("li",[t._v("ACLs function as a packet filter, instructing the router to permit or discard specific traffic. 访问控制列表最常见的用途之一是，将有害的分组过滤掉以实现安全策略。")]),t._v(" "),a("li",[t._v("ACLs can filter traffic based on the "),a("em",[t._v("source and destination IP addresses")]),t._v(", "),a("em",[t._v("source and destination Layer 4 port numbers")]),t._v(", etc.")]),t._v(" "),a("li",[t._v("创建访问控制列表后，就可将其应用于任何接口的"),a("code",[t._v("入站")]),t._v("或"),a("code",[t._v("出站")]),t._v("数据流。访问控制列表被应用于接口后，路由器将对沿指定方向穿越该接口的每个分组进行分析，并采取相应的措施。")])])]),t._v(" "),a("blockquote",[a("h6",{attrs:{id:"使用acl缓解安全威胁"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用acl缓解安全威胁"}},[t._v("#")]),t._v(" 使用ACL缓解安全威胁:")]),t._v(" "),a("ul",[a("li",[t._v("IP address spoofing(欺骗), inbound")]),t._v(" "),a("li",[t._v("IP address spoofing, outbound")]),t._v(" "),a("li",[t._v("Denial of service (DoS) TCP SYN attacks, blocking external attacks")]),t._v(" "),a("li",[t._v("DoS TCP SYN attacks, using TCP Intercept(拦截)")]),t._v(" "),a("li",[t._v("DoS smurf attacks")]),t._v(" "),a("li",[t._v("Denying/Filtering ICMP messages, inbound")]),t._v(" "),a("li",[t._v("Denying/Filtering ICMP messages, outbound")]),t._v(" "),a("li",[t._v("Denying/Filtering traceroute")])])]),t._v(" "),a("h2",{attrs:{id:"how-acls-work"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-acls-work"}},[t._v("#")]),t._v(" How ACLs work?")]),t._v(" "),a("img",{staticStyle:{zoom:"38%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191051797.png",alt:"image-20230419105131647"}}),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("Notice that")]),t._v(", instead of including a switch in the diagram and showing the PCs connected to the switch, the network segment was represented like this. This is common in network diagrams. In reality, all of the PCs in the 192.168.1.0/24 network are connected to a switch, and the switch is connected to R1.")])]),t._v(" "),a("blockquote",[a("h6",{attrs:{id:"network-policy-assumed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-policy-assumed"}},[t._v("#")]),t._v(" Network policy(Assumed):")]),t._v(" "),a("img",{staticStyle:{zoom:"38%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191103477.png",alt:"image-20230419110323392"}}),t._v(" "),a("h6",{attrs:{id:"how-acls-work-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-acls-work-2"}},[t._v("#")]),t._v(" How ACLs work?")]),t._v(" "),a("ul",[a("li",[t._v("ACLs are configured globally on the router(in "),a("strong",[t._v("global config mode")]),t._v(").")]),t._v(" "),a("li",[t._v("ACLs are made up of an "),a("strong",[t._v("ordered sequence")]),t._v(" of one or more ACEs("),a("strong",[t._v("Access Control Entries")]),t._v(").\n"),a("ul",[a("li",[t._v("When the router checks a packet against the ACL, it processes the ACEs in order, from top to bottom.")]),t._v(" "),a("li",[t._v("Once the packet matches one of the entries in the ACL, the router takes the action and stops processing the ACL further, and all entries below the matching entry will be ignored.")])])])]),t._v(" "),a("img",{staticStyle:{zoom:"38%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191102680.png",alt:"image-20230419110251581"}}),t._v(" "),a("ul",[a("li",[t._v("After being created, the ACL must "),a("em",[t._v("be applied to an interface")]),t._v(". ACLs are applied either "),a("strong",[t._v("inbound")]),t._v(" or "),a("strong",[t._v("outbound")]),t._v(". This tells the router to either "),a("em",[t._v("check packets that enter the interface")]),t._v(", or "),a("em",[t._v("check packets that exit the interface")]),t._v(".\n"),a("ul",[a("li",[t._v("The best location to place this ACL is "),a("strong",[t._v("Outbound on R2’s G0/1 interface")]),t._v(".")]),t._v(" "),a("li",[t._v("Before forwarding the packet out of its G0/1 interface, R2 will check the ACL.\n"),a("ul",[a("li",[t._v("If the "),a("strong",[t._v("source IP")]),t._v(" is in 192.168.1.0/24, then permit.")]),t._v(" "),a("li",[t._v("If the "),a("strong",[t._v("source IP")]),t._v(" is in 192.168.2.0/24, then deny.")])])])])])]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191123744.png",alt:"image-20230419112303607"}}),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("If you apply a second ACL to an interface in the same direction as another one, it will replace the previous one.")])])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Implicit Deny")]),t._v(": This tells the router to deny all traffic that doesn’t match any of the configured entries in the ACL. If a packet doesn’t match any of the entries in an ACL, the router will deny the packet, it will not forward it. So, you need to configure "),a("code",[t._v("access-list NUMBER permit any")]),t._v(" to disable the "),a("strong",[t._v("Implicit Deny")]),t._v(".")])]),t._v(" "),a("img",{staticStyle:{zoom:"40%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191128345.png",alt:"image-20230419112801255"}})]),t._v(" "),a("blockquote",[a("h6",{attrs:{id:"acl的执行机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl的执行机制"}},[t._v("#")]),t._v(" ACL的执行机制:")]),t._v(" "),a("ul",[a("li",[t._v("总是按顺序将分组与访问控制列表的每一行进行比较，即总是首先与访问控制列表的第一行进行比较，然后是第二行和第三行，以此类推。")]),t._v(" "),a("li",[t._v("不断比较，直到满足条件为止。在访问控制列表中，找到分组满足的条件后，对分组采取相应的措施，且不再进行比较。")]),t._v(" "),a("li",[t._v("每个访问控制列表末尾都有一条隐式的"),a("code",[t._v("deny any")]),t._v("语句，这意味着如果不满足访问控制列表中任何行的条件，分组将被丢弃。")])])]),t._v(" "),a("blockquote",[a("h6",{attrs:{id:"在路由器上创建和实现访问控制列表时-应遵守一些通用的指导原则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在路由器上创建和实现访问控制列表时-应遵守一些通用的指导原则"}},[t._v("#")]),t._v(" ==在路由器上创建和实现访问控制列表时，应遵守一些通用的指导原则==:")]),t._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220627142924467.png",alt:"image-20220627142924467"}}),t._v(" "),a("ul",[a("li",[a("p",[t._v("在接口的特定方向上，每种协议只能有一个访问控制列表。这意味着应用ACL时，==每个接口上只能有一个Inbound ACL和一个Outbound ACL==。")])]),t._v(" "),a("li",[a("p",[t._v("Organize your access lists so that the more specific tests are at the top.")])]),t._v(" "),a("li",[a("p",[t._v("Any time a new entry is added to the access list, it will be placed at the bottom of the list. Using a text editor for access lists is highly suggested.")])]),t._v(" "),a("li",[a("p",[t._v("You cannot remove one line from an access list. If you try to do this, you will remove the entire list. It is best to copy the access list to a text editor before trying to edit the list. The only exception is when using named access lists.")]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("不能使用 "),a("code",[t._v("R1(config)#no access-list 10 permit ....")]),t._v(" 来删除指定的ACL语句; 使用此语法会导致一次性删除整个ACL;")])])])])]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[t._v("正确删除指定的ACL语句, 需要进入ACL模式后操作:")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("R1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ip access-list standard 10")]),t._v("\nR1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-std-nacl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no permit 192.168.1.1")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])])])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("除非访问控制列表以"),a("code",[t._v("permit any")]),t._v("命令结尾，否则不满足任何条件的分组都将被丢弃。访问控制列表至少应包含一条permit 语句，否则它将拒绝所有的数据流。")])]),t._v(" "),a("li",[a("p",[t._v("创建访问控制列表后应将其应用于接口, 否则不会生效;")])]),t._v(" "),a("li",[a("p",[t._v("访问控制列表用于过滤穿越路由器的数据流;它们不会对始发于当前路由器的数据流进行过滤。")])]),t._v(" "),a("li",[a("p",[t._v("应将IP Standard ACL放在离目的地尽可能近的端口，这就是我们不想在网络中使用Standard ACL的原因。不能将Standard ACL放在离源主机或源网络很近的端口，因为它只能根据源IP地址进行过滤，这将影响所有的目的地。")])]),t._v(" "),a("li",[a("p",[t._v("将IP 扩展访问控制列表放在离信源尽可能近的端口。扩展访问控制列表可根据非常具体的地址和协议进行过滤，我们不希望数据流穿越整个网络后，最终却被拒绝。将这种访问控制列表放在离信源尽可能近的端口，可在一开始就将数据流过滤掉，以免它占用宝贵的带宽。")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("如果外部IP分组的源IP地址为内部主机或网络，通常明智的选择是不让它们进入私有网络。配置ACL，对从因特网前往私有网络的数据流进行过滤，以缓解安全威胁时，应遵守如下规则:")]),t._v(" "),a("ul",[a("li",[t._v("拒绝源地址为指定内部网络的分组;")]),t._v(" "),a("li",[t._v("拒绝源地址为本地主机地址( "),a("code",[t._v("127.0.0.0/8")]),t._v(" )的分组;")]),t._v(" "),a("li",[t._v("拒绝源地址为 "),a("strong",[t._v("Private IP Address")]),t._v("("),a("em",[t._v("RFC 1918")]),t._v(") 的分组;")]),t._v(" "),a("li",[t._v("拒绝源地址位于IP组播地址范围( "),a("code",[t._v("224.0.0.0/4")]),t._v(" )内的分组。")])])]),t._v(" "),a("h2",{attrs:{id:"acl的方向性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl的方向性"}},[t._v("#")]),t._v(" ACL的方向性")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191317126.png",alt:"image-20230419131705037"}})]),t._v(" "),a("blockquote",[a("p",[t._v("The ACL should be specified Inbound or OutThe directions of traffic on the interface of a Router")])]),t._v(" "),a("h3",{attrs:{id:"inbound-acl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#inbound-acl"}},[t._v("#")]),t._v(" Inbound ACL")]),t._v(" "),a("blockquote",[a("img",{staticStyle:{zoom:"37%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220627082407729.png",alt:"image-20220627082407729"}})]),t._v(" "),a("h3",{attrs:{id:"outbound-acl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#outbound-acl"}},[t._v("#")]),t._v(" Outbound ACL")]),t._v(" "),a("blockquote",[a("p",[t._v("访问控制列表应用于出站分组时，分组将首先被路由到出站接口，然后根据访问控制列表对其进行处理。")]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202207101930803.png",alt:"image-20220627082832389"}})]),t._v(" "),a("h2",{attrs:{id:"acl-types"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl-types"}},[t._v("#")]),t._v(" ACL Types")]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191133317.png",alt:"image-20230419113329090"}}),t._v(" "),a("blockquote",[a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220627083654033.png",alt:"image-20220627083654033"}}),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("Named access lists")]),t._v(" technically there really are only two classes since named access lists are either standard or extended and not actually a new type. I’m just distinguishing them because they’re created and referred to differently than standard and extended access lists, but they’re functionally the same.")])])]),t._v(" "),a("h3",{attrs:{id:"standard-acl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#standard-acl"}},[t._v("#")]),t._v(" Standard ACL:")]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("Standard ACLs match traffic "),a("strong",[t._v("based only on the source IP address of the packet")]),t._v(". 标准ACL只根据"),a("code",[t._v("源IP地址")]),t._v("做过滤条件, 这意味着标准访问控制列表允许或者拒绝整个协议族，它们不区分IP数据包类型(如HTTP、Telnet、UDP等)。")]),t._v(" "),a("li",[t._v("Standard ACLs should be applied "),a("strong",[t._v("as close to the Destination as possible")]),t._v(".")])])]),t._v(" "),a("blockquote",[a("h5",{attrs:{id:"standard-numbered-acls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#standard-numbered-acls"}},[t._v("#")]),t._v(" "),a("strong",[t._v("Standard numbered ACLs")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("are identified with a number(i.e. ACL 1, ACL 2, etc.).")])]),t._v(" "),a("li",[a("p",[t._v("Different types of ACLs have a different range of numbers that can be used. Standard ACLs can use "),a("strong",[t._v("1 to 99")]),t._v(" and "),a("strong",[t._v("1300 to 1999")]),t._v(". 使用访问控制列表编号"),a("code",[t._v("1-99")]),t._v("或"),a("code",[t._v("1300-1999")]),t._v("，就相当于告诉路由器你要创建一个Standard IP ACL。")])])]),t._v(" "),a("img",{staticStyle:{zoom:"43%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191142112.png",alt:"image-20230419114258944"}}),t._v(" "),a("ul",[a("li",[t._v("The basic command to configure a standard numbered ACL is")])]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191144839.png",alt:"image-20230419114421737"}}),t._v(" "),a("ul",[a("li",[t._v("ACL Remark(like interface description):")])]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191154465.png",alt:"image-20230419115443361"}}),t._v(" "),a("ul",[a("li",[t._v("Apply the ACL to an interface:")])]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191208627.png",alt:"image-20230419120845523"}})]),t._v(" "),a("blockquote",[a("h6",{attrs:{id:"相关指令示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相关指令示例"}},[t._v("#")]),t._v(" 相关指令示例:")]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191159777.png",alt:"image-20230419115907485"}}),t._v(" "),a("p",[t._v("There are a few things to point out here:")]),t._v(" "),a("ul",[a("li",[t._v("the router automatically converted "),a("code",[t._v("deny 1.1.1.1 0.0.0.0")]),t._v(" to just "),a("code",[t._v("deny 1.1.1.1")]),t._v(", the router does this when you use a /32 wildcard mask.")]),t._v(" "),a("li",[t._v("Also, "),a("code",[t._v("permit 0.0.0.0 255.255.255.255")]),t._v(" was automatically converted to "),a("code",[t._v("permit any")]),t._v(".")]),t._v(" "),a("li",[t._v("The ACL remark is only displayed in the config.")]),t._v(" "),a("li",[t._v("Notice that each entry is automatically given a number indicating the order(ie. 10, 20). Remember, the order of these entries is very important. If the "),a("code",[t._v("PERMIT ANY")]),t._v("entry was first, all traffic would be permitted and the "),a("code",[t._v("DENY 1.1.1.1")]),t._v(" entry would be useless.")])]),t._v(" "),a("h6",{attrs:{id:"示例2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例2"}},[t._v("#")]),t._v(" 示例2")]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191211803.png",alt:"image-20230419121150570"}})]),t._v(" "),a("blockquote",[a("h5",{attrs:{id:"standard-named-acls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#standard-named-acls"}},[t._v("#")]),t._v(" "),a("strong",[t._v("Standard named ACLs")])]),t._v(" "),a("ul",[a("li",[t._v("are still standard ACLs, but are identified with a name(i.e. "),a("code",[t._v("BLOCK_BOB")]),t._v(").")]),t._v(" "),a("li",[t._v("are configured by entering ‘standard named ACL config mode’, and then configuring each entry within that mode.")])]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191229006.png",alt:"image-20230419122932767"}}),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("Note that you can now specify an entry number before each entry, although you don’t have to.")]),t._v(" "),a("li",[t._v("If you don’t entries will be numbered 10, then 20, then 30, etc, just like in the Standard numbered ACLs. Each entry’s number will be 10 more than the previous one.")])])]),t._v(" "),a("img",{staticStyle:{zoom:"27%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191233844.png",alt:"image-20230419123300645"}}),t._v(" "),a("h6",{attrs:{id:"example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[t._v("#")]),t._v(" Example:")]),t._v(" "),a("img",{staticStyle:{zoom:"39%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191235083.png",alt:"image-20230419123512781"}}),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191238868.png",alt:"image-20230419123803661"}})]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("Notice:")])]),t._v(" "),a("p",[t._v("The sequence order match the order configured the entries, but their actual order in the ACL is totally different. This is a very advanced question about the internal operations of Cisco IOS and how ACLs are processed, you definitely won’t find this on the CCNA exam but let me briefly summarize:")]),t._v(" "),a("ul",[a("li",[t._v("The router may re-order the /32 entries(the entries that match only a single specific host);")]),t._v(" "),a("li",[t._v("This improves the efficiency of processing the ACL.")]),t._v(" "),a("li",[t._v("However, it does not change the overall effect of the ACL.")]),t._v(" "),a("li",[t._v("Note that this is done for both standard named and standard numbered ACLs")])])])]),t._v(" "),a("blockquote",[a("h6",{attrs:{id:"掩码通配符-wildcard-mask"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#掩码通配符-wildcard-mask"}},[t._v("#")]),t._v(" 掩码通配符 Wildcard Mask:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("二进制0位 表示地址中的对应位必须与指定的地址相同, 也即网段地址;")])]),t._v(" "),a("li",[a("p",[t._v("二进制1位 表示地址中的对应位是主机地址范围;")])])]),t._v(" "),a("p",[t._v("假定要禁止网络中的一部分(即172.16.8.0-172.16.15.0)访问你的网络。该范围对应的块大小为8，因此，在访问控制列表中，应指定网络号172.16.8.0 和通配符掩码0.0.7.255 。这是什么意思呢?")]),t._v(" "),a("p",[t._v("路由器根据7.255确定块大小。上述网络号和通配符掩码组合告诉路由器，从172.16.8.0 开始，向上数8个(块大小)网络，直到网络172.16.15.0。这比看起来简单。我原本可以使用二进制来解释，但不需要这样做。实际上，只需记住，通配符掩码总是比块大小小1 。就这个示例而言，通配符掩码为7，因为块大小为8。如果使用的块大小为16，则通配符掩码将为15。")]),t._v(" "),a("p",[t._v("==练习: 下面的配置是什么意思呢?==")]),t._v(" "),a("ol",[a("li",[a("p",[a("code",[t._v("Corp(config)#access-list 10 deny 172.16.16.0 0.0.7.255")]),t._v("\n这条语句指出，从网络172.16.16.0开始，向上数8个(块大小)网络，到172.16.23.255结束。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("Corp(config)#access-list 10 deny 172.16.32.0 0.0.15.255")]),t._v("\n这条语句指出，从网络172.16.32.0开始，向上数16个(块大小)网络，到172.16.47.255结束。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("Corp(config)#access-list 10 deny 172.16.64.0 0.0.63.255")]),t._v("\n这条语句指出，从网络172.16.64.0开始，向上数64个(块大小)网络，到172.16.127.255结束。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("Corp(config)#access-list 10 deny 192.168.160.0 0.0.31.255")]),t._v("\n这条语句指出，从网络192.168.160.0开始，向上数32个(块大小)网络，到192.168.191.255结束。")])])]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("There are 3 methods of configuring a "),a("strong",[t._v("/32")]),t._v(" entry:")])]),t._v(" "),a("img",{staticStyle:{zoom:"30%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191149592.png",alt:"image-20230419114913463"}}),t._v(" "),a("ul",[a("li",[t._v("There are 2 methods to permit all traffic(with any source IP):")])]),t._v(" "),a("img",{staticStyle:{zoom:"30%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191153440.png",alt:"image-20230419115309324"}})])]),t._v(" "),a("h3",{attrs:{id:"extended-acls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extended-acls"}},[t._v("#")]),t._v(" Extended ACLs:")]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("能根据"),a("code",[t._v("源IP地址")]),t._v("、"),a("code",[t._v("目标IP地址")]),t._v("、"),a("code",[t._v("网络层报头中指定的协议类型(Protocol字段)")]),t._v("、"),a("code",[t._v("传输层报头中的端口号")]),t._v("等进行过滤;")])]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191934736.png",alt:"image-20230419193402570"}}),t._v(" "),a("ul",[a("li",[t._v("对于扩展访问控制列表，使用编号"),a("code",[t._v("100-199")]),t._v("; 但注意，编号"),a("code",[t._v("2000-2699")]),t._v("也可用于扩展访问控制列表。")])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Corp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-list?")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("-9"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" IP standard access list\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("-19"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" IP extended access list\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1100")]),t._v("-119"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" Extended "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v("-bit MAC address access list\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1300")]),t._v("-199"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" IP standard access list "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("expanded range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v("-29"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" Protocol type-code access list\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),t._v("-269"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" IP extended access list "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("expanded range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("700")]),t._v("-79"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v("-bit MAC address access list\n    compiled Enable IP access-list compilation\n    dynamic-extended Extend the dynamic ACL absolute timer\n    rate-limit Simple rate-limit specific access list\n    \nCorp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-list 110 ?   # 选择语句的类型")]),t._v("\n    deny Specify packets to reject\n    dynamic Specify a DYNAMIC list of PERMITs or DENYs\n    permit Speci 句packets to forward\n    remark Access list entry comment\n    \nCorp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-list 110 deny ?   # 需要指定协议")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("-25"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("5")]),t._v(">")]),t._v(" An IP protocol number\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# There is a protocol field within the IPv4 Header which identifies the protocol that is encapsulated inside of the IP header, such as ICMP(1), TCP(6) or UDP(17), EIGRP(88), OSPF(89).")]),t._v("\n    ahp \tAuthentication Header Protocol\n    eigrp \tCisco"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s EIGRP routing protocol\n    esp \tEncapsulation Security Payload\n    gre \tCisco'")]),t._v("s GRE tunneling\n    icmp \tInternet Control Message Protocol\n    igmp \tInternet Gateway Message Protocol\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ip")]),t._v(" \t\tAny Internet Protocol   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# all ip packets")]),t._v("\n    ipinip \tIP "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" IP tunneling\n    nos \tKA9Q NOS compatible IP over IP tunneling\n    ospf \tOSPF routing protocol\n    pcp \tPayload Compression Protocol\n    pim \tProtocol Independent Multicast\n    tcp \tTransmission Control Protocol\n    udp \tUser Datagram Protocol\n    \nCorp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-list 110 deny tcp ?")]),t._v("\n    A.B.C.D Source address\n    any Any "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v(" A single "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v("\n\t\nCorp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-list 110 deny tcp any ?")]),t._v("\n    A.B.C.D \tDestination address\n    any \t\tAny destination "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v("\n    eq \t\t\tMatch only packets on a given port number\n    gt \t\t\tMatch only packets with a greater port number\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v(" \t\tA single destination "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v("\n    lt \t\t\tMatch only packets with a lower port number\n    neq \t\tMatch only packets not on a given port number‘\n    range \t\tMatch only packets "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" the range of port numbers\nCorp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-list 110 deny tcp any host 172.16.30.2 ?")]),t._v("\n    ack \tMatch on the ACK bit\n    dscp \tMatch packets with given dscp value\n    eq \t\tMatch only packets on a given port number\n    established \tMatch established connections\n    fin \tMatch on the FIN bit\n    fragments \t\tCheck non-initial fragments\n    gt \t\tMatch only packets with a greater port number\n    log \tLog matches against this entry\n    log-input \tLog matches against this entry, including input interface\n    lt \t\tMatch only packets with a lower port number\n    neq \tMatch only packets not on a given port number\n    precedence \tMatch packets with given precedence value\n    psh \tMatch on the PSH bit\n    range \tMatch only packets "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" the range of port numbers\n    rst \tMatch on the RST bit\n    syn \tMatch on the SYN bit\n    time-range \t\tSpecify a time-range\n    tos \tMatch packets with given TOS value\n    urg \tMatch on the URG bit\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\nCorp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-list 110 deny tcp any host 172.16.30.2 eq ?   # 指定要拒绝的服务")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("-6553"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("5")]),t._v(">")]),t._v(" \tPort number\n    bgp \tBorder Gateway Protocol "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("179")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    chargen \tCharacter generator "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    cmd \tRemote commands "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rcmd, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("514")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    daytime \tDaytime "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    discard \tDiscard "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    domain \t\tDomain Name Service "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    drip \tDynamic Routing Information Protocol "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3949")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" \tEcho "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" \tExec "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rsh, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    finger \tFinger "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("79")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ftp")]),t._v(" File \tTransfer Protocol "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ftp-data \tFTP data connections "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    gopher \tGopher "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hostname")]),t._v(" \tNIC "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hostname")]),t._v(" server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("101")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ident \tIdent Protocol "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("113")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    irc \tInternet Relay Chat "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("194")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    klogin \tKerberos login "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("543")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    kshell \tKerberos shell "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("544")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    login \tLogin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rlogin, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("513")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    lpd \tPrinter "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("515")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    nntp \tNetwork News Transport Protocol "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("119")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    pim-auto-rp \tPIM Auto-RP "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("496")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    pop2 \tPost Office Protocol v2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("109")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    pop3 \tPost Office Protocol v3 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("110")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    smtp \tSimple Mail Transport Protocol "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    sunrpc \tSun Remote Procedure Call "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("111")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    syslog \tSyslog "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("514")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tacacs \tTAC Access Control System "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("49")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    talk \tTalk "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("517")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    telnet \tTelnet "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),t._v(" \tTime "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("37")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nCorp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-1ist 110 deny tcp any host 172.16.30.2 eq 23 log")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 命令log 在每次到达当前语句时都显示一条消息，这对监视非法访问企图很有帮助，但只适用于非生产型网络，因为在生产型网络中，这会让控制台消息过载。")]),t._v("\n\nCorp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-if"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ip access-group 110 in   # 或者 out")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br"),a("span",{staticClass:"line-number"},[t._v("62")]),a("br"),a("span",{staticClass:"line-number"},[t._v("63")]),a("br"),a("span",{staticClass:"line-number"},[t._v("64")]),a("br"),a("span",{staticClass:"line-number"},[t._v("65")]),a("br"),a("span",{staticClass:"line-number"},[t._v("66")]),a("br"),a("span",{staticClass:"line-number"},[t._v("67")]),a("br"),a("span",{staticClass:"line-number"},[t._v("68")]),a("br"),a("span",{staticClass:"line-number"},[t._v("69")]),a("br"),a("span",{staticClass:"line-number"},[t._v("70")]),a("br"),a("span",{staticClass:"line-number"},[t._v("71")]),a("br"),a("span",{staticClass:"line-number"},[t._v("72")]),a("br"),a("span",{staticClass:"line-number"},[t._v("73")]),a("br"),a("span",{staticClass:"line-number"},[t._v("74")]),a("br"),a("span",{staticClass:"line-number"},[t._v("75")]),a("br"),a("span",{staticClass:"line-number"},[t._v("76")]),a("br"),a("span",{staticClass:"line-number"},[t._v("77")]),a("br"),a("span",{staticClass:"line-number"},[t._v("78")]),a("br"),a("span",{staticClass:"line-number"},[t._v("79")]),a("br"),a("span",{staticClass:"line-number"},[t._v("80")]),a("br"),a("span",{staticClass:"line-number"},[t._v("81")]),a("br"),a("span",{staticClass:"line-number"},[t._v("82")]),a("br"),a("span",{staticClass:"line-number"},[t._v("83")]),a("br"),a("span",{staticClass:"line-number"},[t._v("84")]),a("br"),a("span",{staticClass:"line-number"},[t._v("85")]),a("br"),a("span",{staticClass:"line-number"},[t._v("86")]),a("br"),a("span",{staticClass:"line-number"},[t._v("87")]),a("br"),a("span",{staticClass:"line-number"},[t._v("88")]),a("br"),a("span",{staticClass:"line-number"},[t._v("89")]),a("br"),a("span",{staticClass:"line-number"},[t._v("90")]),a("br"),a("span",{staticClass:"line-number"},[t._v("91")]),a("br"),a("span",{staticClass:"line-number"},[t._v("92")]),a("br"),a("span",{staticClass:"line-number"},[t._v("93")]),a("br"),a("span",{staticClass:"line-number"},[t._v("94")]),a("br"),a("span",{staticClass:"line-number"},[t._v("95")]),a("br"),a("span",{staticClass:"line-number"},[t._v("96")]),a("br"),a("span",{staticClass:"line-number"},[t._v("97")]),a("br"),a("span",{staticClass:"line-number"},[t._v("98")]),a("br"),a("span",{staticClass:"line-number"},[t._v("99")]),a("br"),a("span",{staticClass:"line-number"},[t._v("100")]),a("br"),a("span",{staticClass:"line-number"},[t._v("101")]),a("br"),a("span",{staticClass:"line-number"},[t._v("102")]),a("br"),a("span",{staticClass:"line-number"},[t._v("103")]),a("br"),a("span",{staticClass:"line-number"},[t._v("104")]),a("br"),a("span",{staticClass:"line-number"},[t._v("105")]),a("br"),a("span",{staticClass:"line-number"},[t._v("106")]),a("br"),a("span",{staticClass:"line-number"},[t._v("107")]),a("br"),a("span",{staticClass:"line-number"},[t._v("108")]),a("br"),a("span",{staticClass:"line-number"},[t._v("109")]),a("br")])]),a("blockquote",[a("ul",[a("li",[t._v("如果根据应用层协议进行过滤，必须在permit或deny后面指定合适的第4层(传输层)协议。例如，要过滤Telnet或FTP，可选择TCP，因为Telnet和FTP都使用传输层协议TCP。")]),t._v(" "),a("li",[t._v("如果选择IP，你将不能进一步指定应用层协议或者协议端口，而只能根据"),a("code",[t._v("源地址和目标地址")]),t._v("进行过滤。")])])])]),t._v(" "),a("h5",{attrs:{id:"practice-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#practice-1"}},[t._v("#")]),t._v(" Practice 1")]),t._v(" "),a("img",{staticStyle:{zoom:"30%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191948241.png",alt:"image-20230419194857008"}}),t._v(" "),a("h4",{attrs:{id:"matching-the-tcp-udp-port-numbers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#matching-the-tcp-udp-port-numbers"}},[t._v("#")]),t._v(" Matching the TCP/UDP port numbers")]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191950690.png",alt:"image-20230419195022397"}}),t._v(" "),a("img",{staticStyle:{zoom:"39%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191951915.png",alt:"image-20230419195154469"}}),t._v(" "),a("h5",{attrs:{id:"practice"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#practice"}},[t._v("#")]),t._v(" Practice")]),t._v(" "),a("img",{staticStyle:{zoom:"31%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191954066.png",alt:"image-20230419195456740"}}),t._v(" "),a("h2",{attrs:{id:"acl示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl示例"}},[t._v("#")]),t._v(" ACL示例")]),t._v(" "),a("h3",{attrs:{id:"配置vty-telnet-ssh-访问限制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置vty-telnet-ssh-访问限制"}},[t._v("#")]),t._v(" 配置VTY(Telnet/SSH) 访问限制")]),t._v(" "),a("p",[t._v("对于大型路由器，要禁止用户以Telnet或SSH方式访问它可能很难，因为每个活动接口都允许VTY访问。可创建一个扩展IP访问控制列表，禁止访问路由器的每个地址。但如果真的这样做，必须将其应用于每个接口的入站方向，对于有数十甚至数百个接口的大型路由器来说，这种解决方案的可扩展性太低了。另外，如果每台路由器都对每个分组进行检查，以防它访问VTY线路，导致的网络延迟将很大。")]),t._v(" "),a("blockquote",[a("p",[t._v("一种更好的解决方案是，使用标准访问控制列表来控制对VTY线路的访问。这种解决方案为何可行呢?因为将访问控制列表应用于VTY线路时，不需要指定协议一一访问VTY就意味着以Telnet 或SSH 方式访问终端。也不需要指定目标地址，因为你不关心用户将哪个接口的地址用作Telnet会话的目标。你只需控制用户来自何方一他们的源IP地址。")]),t._v(" "),a("p",[t._v("要实现这项功能，需要如下步骤:")]),t._v(" "),a("p",[t._v("(1) 创建一个标准访问控制列表，它只允许你希望的主机远程登录到路由器。")]),t._v(" "),a("p",[t._v("(2) 使用命令"),a("code",[t._v("access-class in")]),t._v(" "),a("strong",[t._v("将该访问控制列表应用于VTY线路")]),t._v("。")]),t._v(" "),a("p",[t._v("下面的示例只允许主机172.16.10.3远程登录到路由器:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-list 50 permit host 172.16.10.3")]),t._v("\nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#line vty 0 4")]),t._v("\nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-line"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-class 50 in")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("blockquote",[a("ul",[a("li",[t._v("由于访问控制列表末尾有一条隐式的"),a("code",[t._v("deny any")]),t._v("语句，因此除172.16.10.3外的其他任何主机都不能远程登录到该路由器，而不管它将路由器的哪个IP地址用作目标。")]),t._v(" "),a("li",[t._v("在VTY线路上配置命令"),a("code",[t._v("access-class ACL_Num in")]),t._v("时，只会filter进入路由器的Telnet分组。")])])])]),t._v(" "),a("h3",{attrs:{id:"standard-acl示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#standard-acl示例"}},[t._v("#")]),t._v(" Standard ACL示例:")]),t._v(" "),a("h4",{attrs:{id:"基本示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本示例"}},[t._v("#")]),t._v(" 基本示例")]),t._v(" "),a("img",{staticStyle:{zoom:"70%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202207111021777.png",alt:"image-20220711102123628"}}),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_A"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#config t")]),t._v("\nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-list 10 deny 172.16.40.0 0.0.0.255")]),t._v("\nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-list 10 permit any")]),t._v("\n\nLab_ACconfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#int faO/1")]),t._v("\nLab_ACconfig-if"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ip access-group 10 out")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h4",{attrs:{id:"configuring-numbered-acls-with-subcommands"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuring-numbered-acls-with-subcommands"}},[t._v("#")]),t._v(" Configuring numbered ACLs with subcommands")]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191921317.png",alt:"image-20230419192121993"}}),t._v(" "),a("h4",{attrs:{id:"delete-insert-ace-in-named-acl-config-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-insert-ace-in-named-acl-config-mode"}},[t._v("#")]),t._v(" Delete/Insert ACE in "),a("strong",[t._v("named ACL config mode")])]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("you can easily delete individual ACE with "),a("code",[t._v("no Sequence_Num")]),t._v(";")])]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191924969.png",alt:"image-20230419192410769"}}),t._v(" "),a("ul",[a("li",[t._v("You can insert new entries in between other entries by specifying the sequence number.")])]),t._v(" "),a("img",{staticStyle:{zoom:"40%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191926354.png",alt:"image-20230419192644150"}})]),t._v(" "),a("h4",{attrs:{id:"resequencing-acls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resequencing-acls"}},[t._v("#")]),t._v(" Resequencing ACLs")]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304191931071.png",alt:"image-20230419193106763"}}),t._v(" "),a("h3",{attrs:{id:"extended-acl示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extended-acl示例"}},[t._v("#")]),t._v(" Extended ACL示例")]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304192002650.png",alt:"image-20230419200211289"}}),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304192003395.png",alt:"image-20230419200324120"}}),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304192004290.png",alt:"image-20230419200426011"}}),t._v(" "),a("img",{staticStyle:{zoom:"35%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304192004046.png",alt:"image-20230419200454844"}}),t._v(" "),a("img",{staticStyle:{zoom:"45%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304192005376.png",alt:"image-20230419200539203"}}),t._v(" "),a("h3",{attrs:{id:"named-acls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#named-acls"}},[t._v("#")]),t._v(" Named ACLs")]),t._v(" "),a("blockquote",[a("p",[t._v("命名访问控制列表让你能够使用命名来创建和应用标准和扩展访问控制列表，它们没有什么独特之处，只是让你能够以易于理解的方式引用它们。另外，在语法方面也存在细微的差别。")]),t._v(" "),a("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220627142049065.png",alt:"image-20220627142049065"}})]),t._v(" "),a("blockquote",[a("p",[t._v("下面为图12.2所示的网络重新创建标准访问控制列表，但使用命名访问控制列表:")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202207102111496.png",alt:"image-20220710211146327"}})]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_A"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#config t")]),t._v("\nEnter configuration commands, one per line. End with CNTL/Z.\nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ip access-list ?   # ip access-list, not access-list. This allows me to enter a named access list")]),t._v("\n  extended Extended Acc\n  logging Control access list logging\n  standard Standard Access List\nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ip access-list standard ?")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("-9"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" Standard IP access-list number\n  WORD Access-list name\n  \nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ip access-list standard BlockSales")]),t._v("\nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-std-nacl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ?")]),t._v("\nStandard Access List configuration commands:\n  default Set a "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" to its defaults\n  deny Specify packets to reject\n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" Exit from access-list configuration mode\n  no Negate a "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" or "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" its defaults\n  permit Specify packets to forward\n\nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-std-nacl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#deny 172.16.40.0 0.0.0.255")]),t._v("\nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-std-nacl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#permit any")]),t._v("\nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-std-nacl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#exit")]),t._v("\nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#^Z")]),t._v("\nLab_A"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#show running-config")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ip")]),t._v(" access-list standard BlockSales\n  deny "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.16")]),t._v(".40.0 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.255\n  permit any\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nLab_A"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#config t")]),t._v("\nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#int fa0/1")]),t._v("\nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-if"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ip access-group BlockSales out")]),t._v("\nLab_A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-if"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#^Z")]),t._v("\nLab_A"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br")])])]),t._v(" "),a("h3",{attrs:{id:"给acl添加注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#给acl添加注释"}},[t._v("#")]),t._v(" 给ACL添加注释")]),t._v(" "),a("blockquote",[a("p",[t._v("要在标准和扩展ACL添加注释，只需使用全局配置命令"),a("code",[t._v("access-list access-list number remark 注释")]),t._v("; 要删除注释，可使用该命令的"),a("code",[t._v("no ...")]),t._v("版本。")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 方式一")]),t._v("\nR2"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#config t")]),t._v("\nR2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-list 110 remark Permit Bob from Sales Only To Finance")]),t._v("\nR2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-list 110 permit ip host 172.16.40.1 172.16.50.0 0.0.0.255")]),t._v("\nR2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-list 110 deny ip 172.16.40.0 0.0.0.255 172.16.50.0 0.0.0.255")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 方式二")]),t._v("\nR2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ip access-list extended No_Telnet")]),t._v("\nR2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-ext-nacl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#remark Deny all of Sales from Telnetting to Marketing")]),t._v("\nR2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-ext-nacl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#deny tcp 172.16.40.0 0.0.0.255 172.16.60.0 0.0.0.255 eq 23")]),t._v("\nR2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-ext-nacl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#permit ip any any")]),t._v("\n\nR2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-ext-nacl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#do show run   # 只能在配置中看到注释")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("output cut"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ip")]),t._v(" access-list extended No_Telnet\n   remark Stop all of Sales from Telnetting to Marketing\n   deny tcp "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.16")]),t._v(".40.0 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.255 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.16")]),t._v(".60.0 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.255 eq telnet\n   permit "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ip")]),t._v(" any any\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n   access-list "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("110")]),t._v(" remark Permit Bob from Sales Only To Finance\n   access-list "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("110")]),t._v(" permit "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ip")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.16")]),t._v(".40.1 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.16")]),t._v(".50.0 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.255\n   access-list "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("110")]),t._v(" deny "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ip")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.16")]),t._v(".40.0 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.255 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.16")]),t._v(".50.0 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.255\n   access-list "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("110")]),t._v(" permit "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ip")]),t._v(" any any\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br")])])]),t._v(" "),a("h2",{attrs:{id:"turning-off-and-configuring-network-services"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#turning-off-and-configuring-network-services"}},[t._v("#")]),t._v(" Turning Off and Configuring Network Services")]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("默认情况下，思科IOS运行了一些不必要的服务，如果不禁用它们，它们很可能成为"),a("code",[t._v("拒绝服务(DoS)")]),t._v("攻击的目标。")]),t._v(" "),a("li",[t._v("DoS 攻击是最常见的黑客攻击，这种攻击最容易发动。")]),t._v(" "),a("li",[t._v("为实时防范DoS攻击，并将攻击网络的企图记录到日志, 可使用软件和硬件工具，如==入侵检测系统(IDS)== 和==入侵防范系统(IPS)==。然而，如果不能实现IDS/IPS，可在路由器上执行一些基本命令，让路由器更安全，但没有任何措施可确保当今的网络绝对安全。")])])]),t._v(" "),a("h3",{attrs:{id:"dos攻击和-ddos攻击"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dos攻击和-ddos攻击"}},[t._v("#")]),t._v(" DOS攻击和 DDoS攻击")]),t._v(" "),a("blockquote",[a("h5",{attrs:{id:"dos-denial-of-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dos-denial-of-service"}},[t._v("#")]),t._v(" DoS(Denial of Service):")]),t._v(" "),a("ul",[a("li",[t._v("DOS（拒绝服务）攻击是一种网络攻击，旨在通过超载目标计算机或网络资源来使其无法正常工作。攻击者通过向目标计算机或网络发送大量的请求或流量，使其服务器的带宽/CPU等资源耗尽，从而无法响应合法用户的请求。")]),t._v(" "),a("li",[t._v("常见的DOS攻击包括Ping洪水攻击，SYN洪水攻击和UDP洪水攻击。这些攻击方式都是通过向目标计算机或网络发送大量的请求或流量来占用其资源。")]),t._v(" "),a("li",[t._v("DOS攻击可能会导致网络延迟、服务中断和系统崩溃，这会给受攻击的组织带来很大的损失。")])]),t._v(" "),a("h5",{attrs:{id:"ddos-distributed-dos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ddos-distributed-dos"}},[t._v("#")]),t._v(" DDoS(Distributed DoS):")]),t._v(" "),a("ul",[a("li",[t._v("DDOS（分布式拒绝服务）攻击是一种更加复杂和危险的网络攻击，它与DOS攻击类似，但使用了多个来源的计算机或设备来发起攻击，使其更难以防御和追踪。")]),t._v(" "),a("li",[t._v("在DDOS攻击中，攻击者通常通过使用恶意软件将大量计算机或设备控制在其控制下，这些被控制的设备被称为“僵尸网络”或“肉鸡”。攻击者通过这些“僵尸”设备向目标计算机或网络发送大量的请求或流量，超出其处理能力的范围，从而导致服务中断。")]),t._v(" "),a("li",[t._v("DDOS攻击通常比DOS攻击更难以防御，因为攻击流量来自多个来源，很难通过简单的防御措施来过滤掉。防御DDOS攻击需要采取更复杂和高级的安全措施，如流量过滤、负载均衡和云安全服务等。")])])]),t._v(" "),a("h3",{attrs:{id:"blocking-snmp-packets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#blocking-snmp-packets"}},[t._v("#")]),t._v(" Blocking SNMP Packets")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[t._v("思科IOS默认允许从任何地方远程接入，生产环境中要对远程接入进行限制。否则，路由器很容易成为非法登录者的攻击目标。")])]),t._v(" "),a("li",[a("p",[t._v("通过在外围路由器的接口serialO/O 上配置如下命令，可禁止任何SNMP 分组进入该路由器和DMZ\n(要让这个访问控制列表真正发挥作用，还需添加→条permit 语句，但这只是一个示例而已):")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-list 110 deny udp any any eq snmp")]),t._v("\nLab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#interface sO/O")]),t._v("\nLab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-if"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access-group 110 in")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])])])]),t._v(" "),a("h3",{attrs:{id:"disabling-echo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disabling-echo"}},[t._v("#")]),t._v(" Disabling Echo")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[t._v("默认情况下，思科路由器启用了一系列诊断端口，运行一些对诊断很有帮助的小型服务(它们是服务器或后台程序), 以提供一些UDP和TCP服务，这包括echo、chargen 和discard. 主机连接到这些端口后，将占用少量CPU以响应相关的请求。只需使用一台攻击设备发送大量请求(这些请求使用伪造的随机源IP地址)，就可让路由器不堪重负，使其响应缓慢甚至崩溃。")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[t._v("TCP 小型服务包括以下几种。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("echo: 回显输入的内容。要查看相关的选项，请执行命令telnet x.x.x.x echo ?")])]),t._v(" "),a("li",[a("p",[t._v("chargen: 生成ASCII 数据流。要查看相关的选项，请执行命令telnet x.x.x.x chargen ?")])]),t._v(" "),a("li",[a("p",[t._v("discard: 丢弃输入的内容。要查看相关的选项，请执行命令telnetx.x.x.x discard ?")])]),t._v(" "),a("li",[a("p",[t._v("daytime: 返回系统日期和时间一一如果运行了NTP或在EXEC模式下手工设置了日期和时间，它们就是正确的。要查看相关的选项，请执行命令telnet x.x.x.x daytime ?")])])])]),t._v(" "),a("li",[a("p",[t._v("UDP 小型服务包括以下几种。")]),t._v(" "),a("ul",[a("li",[t._v("echo: 回显发送的数据报的有效负载。")]),t._v(" "),a("li",[t._v("discard: 悄悄地丢弃发送的数据报。")]),t._v(" "),a("li",[t._v("chargen: 丢弃发送的数据报，并以一个字符串响应，该字符串包含72 个ASCII 字符，并以 CR+LF 结尾。")])])])])])]),t._v(" "),a("li",[a("p",[t._v("为防范chargen攻击，可配置如下命令:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no service tcp-small-servers")]),t._v("\nLab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("confìg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no service udp-small-servers")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("finger是一个实用程序，允许因特网上的Unix主机用户能够彼此获取对方的信息，应禁用这项服务:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no service finger   # finger命令可用来获取有关网络中所有用户和路由器的信息; finger 是一个远程执行的命令，其效果与在路由器上执行命令show users相同。")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])])])]),t._v(" "),a("h3",{attrs:{id:"turning-off-bootp-and-auto-config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#turning-off-bootp-and-auto-config"}},[t._v("#")]),t._v(" Turning off BootP and Auto-Config")]),t._v(" "),a("blockquote",[a("p",[t._v("默认情况下，思科路由器也提供异步线路BootP服务以及远程自动配置服务。要在思科路由器上禁用这些功能，可使用如下命令:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no ip boot server")]),t._v("\nLab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no service config")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("h3",{attrs:{id:"disabling-the-http-interface"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disabling-the-http-interface"}},[t._v("#")]),t._v(" Disabling the HTTP Interface")]),t._v(" "),a("blockquote",[a("p",[t._v("对配置和监视路由器来说，命令ip http server 可能很有用，但ππp 的明文特征显然是一种安全风险。要在路由器上禁用HTIP 进程，可使用如下命令:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no ip http server")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("要在路由器上启用Hπ? 服务器，以支持AAA ，可使用全局配置命令 "),a("code",[t._v("ip http server")]),t._v(" 。")])]),t._v(" "),a("h3",{attrs:{id:"disabling-ip-source-routing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disabling-ip-source-routing"}},[t._v("#")]),t._v(" Disabling IP Source Routing")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[t._v("IP报头包含一个源路由( source-route )选项，让源IP主机可指定分组穿越IP网络时采用的路由。在启用了源路由选择的情况下，分组将被转发到其源路由选项指定的路由器地址。")])]),t._v(" "),a("li",[a("p",[t._v("要禁用根据报头中的源路由选项来处理分组，可使用如下命令:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no ip source-route")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])])])]),t._v(" "),a("h3",{attrs:{id:"disabling-proxy-arp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disabling-proxy-arp"}},[t._v("#")]),t._v(" Disabling Proxy ARP")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[t._v('代理ARP是这样一种技术，即由一台主机(通常是路由器)来响应发送给其他设备的ARP请求。通过"伪造"身份，路由器承担了将这些分组转发给"实际"目的地的职责。代理ARP可让主机到达远程子网，而无需配置路由选择或默认网关。')])]),t._v(" "),a("li",[a("p",[t._v("要禁用代理ARP ，可使用下面的命令:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#interface faO/O")]),t._v("\nLab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-if"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no ip proxy-arp")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])])])]),t._v(" "),a("h3",{attrs:{id:"disabling-redirect-messages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disabling-redirect-messages"}},[t._v("#")]),t._v(" Disabling Redirect Messages")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[t._v("路由器使用ICMP重定向消息来告诉主机，有一条前往特定目的地的路由更好。")])]),t._v(" "),a("li",[a("p",[t._v("为禁用重定向消息，以防坏人根据这种信息推断出网络拓扑，可使用如下命令:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#interface sO/O")]),t._v("\nLab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config斗f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no ip redirects")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("请在路由器的所有接口上配置该命令。然而，需要知道的是，这样做后，合法的用户数据流可能采用次优路由。因此，禁用这项功能时要谨慎。")])])])]),t._v(" "),a("h3",{attrs:{id:"disabling-the-generation-of-icmp-unreachable-messages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disabling-the-generation-of-icmp-unreachable-messages"}},[t._v("#")]),t._v(" Disabling the Generation of ICMP Unreachable Messages")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[t._v("要防止外围路由器告诉外部哪些子网不存在，进而泄露拓扑信息，可使用命令``no ip unreachables`。")])]),t._v(" "),a("li",[a("p",[t._v("应在连接到外部的所有路由器接口上都配置这个命令:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#interface sO/O")]),t._v("\nLab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-if"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no ip unreachables")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])])])]),t._v(" "),a("h3",{attrs:{id:"disabling-multicast-route-caching"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disabling-multicast-route-caching"}},[t._v("#")]),t._v(" Disabling Multicast Route Caching")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[t._v("组播路由缓存列出了组播路由选择缓存条目，这些分组可被人读取，带来了安全威胁。")])]),t._v(" "),a("li",[a("p",[t._v("要禁用组播路由缓存，可使用如下命令:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#interface sO/O")]),t._v("\nLab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-if"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no ip mroute-cache")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])])])]),t._v(" "),a("h3",{attrs:{id:"disabling-the-maintenance-operation-protocol-mop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disabling-the-maintenance-operation-protocol-mop"}},[t._v("#")]),t._v(" Disabling the ==Maintenance Operation Protocol (MOP)==")]),t._v(" "),a("blockquote",[a("p",[t._v("维护操作协议(Maintenance Operation Protocol，MOP) 是DECnet协议族中的一种协议，运行在数据链路层和网络层，供上传和下载系统软件、远程测试和故障诊断等服务使用, 但 DECnet协议已不再使用:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#interface sO/O")]),t._v("\nLab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config-if"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no mop enab1ed")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("h3",{attrs:{id:"turning-off-the-x-25-pad-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#turning-off-the-x-25-pad-service"}},[t._v("#")]),t._v(" Turning Off the ==X.25 PAD Service==")]),t._v(" "),a("blockquote",[a("p",[t._v("分组拆装器( Packet AssemblerlDisassembler, PAD) 将终端和计算机等异步设备连接到公共/私有X.25 网络。鉴于当前的每台计算机都使用IP，X.25 经淘汰了，因此没有理由运行该服务。要禁用PAD服务，可使用如下命令:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no service pad")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("h3",{attrs:{id:"enabling-the-nagle-tcp-congestion-algorithm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enabling-the-nagle-tcp-congestion-algorithm"}},[t._v("#")]),t._v(" Enabling the ==Nagle TCP== Congestion Algorithm")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[t._v("NagleTCP 拥塞算法避免小型分组导致的拥塞很有用，但如果使用的MTU设置比默认值(1500B)大，这种算法可能导致负载超过平均水平。")])]),t._v(" "),a("li",[a("p",[t._v("要启用该服务，可使用如下命令:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#service nagle")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("需要知道的是， Nagle 拥塞服务可能导致到Xserver 的XWindow 连接断开，因此如果使用的是XWindow, 请不要启用该服务。")])])])]),t._v(" "),a("h3",{attrs:{id:"logging-every-event"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#logging-every-event"}},[t._v("#")]),t._v(" Logging Every Event")]),t._v(" "),a("blockquote",[a("p",[t._v("用作Syslog服务器时，思科ACS服务器可将事件写入日志。要启用这项功能，可使用命令"),a("code",[t._v("logging trap debugging")]),t._v(" (或"),a("code",[t._v("logging trap level")]),t._v(") 和"),a("code",[t._v("logging ip_address")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#logging trap debugging")]),t._v("\nLab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#logging 192.168.254.251")]),t._v("\nLab_B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#exit")]),t._v("\nLab_B"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#show logging  # 有关路由器日志配置的统计信息")]),t._v("\n    Syslog logging: enabled "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" messages dropped, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" flushes, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" overruns"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Console logging: level debugging, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(" messages logged\n    Monitor logging: level debugging, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" messages logged\n    Buffer logging: disabled\n    Trap logging: level debugging, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(" message lines logged\n    Logging to "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".254.251, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" message lines logged\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])])]),t._v(" "),a("h3",{attrs:{id:"disabling-cisco-discovery-protocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disabling-cisco-discovery-protocol"}},[t._v("#")]),t._v(" Disabling ==Cisco Discovery Protocol==")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[t._v("思科发现协议(CDP)发现直接相连的思科网络设备，这是一种思科专用协议。然而，由于它是一种数据链路层协议，因此无法发现路由器另一边的思科设备。另外，默认情况下，思科交换机不转发CDP分组，因此无法发现交换机端口连接的思科设备。")])]),t._v(" "),a("li",[a("p",[t._v("组建网络时，CDP确实很有用。但熟悉该网络并编写文档后，就不再需要CDP了。鉴于CDP可用于发现网络中的思科路由器和交换机，应将其禁用:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_BCconfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no cdp run  # 可在全局配置模式下设置，这将在交换机或路由器上完全关闭CDP")]),t._v("\n                    \nLab_BCconfig-if"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#no cdp enab1e  # 也可以在每个接口上禁用CDP")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])])])]),t._v(" "),a("h3",{attrs:{id:"disabling-the-default-forwarded-udp-protocols"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disabling-the-default-forwarded-udp-protocols"}},[t._v("#")]),t._v(" Disabling the ==Default Forwarded UDP Protocols==")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[t._v("在接口上配置命令"),a("code",[t._v("ip helper-address")]),t._v("后，路由器将把UDP广播转发到指定的服务器:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("Lab_BCconfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#interface fO/O")]),t._v("\nLab_BCconfig-if"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ip helper-address 192.168.254.251")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("ul",[a("li",[t._v("在需要将DHCP客户端请求转发给DHCP服务器时，通常使用命令"),a("code",[t._v("ip helper-address")]),t._v("。但问题是，这不仅会转发前往端口67的分组(BOOTP服务器请求)，默认还会转发前往其他7个端口的分组。要禁止转发前往这些端口的分组，可使用如下命令:")])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code")]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"})])])]),t._v(" "),a("p",[t._v("Lab_BCconfig)#no ip forward-protocol udp 69\nLab_BCconfig)#no ip forward-protocol udp 53\nLab_BCconfig)#no ip forward-protocol udp 37\nLab_BCconfig)#no ip forward-protocol udp 137\nLab_BCconfig)#no ip forward-prococo1 udp 138\nLab_BCconfig)#no ip forward-protocol udp 68\nLab_BCconfig)#no ip forward-protocol udp 49\n```")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("如果要转发前往特定端口的分组(如TACACS+分组)，可使用如下命令:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v(" Lab_BCconfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ip forward-protocol udp 49")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])])])]),t._v(" "),a("h3",{attrs:{id:"cisco-s-auto-secure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cisco-s-auto-secure"}},[t._v("#")]),t._v(" Cisco’s ==Auto Secure==")]),t._v(" "),a("blockquote",[a("p",[t._v("关闭前面讨论的所有服务需要做的工作量很大，思科提供的解决方案只需要一个命令以及后续交互式配置, 即可实现自动化安全配置:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("R1"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#auto secure")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("h2",{attrs:{id:"monitoring-access-lists"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#monitoring-access-lists"}},[t._v("#")]),t._v(" Monitoring Access Lists")]),t._v(" "),a("img",{staticStyle:{zoom:"73%"},attrs:{src:"https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202207111322837.png",alt:"image-20220711132243623"}})])}),[],!1,null,null,null);s.default=e.exports}}]);