<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Layer 3 FHRPs | Jonas Wolfxin Blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <noscript><meta http-equiv="refresh" content="0; url=https://www.youngkbt.cn/noscript/"><style>.theme-vdoing-content { display:none }</noscript>
    <script>var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?267c5680c2ffb468ca29c45ffe6801da"; 
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
          })();
          </script>
    <meta name="description" content="Jonas Wolfxin个人博客, VuePress搭建, 使用了 Vdoing 主题, 学习Java, Web, 框架, 微服务, 工具, 前端等相关知识, 记录生活和技术路程, 同时分享编程技巧。">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="Jonas Wolfxin个人博客, VuePress搭建, 学习Java、Web、框架、微服务、工具、前端等相关知识, 记录生活和技术路程。">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.7d3fc896.css" as="style"><link rel="preload" href="/assets/js/app.d858ddbb.js" as="script"><link rel="preload" href="/assets/js/2.309e711a.js" as="script"><link rel="preload" href="/assets/js/143.ca56fc45.js" as="script"><link rel="preload" href="/assets/js/16.acd3428d.js" as="script"><link rel="preload" href="/assets/js/8.5b4b6c67.js" as="script"><link rel="preload" href="/assets/js/10.58f97cc7.js" as="script"><link rel="preload" href="/assets/js/17.0b7a5267.js" as="script"><link rel="prefetch" href="/assets/js/100.a245150c.js"><link rel="prefetch" href="/assets/js/101.dc21b366.js"><link rel="prefetch" href="/assets/js/102.d5a6dfd2.js"><link rel="prefetch" href="/assets/js/103.7675e438.js"><link rel="prefetch" href="/assets/js/104.08bff44e.js"><link rel="prefetch" href="/assets/js/105.8bf552ad.js"><link rel="prefetch" href="/assets/js/106.b3388dcc.js"><link rel="prefetch" href="/assets/js/107.708d16a8.js"><link rel="prefetch" href="/assets/js/108.8d67c3a1.js"><link rel="prefetch" href="/assets/js/109.adb072ef.js"><link rel="prefetch" href="/assets/js/11.1cff9f55.js"><link rel="prefetch" href="/assets/js/110.6a33e945.js"><link rel="prefetch" href="/assets/js/111.5b6daef7.js"><link rel="prefetch" href="/assets/js/112.30fa856b.js"><link rel="prefetch" href="/assets/js/113.2bea19a6.js"><link rel="prefetch" href="/assets/js/114.78693b98.js"><link rel="prefetch" href="/assets/js/115.24b2f36f.js"><link rel="prefetch" href="/assets/js/116.121c60d7.js"><link rel="prefetch" href="/assets/js/117.c2a343f1.js"><link rel="prefetch" href="/assets/js/118.4f472067.js"><link rel="prefetch" href="/assets/js/119.24255046.js"><link rel="prefetch" href="/assets/js/12.bca3c221.js"><link rel="prefetch" href="/assets/js/120.c049d4ee.js"><link rel="prefetch" href="/assets/js/121.27c7097d.js"><link rel="prefetch" href="/assets/js/122.89ae0c7e.js"><link rel="prefetch" href="/assets/js/123.92ff168d.js"><link rel="prefetch" href="/assets/js/124.42567e10.js"><link rel="prefetch" href="/assets/js/125.3bd92459.js"><link rel="prefetch" href="/assets/js/126.ce3b5ff1.js"><link rel="prefetch" href="/assets/js/127.62073e16.js"><link rel="prefetch" href="/assets/js/128.1e61e62d.js"><link rel="prefetch" href="/assets/js/129.1abfd9a0.js"><link rel="prefetch" href="/assets/js/13.fd509ce7.js"><link rel="prefetch" href="/assets/js/130.fd10656f.js"><link rel="prefetch" href="/assets/js/131.739a70c7.js"><link rel="prefetch" href="/assets/js/132.aead2e49.js"><link rel="prefetch" href="/assets/js/133.c996494c.js"><link rel="prefetch" href="/assets/js/134.3f032f05.js"><link rel="prefetch" href="/assets/js/135.c35c5612.js"><link rel="prefetch" href="/assets/js/136.b1a52d43.js"><link rel="prefetch" href="/assets/js/137.f6c998f0.js"><link rel="prefetch" href="/assets/js/138.5165a511.js"><link rel="prefetch" href="/assets/js/139.84e0898b.js"><link rel="prefetch" href="/assets/js/14.9a0c9450.js"><link rel="prefetch" href="/assets/js/140.f85c3c58.js"><link rel="prefetch" href="/assets/js/141.1b18b352.js"><link rel="prefetch" href="/assets/js/142.61b694c2.js"><link rel="prefetch" href="/assets/js/144.634fc96a.js"><link rel="prefetch" href="/assets/js/145.7db28ded.js"><link rel="prefetch" href="/assets/js/146.0e801c74.js"><link rel="prefetch" href="/assets/js/147.26faa263.js"><link rel="prefetch" href="/assets/js/148.927832d5.js"><link rel="prefetch" href="/assets/js/149.8755eb42.js"><link rel="prefetch" href="/assets/js/15.d3755cc5.js"><link rel="prefetch" href="/assets/js/150.906609e5.js"><link rel="prefetch" href="/assets/js/151.7a52439b.js"><link rel="prefetch" href="/assets/js/152.c822b1fb.js"><link rel="prefetch" href="/assets/js/153.593575cc.js"><link rel="prefetch" href="/assets/js/154.2a16d8e7.js"><link rel="prefetch" href="/assets/js/155.6a18c733.js"><link rel="prefetch" href="/assets/js/156.bb65d909.js"><link rel="prefetch" href="/assets/js/157.862f6419.js"><link rel="prefetch" href="/assets/js/158.db76ed26.js"><link rel="prefetch" href="/assets/js/159.0f0b1ee8.js"><link rel="prefetch" href="/assets/js/160.8f421d08.js"><link rel="prefetch" href="/assets/js/161.4a521888.js"><link rel="prefetch" href="/assets/js/162.601dbfca.js"><link rel="prefetch" href="/assets/js/163.d76b166d.js"><link rel="prefetch" href="/assets/js/164.99b00d17.js"><link rel="prefetch" href="/assets/js/165.7809f82c.js"><link rel="prefetch" href="/assets/js/166.b29e508c.js"><link rel="prefetch" href="/assets/js/167.71af6bb1.js"><link rel="prefetch" href="/assets/js/168.aad10cfc.js"><link rel="prefetch" href="/assets/js/169.d807fd76.js"><link rel="prefetch" href="/assets/js/170.8cd1462a.js"><link rel="prefetch" href="/assets/js/171.ecbf63cf.js"><link rel="prefetch" href="/assets/js/172.e75cd345.js"><link rel="prefetch" href="/assets/js/173.1ab612d0.js"><link rel="prefetch" href="/assets/js/174.2366c5d2.js"><link rel="prefetch" href="/assets/js/175.50c5731b.js"><link rel="prefetch" href="/assets/js/176.ac8ad112.js"><link rel="prefetch" href="/assets/js/177.1abcf5d4.js"><link rel="prefetch" href="/assets/js/178.b937dacc.js"><link rel="prefetch" href="/assets/js/179.b6fa0b6d.js"><link rel="prefetch" href="/assets/js/18.64b7e666.js"><link rel="prefetch" href="/assets/js/180.e4a8bc36.js"><link rel="prefetch" href="/assets/js/181.b916da57.js"><link rel="prefetch" href="/assets/js/182.27a2bdb4.js"><link rel="prefetch" href="/assets/js/183.dcb4d635.js"><link rel="prefetch" href="/assets/js/184.820c8f5f.js"><link rel="prefetch" href="/assets/js/185.6654f558.js"><link rel="prefetch" href="/assets/js/186.2749179c.js"><link rel="prefetch" href="/assets/js/187.a301fd95.js"><link rel="prefetch" href="/assets/js/188.3a9e3226.js"><link rel="prefetch" href="/assets/js/189.5f2b0e83.js"><link rel="prefetch" href="/assets/js/19.7a102d25.js"><link rel="prefetch" href="/assets/js/190.76dc6e42.js"><link rel="prefetch" href="/assets/js/191.b6c01ef6.js"><link rel="prefetch" href="/assets/js/192.bd87e976.js"><link rel="prefetch" href="/assets/js/193.e3b20021.js"><link rel="prefetch" href="/assets/js/194.d83d205c.js"><link rel="prefetch" href="/assets/js/195.e53e330d.js"><link rel="prefetch" href="/assets/js/196.1fd35397.js"><link rel="prefetch" href="/assets/js/197.cb0858f8.js"><link rel="prefetch" href="/assets/js/198.651004c0.js"><link rel="prefetch" href="/assets/js/199.4a4a16ae.js"><link rel="prefetch" href="/assets/js/20.2e6fe8d4.js"><link rel="prefetch" href="/assets/js/200.0347a232.js"><link rel="prefetch" href="/assets/js/201.77c9f572.js"><link rel="prefetch" href="/assets/js/202.6f66fc82.js"><link rel="prefetch" href="/assets/js/203.c12f2fd1.js"><link rel="prefetch" href="/assets/js/204.0b74eb4e.js"><link rel="prefetch" href="/assets/js/205.82129b16.js"><link rel="prefetch" href="/assets/js/206.0240cea0.js"><link rel="prefetch" href="/assets/js/207.d2d2dd99.js"><link rel="prefetch" href="/assets/js/208.f1073a08.js"><link rel="prefetch" href="/assets/js/209.3b1e4cbe.js"><link rel="prefetch" href="/assets/js/21.179bedf0.js"><link rel="prefetch" href="/assets/js/210.b8b67413.js"><link rel="prefetch" href="/assets/js/211.455c8e40.js"><link rel="prefetch" href="/assets/js/212.8735e669.js"><link rel="prefetch" href="/assets/js/213.f77fefc5.js"><link rel="prefetch" href="/assets/js/214.97d827be.js"><link rel="prefetch" href="/assets/js/215.bc08fe35.js"><link rel="prefetch" href="/assets/js/216.fa811698.js"><link rel="prefetch" href="/assets/js/217.b965b7c6.js"><link rel="prefetch" href="/assets/js/218.6a91db8b.js"><link rel="prefetch" href="/assets/js/219.fb3d8166.js"><link rel="prefetch" href="/assets/js/22.8268ce6e.js"><link rel="prefetch" href="/assets/js/220.1577cda2.js"><link rel="prefetch" href="/assets/js/221.ceea7cea.js"><link rel="prefetch" href="/assets/js/222.3985b121.js"><link rel="prefetch" href="/assets/js/223.40f0edd0.js"><link rel="prefetch" href="/assets/js/224.bcdfffa8.js"><link rel="prefetch" href="/assets/js/225.13252b88.js"><link rel="prefetch" href="/assets/js/226.2afd6de5.js"><link rel="prefetch" href="/assets/js/227.39e5b8f1.js"><link rel="prefetch" href="/assets/js/228.f24cb5b5.js"><link rel="prefetch" href="/assets/js/229.582f76a9.js"><link rel="prefetch" href="/assets/js/23.3b76f2ef.js"><link rel="prefetch" href="/assets/js/230.50a93474.js"><link rel="prefetch" href="/assets/js/231.063e02af.js"><link rel="prefetch" href="/assets/js/232.08153e5d.js"><link rel="prefetch" href="/assets/js/233.e8a2f480.js"><link rel="prefetch" href="/assets/js/234.4e784ee0.js"><link rel="prefetch" href="/assets/js/235.fe1262b2.js"><link rel="prefetch" href="/assets/js/236.5b6a52cf.js"><link rel="prefetch" href="/assets/js/237.36fae37d.js"><link rel="prefetch" href="/assets/js/238.7369ac7a.js"><link rel="prefetch" href="/assets/js/239.7fff287f.js"><link rel="prefetch" href="/assets/js/24.7c6b119c.js"><link rel="prefetch" href="/assets/js/240.96b67d8a.js"><link rel="prefetch" href="/assets/js/241.6cca43be.js"><link rel="prefetch" href="/assets/js/242.063840f3.js"><link rel="prefetch" href="/assets/js/243.e25e2acc.js"><link rel="prefetch" href="/assets/js/244.6058b76a.js"><link rel="prefetch" href="/assets/js/245.cab0cb5f.js"><link rel="prefetch" href="/assets/js/246.38dba8a1.js"><link rel="prefetch" href="/assets/js/247.58a45597.js"><link rel="prefetch" href="/assets/js/248.5cf1ad4c.js"><link rel="prefetch" href="/assets/js/249.691356bb.js"><link rel="prefetch" href="/assets/js/25.02fab98f.js"><link rel="prefetch" href="/assets/js/250.e2c83a35.js"><link rel="prefetch" href="/assets/js/251.80aa06df.js"><link rel="prefetch" href="/assets/js/252.a3e269d1.js"><link rel="prefetch" href="/assets/js/253.d11f6725.js"><link rel="prefetch" href="/assets/js/26.76ffb425.js"><link rel="prefetch" href="/assets/js/27.ce24313c.js"><link rel="prefetch" href="/assets/js/28.d8dbc96b.js"><link rel="prefetch" href="/assets/js/29.2b3bed04.js"><link rel="prefetch" href="/assets/js/3.d6952836.js"><link rel="prefetch" href="/assets/js/30.26988c7b.js"><link rel="prefetch" href="/assets/js/31.cc5781e4.js"><link rel="prefetch" href="/assets/js/32.80d8b83b.js"><link rel="prefetch" href="/assets/js/33.d97c7068.js"><link rel="prefetch" href="/assets/js/34.962f9100.js"><link rel="prefetch" href="/assets/js/35.23d8a044.js"><link rel="prefetch" href="/assets/js/36.6d349d82.js"><link rel="prefetch" href="/assets/js/37.b08f29c8.js"><link rel="prefetch" href="/assets/js/38.8b2bd27d.js"><link rel="prefetch" href="/assets/js/39.45a0b016.js"><link rel="prefetch" href="/assets/js/4.8b22777d.js"><link rel="prefetch" href="/assets/js/40.e6f6cb43.js"><link rel="prefetch" href="/assets/js/41.c756e119.js"><link rel="prefetch" href="/assets/js/42.bbc17b0f.js"><link rel="prefetch" href="/assets/js/43.8e0ce4ca.js"><link rel="prefetch" href="/assets/js/44.b91517af.js"><link rel="prefetch" href="/assets/js/45.416dfe4d.js"><link rel="prefetch" href="/assets/js/46.c00eeb87.js"><link rel="prefetch" href="/assets/js/47.29d200b3.js"><link rel="prefetch" href="/assets/js/48.7f066ab6.js"><link rel="prefetch" href="/assets/js/49.0e010fee.js"><link rel="prefetch" href="/assets/js/5.e6781b57.js"><link rel="prefetch" href="/assets/js/50.1bb477d0.js"><link rel="prefetch" href="/assets/js/51.66468406.js"><link rel="prefetch" href="/assets/js/52.5cf7fbd0.js"><link rel="prefetch" href="/assets/js/53.d6f04354.js"><link rel="prefetch" href="/assets/js/54.59ca865c.js"><link rel="prefetch" href="/assets/js/55.fb0ad69c.js"><link rel="prefetch" href="/assets/js/56.c47a2d12.js"><link rel="prefetch" href="/assets/js/57.f5d65bb3.js"><link rel="prefetch" href="/assets/js/58.c5761ef2.js"><link rel="prefetch" href="/assets/js/59.9fe56073.js"><link rel="prefetch" href="/assets/js/6.9b07e200.js"><link rel="prefetch" href="/assets/js/60.ee1a5c93.js"><link rel="prefetch" href="/assets/js/61.ed5a91fd.js"><link rel="prefetch" href="/assets/js/62.4c69d23d.js"><link rel="prefetch" href="/assets/js/63.a396c29b.js"><link rel="prefetch" href="/assets/js/64.6f39dd9c.js"><link rel="prefetch" href="/assets/js/65.4cb24e13.js"><link rel="prefetch" href="/assets/js/66.aad4aa20.js"><link rel="prefetch" href="/assets/js/67.36e86f95.js"><link rel="prefetch" href="/assets/js/68.cbcfb2e0.js"><link rel="prefetch" href="/assets/js/69.8f5b0c08.js"><link rel="prefetch" href="/assets/js/7.4d64b8e6.js"><link rel="prefetch" href="/assets/js/70.1e7d144f.js"><link rel="prefetch" href="/assets/js/71.77fb0b43.js"><link rel="prefetch" href="/assets/js/72.bf3bb5b9.js"><link rel="prefetch" href="/assets/js/73.e059a41d.js"><link rel="prefetch" href="/assets/js/74.cae09eb3.js"><link rel="prefetch" href="/assets/js/75.f89a6d2e.js"><link rel="prefetch" href="/assets/js/76.cfb3df08.js"><link rel="prefetch" href="/assets/js/77.f4fa62e6.js"><link rel="prefetch" href="/assets/js/78.464e83f6.js"><link rel="prefetch" href="/assets/js/79.71895252.js"><link rel="prefetch" href="/assets/js/80.58d501fe.js"><link rel="prefetch" href="/assets/js/81.948adca1.js"><link rel="prefetch" href="/assets/js/82.bfd7ff16.js"><link rel="prefetch" href="/assets/js/83.3920a558.js"><link rel="prefetch" href="/assets/js/84.d5b9372a.js"><link rel="prefetch" href="/assets/js/85.3be0afac.js"><link rel="prefetch" href="/assets/js/86.29f7272d.js"><link rel="prefetch" href="/assets/js/87.93a0bc8e.js"><link rel="prefetch" href="/assets/js/88.5be81cc2.js"><link rel="prefetch" href="/assets/js/89.bc9cad5d.js"><link rel="prefetch" href="/assets/js/9.dc7a3982.js"><link rel="prefetch" href="/assets/js/90.5ba7972c.js"><link rel="prefetch" href="/assets/js/91.6ca92166.js"><link rel="prefetch" href="/assets/js/92.cb997f9f.js"><link rel="prefetch" href="/assets/js/93.941f52c6.js"><link rel="prefetch" href="/assets/js/94.c34116e0.js"><link rel="prefetch" href="/assets/js/95.0aa6895c.js"><link rel="prefetch" href="/assets/js/96.fd230ec0.js"><link rel="prefetch" href="/assets/js/97.375c63c2.js"><link rel="prefetch" href="/assets/js/98.5f4889ea.js"><link rel="prefetch" href="/assets/js/99.476bd54f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7d3fc896.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/index/logo.png" alt="Jonas Wolfxin Blog" class="logo"> <span class="site-name can-hide">Jonas Wolfxin Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home🏠</a></div><div class="nav-item"><a href="/navigation/" class="nav-link">Navigation🧭</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><a href="/front/" class="link-title">Front End</a> <span class="title" style="display:none;">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Basics</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>Frame</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/vue2/" class="nav-link">Vue2</a></li><li class="dropdown-subitem"><a href="/vue3/" class="nav-link">Vue3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Database" class="dropdown-title"><a href="/database/" class="link-title">Database</a> <span class="title" style="display:none;">Database</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/postgresql/" class="nav-link">PostgreSQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/es/" class="nav-link">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/mongodb/" class="nav-link">MongoDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/pythonstrdy/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python_basics/" class="nav-link">Python Basics</a></li><li class="dropdown-item"><!----> <a href="/python_advanced/" class="nav-link">Python Advanced</a></li><li class="dropdown-item"><!----> <a href="/python_projects/" class="nav-link">Python Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络运维" class="dropdown-title"><a href="/tool/" class="link-title">网络运维</a> <span class="title" style="display:none;">网络运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>CCNA</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/91ab17/" class="nav-link">CCNA知识</a></li><li class="dropdown-subitem"><a href="/pages/55766c/" class="nav-link">CCNA题库</a></li><li class="dropdown-subitem"><a href="/pages/f61749/" class="nav-link">Cisco NetAca</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/4f0673/" class="nav-link">Ansible</a></li><li class="dropdown-item"><h4>版本管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/docker/" class="nav-link">Docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><a href="/archives/" class="link-title">About</a> <span class="title" style="display:none;">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>This Blog</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">Archives</a></li></ul></li><li class="dropdown-item"><h4>About Me</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whell/web/" class="nav-link">Collection</a></li><li class="dropdown-subitem"><a href="/about/website/introduce/" class="nav-link">Introduction</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="星河万里" class="dropdown-title"><a href="/inGermany/" class="link-title">星河万里</a> <span class="title" style="display:none;">星河万里</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>德国驾照B级</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8a9dd0/" class="nav-link">理论准备</a></li><li class="dropdown-subitem"><a href="/pages/b79ef5/" class="nav-link">实践准备</a></li></ul></li><li class="dropdown-item"><h4>星河万里</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/bcf060/" class="nav-link">Vim操作</a></li><li class="dropdown-subitem"><a href="/pages/c11fcf/" class="nav-link">Gitemoji</a></li><li class="dropdown-subitem"><a href="/pages/055f2e/" class="nav-link">无妄经</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/message-board/" class="nav-link">MessageBoard📋</a></div> <a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202206092309359.png"> <div class="blogger-info"><h3>Jonas 林风</h3> <span>吾志所向，万夫不当；披荆斩棘，奋而继往。</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home🏠</a></div><div class="nav-item"><a href="/navigation/" class="nav-link">Navigation🧭</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><a href="/front/" class="link-title">Front End</a> <span class="title" style="display:none;">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Basics</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>Frame</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/vue2/" class="nav-link">Vue2</a></li><li class="dropdown-subitem"><a href="/vue3/" class="nav-link">Vue3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Database" class="dropdown-title"><a href="/database/" class="link-title">Database</a> <span class="title" style="display:none;">Database</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/postgresql/" class="nav-link">PostgreSQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/es/" class="nav-link">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/mongodb/" class="nav-link">MongoDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/pythonstrdy/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python_basics/" class="nav-link">Python Basics</a></li><li class="dropdown-item"><!----> <a href="/python_advanced/" class="nav-link">Python Advanced</a></li><li class="dropdown-item"><!----> <a href="/python_projects/" class="nav-link">Python Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络运维" class="dropdown-title"><a href="/tool/" class="link-title">网络运维</a> <span class="title" style="display:none;">网络运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>CCNA</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/91ab17/" class="nav-link">CCNA知识</a></li><li class="dropdown-subitem"><a href="/pages/55766c/" class="nav-link">CCNA题库</a></li><li class="dropdown-subitem"><a href="/pages/f61749/" class="nav-link">Cisco NetAca</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/4f0673/" class="nav-link">Ansible</a></li><li class="dropdown-item"><h4>版本管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/docker/" class="nav-link">Docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><a href="/archives/" class="link-title">About</a> <span class="title" style="display:none;">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>This Blog</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">Archives</a></li></ul></li><li class="dropdown-item"><h4>About Me</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whell/web/" class="nav-link">Collection</a></li><li class="dropdown-subitem"><a href="/about/website/introduce/" class="nav-link">Introduction</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="星河万里" class="dropdown-title"><a href="/inGermany/" class="link-title">星河万里</a> <span class="title" style="display:none;">星河万里</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>德国驾照B级</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8a9dd0/" class="nav-link">理论准备</a></li><li class="dropdown-subitem"><a href="/pages/b79ef5/" class="nav-link">实践准备</a></li></ul></li><li class="dropdown-item"><h4>星河万里</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/bcf060/" class="nav-link">Vim操作</a></li><li class="dropdown-subitem"><a href="/pages/c11fcf/" class="nav-link">Gitemoji</a></li><li class="dropdown-subitem"><a href="/pages/055f2e/" class="nav-link">无妄经</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/message-board/" class="nav-link">MessageBoard📋</a></div> <a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>CCNA</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>CCNA知识笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1634eb/" class="sidebar-link">网络工程师的介绍</a></li><li><a href="/pages/91ab17/" class="sidebar-link">OSI Model</a></li><li><a href="/pages/68df0c/" class="sidebar-link">IP Addressing</a></li><li><a href="/pages/0cd5e5/" class="sidebar-link">TCP/IP Suite</a></li><li><a href="/pages/32e4ca/" class="sidebar-link">Comparison-TCP Vs UDP</a></li><li><a href="/pages/9876fd/" class="sidebar-link">Cisco IOS CLI</a></li><li><a href="/pages/fabc03/" class="sidebar-link">Switching_VLAN</a></li><li><a href="/pages/778234/" class="sidebar-link">Switching_STP</a></li><li><a href="/pages/85147b/" class="sidebar-link">Switching_EtherChannel</a></li><li><a href="/pages/087c56/" class="sidebar-link">Layer 2 Discovery Protocols</a></li><li><a href="/pages/6b8f16/" class="sidebar-link">Layer 2 Forwarding</a></li><li><a href="/pages/149f35/" class="sidebar-link">Routing_Static</a></li><li><a href="/pages/d70851/" class="sidebar-link">Dynamic Routing P1 RIP EIGRP</a></li><li><a href="/pages/c4055c/" class="sidebar-link">Dynamic Routing P2 OSPF</a></li><li><a href="/pages/32db2d/" class="sidebar-link">Layer 3 Forwarding</a></li><li><a href="/pages/fe5ceb/" class="sidebar-link">Virtual Routing and Forwarding</a></li><li><a href="/pages/bada2c/" aria-current="page" class="active sidebar-link">Layer 3 FHRPs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/bada2c/#fhrp-首跳冗余协议" class="sidebar-link">FHRP 首跳冗余协议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/bada2c/#冗余网关的必要性" class="sidebar-link">冗余网关的必要性</a></li><li class="sidebar-sub-header level3"><a href="/pages/bada2c/#冗余网关的作用机制" class="sidebar-link">冗余网关的作用机制</a></li><li class="sidebar-sub-header level3"><a href="/pages/bada2c/#原网关重新上线" class="sidebar-link">原网关重新上线</a></li><li class="sidebar-sub-header level3"><a href="/pages/bada2c/#summary-of-fhrps" class="sidebar-link">Summary of FHRPs</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/bada2c/#hsrp" class="sidebar-link">HSRP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/bada2c/#configuring-hsrpv2" class="sidebar-link">Configuring HSRPv2</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/bada2c/#vrrp" class="sidebar-link">VRRP</a></li><li class="sidebar-sub-header level2"><a href="/pages/bada2c/#glbp" class="sidebar-link">GLBP</a></li></ul></li><li><a href="/pages/81e45f/" class="sidebar-link">Security</a></li><li><a href="/pages/6bd28d/" class="sidebar-link">ACL</a></li><li><a href="/pages/7db05a/" class="sidebar-link">NAT 网络地址转换</a></li><li><a href="/pages/729891/" class="sidebar-link">LAN Architectures</a></li><li><a href="/pages/1076ba/" class="sidebar-link">WAN广域网</a></li><li><a href="/pages/441d7d/" class="sidebar-link">WLAN</a></li><li><a href="/pages/e31696/" class="sidebar-link">NTP</a></li><li><a href="/pages/c7a0a2/" class="sidebar-link">DNS</a></li><li><a href="/pages/d25cf6/" class="sidebar-link">Syslog</a></li><li><a href="/pages/c74f1d/" class="sidebar-link">Accessing the CLI of network devices</a></li><li><a href="/pages/5d3322/" class="sidebar-link">FTP TFTP</a></li><li><a href="/pages/e049f9/" class="sidebar-link">DHCP</a></li><li><a href="/pages/7ebd2e/" class="sidebar-link">SNMP</a></li><li><a href="/pages/bba118/" class="sidebar-link">Quality of service</a></li><li><a href="/pages/652496/" class="sidebar-link">Virtualization</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>CCNA题库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Cisco Networking Academy</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ansible</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>版本管理 - Maven</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开发管理 - Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>操作系统 - Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>容器部署 - Docker</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E7%BD%91%E7%BB%9C%E8%BF%90%E7%BB%B4" title="分类" data-v-06225672>网络运维</a></li><li data-v-06225672><a href="/categories/?category=CCNA" title="分类" data-v-06225672>CCNA</a></li><li data-v-06225672><a href="/categories/?category=CCNA%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B0" title="分类" data-v-06225672>CCNA知识笔记</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/Jonas-Wolfxin" target="_blank" title="作者" class="beLink" data-v-06225672>Jonas Wolfxin</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-07-13</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">Layer 3 FHRPs<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="layer-3-fhrps"><a href="#layer-3-fhrps" class="header-anchor">#</a> Layer 3 FHRPs</h1> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021526485.png" alt="image-20230402152639267" style="zoom:33%;"> <h2 id="fhrp-首跳冗余协议"><a href="#fhrp-首跳冗余协议" class="header-anchor">#</a> FHRP 首跳冗余协议</h2> <blockquote><p><strong>First Hop Redundancy Protocols</strong> (FHRPs) are network protocols used to <strong>provide redundancy for the default gateway of hosts on a network</strong>.</p> <ul><li>They operate at Layer 3 of the OSI model, which is the network layer;</li> <li>are used to ensure that if the primary gateway fails, a backup gateway will take over and provide connectivity for the hosts on the network.</li></ul> <p>There are THREE Layer 3 FHRPs, including:</p> <ol><li><strong>VRRP(Virtual Router Redundancy Protocol)</strong>: VRRP is a protocol that allows several routers to share the same IP address for a particular subnet.
<ul><li>One router is designated as the master, and the others are designated as backups.</li> <li>If the master fails, one of the backups will take over and become the new master.</li></ul></li> <li><strong>HSRP(Hot Standby Router Protocol)</strong>: HSRP is similar to VRRP, but it was developed by Cisco Systems.
<ul><li>It works by creating a <em>virtual IP address</em> and <em>MAC address</em> for the routers in a group.</li> <li>One router is designated as the <strong>active router</strong>, and the others are designated as <strong>standby routers</strong>.</li> <li>If the active router fails, one of the standby routers will take over and become the new active router.</li></ul></li> <li><strong>GLBP(Gateway Load Balancing Protocol)</strong>: GLBP is another protocol developed by Cisco Systems.
<ul><li>It works by <em>allowing multiple routers to share the same virtual IP address</em>,</li> <li>but it also <em>load balances the traffic between them</em>.</li> <li>This means that multiple routers can actively participate in forwarding packets, which increases the available bandwidth for hosts on the network.</li></ul></li></ol> <p>All of these Layer 3 FHRP protocols provide redundancy for the default gateway of hosts on a network, but they have different features and capabilities. The choice of protocol depends on the specific requirements and constraints of the network in question.</p></blockquote> <h3 id="冗余网关的必要性"><a href="#冗余网关的必要性" class="header-anchor">#</a> 冗余网关的必要性</h3> <blockquote><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021349967.png" alt="image-20230402134944818" style="zoom:25%;"> <ul><li>If there is only one connection to the Internet and it fails due to a hardware failure or something else, these PCs will no longer be able to reach the Internet.
<ul><li>In your home, losing Internet access for some time would be frustrating, but probably not a disaster.</li> <li>For most modern businesses, however, it would be a huge problem.</li></ul></li> <li>So, we can use redundant connections to the Internet like this.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021353381.png" alt="image-20230402135306202" style="zoom:25%;"> <ul><li>But let’s stop and think about this, because it’s not so simple. In this network, let’s say R1’s IP address 172.16.0.254 is configured as the default gateway.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021357161.png" alt="image-20230402135712952" style="zoom:25%;"> <ul><li><p>Although R2 is available as a backup, the PCs don’t know that R1 is down and that they should switch to using R2 as their default gateway. So, how can we cause R2 to automatically become the new default gateway if R1 can no longer be used? That’s the role of a first-hop redundancy protocol, an FHRP.</p> <blockquote><h6 id="fhrp-from-wikipeia"><a href="#fhrp-from-wikipeia" class="header-anchor">#</a> FHRP from Wikipeia:</h6> <p>A first hop redundancy protocol (FHRP) is a computer networking protocol which is designed to protect the default gateway used on a subnetwork by allowing two or more routers to provide backup for that address; in the event of failure of an active router, the backup router will take over the address, usually within a few seconds.</p></blockquote></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021401258.png" alt="image-20230402140128043" style="zoom:25%;"> <ul><li>Here’s how FHRPs do this:
<ul><li>The two routers share a VIP, a virtual IP address, for example 172.16.0.252.</li> <li>Configure the PCs in the network to use that virtual IP as their default gateway, instead of the actual IP address of R1.</li> <li>The routers have to negotiate their <strong>roles(active router/standby router)</strong> with each other by sending <strong>multicast ‘Hello’ messages</strong> to each other. Note that the actual terms, like active and standby, vary depending on which FHRP is being used.
<ul><li>R1 is the active, meaning it will act as the default gateway for the network.</li> <li>R2 is the standby, meaning it will not function as the default gateway unless R1 fails.</li></ul></li></ul></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021406833.png" alt="image-20230402140614627" style="zoom:25%;"> <hr></blockquote> <h3 id="冗余网关的作用机制"><a href="#冗余网关的作用机制" class="header-anchor">#</a> 冗余网关的作用机制</h3> <blockquote><ul><li><p>Let's assume R1 need to send traffic to a destination in another network(8.8.8.8):</p> <ol><li><p>Default gateway is 172.16.0.252, but It don’t know the MAC address yet.</p></li> <li><p>So, it sends an <strong>ARP request</strong> to learn the MAC address of 172.16.0.252.</p> <blockquote><p>STP prevents a broadcast storm by disabling some of the switch interfaces.</p></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021410761.png" alt="image-20230402141035511" style="zoom:25%;"></li> <li><p>Both R1 and R2 have received the ARP request, and they both share the same virtual IP address(172.16.0.252). R1 as Active Router will send a unicast ARP reply with an <strong>Virtual MAC address</strong>.</p> <blockquote><p>Each FHRP uses a different virtual MAC address, and I will introduce them later.</p></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021416886.png" alt="image-20230402141644651" style="zoom:25%;"></li> <li><p>The frame will be sent to R1, and then the packet will be sent over the Internet.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021420040.png" alt="image-20230402142039809" style="zoom:25%;"></li></ol></li> <li><p>Now what if R1 goes down? After a few seconds, R2 will think ‘I haven’t received any ‘Hello’ messages from R1 recently...I will become the Active router!’.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021422810.png" alt="image-20230402142231607" style="zoom:25%;"></li> <li><p>But how does it tell the other devices to send traffic to it instead of R1?</p> <ul><li><p>Note that the end hosts, the PCs, actually don’t have to change their ARP tables. <em>Virtual IP address &lt;-&gt; Virtual MAC address.</em></p></li> <li><p>R2 needs to make the switches update their MAC address tables(<em>MAC address &lt;-&gt; Port</em>). So, R2 needs to send frames with a source MAC address of the virtual MAC address. To do this, it will send ‘<strong>Gratuitous ARP</strong> messages'.</p> <blockquote><ul><li>Gratuitous ARP messages are ARP replies sent without being requested.</li> <li>Gratuitous ARP messages are broadcast to the MAC address of all Fs, but normal ARP replies are unicast.</li></ul></blockquote></li> <li><p>Because they are broadcast, all switches will receive the frames and update their MAC address table, changing the port of the Virtual MAC address to the one receives the ‘<strong>Gratuitous ARP</strong> messages'.</p></li></ul></li> <li><p>Now R2 becomes the active router, and all of the switches have updated their MAC address tables.</p></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021437525.png" alt="image-20230402143521594" style="zoom:25%;"> <hr></blockquote> <h3 id="原网关重新上线"><a href="#原网关重新上线" class="header-anchor">#</a> 原网关重新上线</h3> <blockquote><ul><li><p>Now, what if R1 comes online again? Will it become the active router once again?</p> <ul><li><p>No, it will become the standby router by default. Like the DR and BDR in OSPF, FHRPs are also ‘<strong>non-preemptive</strong>’. The current active router will not automatically give up its role, even if the former active router returns.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021441638.png" alt="image-20230402144150439" style="zoom:25%;"></li> <li><p>However, although this is the default behavior, you can change this setting to make R1 preempt R2 and take back its active role automatically, so R2 will become the standby router again.</p></li></ul></li> <li><p>So, that was a basic overview of how first hop redundancy protocols(FHRPs) work. Most of such information applies to each of them.</p></li></ul></blockquote> <h3 id="summary-of-fhrps"><a href="#summary-of-fhrps" class="header-anchor">#</a> Summary of FHRPs</h3> <blockquote><ul><li>A virtual IP is configured on the two routers, and a virtual MAC is generated for the virtual IP.
<ul><li>Each FHRP uses a different format for the virtual MAC address.</li></ul></li> <li>An active router and a standby router are elected. Again, different FHRPs use different terms, and some support what’s called an ‘active-active’ setup, with two active routers at the same time;</li> <li>End hosts in the network are configured to use the virtual IP as their default gateway.</li> <li>The active router replies to ARP requests using the virtual MAC address, so traffic destined for other networks will be sent to it.</li> <li>If the active router fails, the standby becomes the next active router.
<ul><li>The new active router will send <strong>Gratuitous ARP messages</strong> so that switches will update their MAC address tables. It now functions as the default gateway for the network.</li></ul></li> <li>If the old active router comes back online, by default it won’t take back its role as the active router. It will become the standby router.
<ul><li>But, in FHRPs you can configure ‘<strong>preemption</strong>’, so that the old active router does take back its old role if it comes back online.</li></ul></li></ul></blockquote> <h2 id="hsrp"><a href="#hsrp" class="header-anchor">#</a> HSRP</h2> <blockquote><ul><li><strong>Hot Standby Router Protocol</strong>, Cisco proprietary</li> <li>In HSRP, an <strong>Active and Standby router</strong> are elected.</li> <li>There are two versions: version 1(by default) and version 2(<em>NOT compatible with each other</em>).
<ul><li>Version 2 adds IPv6 support and increases the number of <em>groups</em> that can be configured.</li></ul></li> <li>只有Active Router才会响应End hosts的ARP请求和转发数据;
<ul><li>Active Router is determined in this order:
<ul><li><strong>Highest HSRP Interface Priority</strong>: 0~255(100 by default);</li> <li><strong>Highest IP address</strong> on the interface within the subnet;</li></ul></li> <li>Standby 路由器:
<ul><li>Standby路由器监听 224.0.0.2的hello消息, 一旦发现active出现问题(holdtime = 10s), 立刻从Standby升级成为 active 路由器;</li></ul></li></ul></li> <li>Active and Standby Routers communicate with each other by sending multicast IPv4 Hello messages:
<ul><li>V1: <strong>224.0.0.2</strong></li> <li>V2: <strong>224.0.0.102</strong></li></ul></li> <li>Virtual MAC address formats:
<ul><li>v1 = <strong>0000.0c07.ac</strong>XX (XX = HSRP group number)</li> <li>v2 = <strong>0000.0c9f.f</strong>XXX (XXX = HSRP group number)</li></ul></li> <li>In a situation with multiple subnets/VLANs, you can <em>configure a different active router in each subnet</em> to <strong>load balance</strong>. For example, R1 could be the active router in VLAN1 and standby in VLAN2, and R2 could be the standby in VLAN1 and active in VLAN2.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021506489.png" alt="image-20230402150620249" style="zoom:30%;"> <blockquote><p><strong>Subnets divide the network at Layer 3, and VLANs divide the network at Layer 2, and they work together, each subnet being its own VLAN.</strong></p></blockquote></blockquote> <h3 id="configuring-hsrpv2"><a href="#configuring-hsrpv2" class="header-anchor">#</a> Configuring HSRPv2</h3> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021553524.png" alt="image-20230402155341364" style="zoom:25%;"> <blockquote><p>In our lab today, there was just one subnet, 10.0.1.0/24, and one VLAN.</p> <ul><li>But in situations with multiple subnets and VLANs, you’ll need to configure a virtual IP address for each subnet, because each subnet needs its own default gateway. Each of those virtual IPs is configured in a separate HSRP group.</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021655971.png" alt="image-20230402165532898"></p></blockquote> <h5 id="配置hsrpv2-其他配置省略-见-running-config"><a href="#配置hsrpv2-其他配置省略-见-running-config" class="header-anchor">#</a> 配置HSRPv2(其他配置省略, 见 running-config)</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R1<span class="token comment">#show running-config </span>
Building configuration<span class="token punctuation">..</span>.

Current configuration <span class="token builtin class-name">:</span> <span class="token number">856</span> bytes
<span class="token operator">!</span>
version <span class="token number">15.1</span>
no <span class="token function">service</span> timestamps log datetime msec
no <span class="token function">service</span> timestamps debug datetime msec
no <span class="token function">service</span> password-encryption
<span class="token operator">!</span>
<span class="token function">hostname</span> R1
<span class="token operator">!</span>
<span class="token function">ip</span> cef
no ipv6 cef
<span class="token operator">!</span>
license udi pid CISCO2911/K9 sn FTX1524TIH1-
<span class="token operator">!</span>
spanning-tree mode pvst
<span class="token operator">!</span>
interface GigabitEthernet0/0
 <span class="token function">ip</span> address <span class="token number">10.0</span>.1.253 <span class="token number">255.255</span>.255.0
 <span class="token function">ip</span> ospf <span class="token number">1</span> area <span class="token number">0</span>
 duplex auto
 speed auto
<span class="token operator">!</span>
interface GigabitEthernet0/1
 <span class="token function">ip</span> address <span class="token number">203.0</span>.113.1 <span class="token number">255.255</span>.255.252
 <span class="token function">ip</span> ospf <span class="token number">1</span> area <span class="token number">0</span>
 duplex auto
 speed auto
<span class="token operator">!</span>
interface GigabitEthernet0/2
 no <span class="token function">ip</span> address
 duplex auto
 speed auto
 <span class="token function">shutdown</span>
<span class="token operator">!</span>
interface Vlan1
 no <span class="token function">ip</span> address
 <span class="token function">shutdown</span>
<span class="token operator">!</span>
router ospf <span class="token number">1</span>
 log-adjacency-changes
 default-information originate
<span class="token operator">!</span>
<span class="token function">ip</span> classless
<span class="token function">ip</span> route <span class="token number">0.0</span>.0.0 <span class="token number">0.0</span>.0.0 <span class="token number">203.0</span>.113.2 
<span class="token operator">!</span>
<span class="token function">ip</span> flow-export version <span class="token number">9</span>
<span class="token operator">!</span>
line con <span class="token number">0</span>
<span class="token operator">!</span>
line aux <span class="token number">0</span>
<span class="token operator">!</span>
line vty <span class="token number">0</span> <span class="token number">4</span>
 login
<span class="token operator">!</span>
end
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R2<span class="token comment">#show running-config </span>
Building configuration<span class="token punctuation">..</span>.

Current configuration <span class="token builtin class-name">:</span> <span class="token number">825</span> bytes
<span class="token operator">!</span>
version <span class="token number">15.1</span>
no <span class="token function">service</span> timestamps log datetime msec
no <span class="token function">service</span> timestamps debug datetime msec
no <span class="token function">service</span> password-encryption
<span class="token operator">!</span>
<span class="token function">hostname</span> R2
<span class="token operator">!</span>
<span class="token function">ip</span> cef
no ipv6 cef
<span class="token operator">!</span>
license udi pid CISCO2911/K9 sn FTX1524AL7K-
<span class="token operator">!</span>
spanning-tree mode pvst
<span class="token operator">!</span>
interface GigabitEthernet0/0
 <span class="token function">ip</span> address <span class="token number">10.0</span>.1.252 <span class="token number">255.255</span>.255.0
 <span class="token function">ip</span> ospf <span class="token number">1</span> area <span class="token number">0</span>
 duplex auto
 speed auto
<span class="token operator">!</span>
interface GigabitEthernet0/1
 <span class="token function">ip</span> address <span class="token number">203.0</span>.113.5 <span class="token number">255.255</span>.255.252
 <span class="token function">ip</span> ospf <span class="token number">1</span> area <span class="token number">0</span>
 duplex auto
 speed auto
<span class="token operator">!</span>
interface GigabitEthernet0/2
 no <span class="token function">ip</span> address
 duplex auto
 speed auto
 <span class="token function">shutdown</span>
<span class="token operator">!</span>
interface Vlan1
 no <span class="token function">ip</span> address
 <span class="token function">shutdown</span>
<span class="token operator">!</span>
router ospf <span class="token number">1</span>
 log-adjacency-changes
<span class="token operator">!</span>
<span class="token function">ip</span> classless
<span class="token function">ip</span> route <span class="token number">0.0</span>.0.0 <span class="token number">0.0</span>.0.0 <span class="token number">203.0</span>.113.6 
<span class="token operator">!</span>
<span class="token function">ip</span> flow-export version <span class="token number">9</span>
<span class="token operator">!</span>
line con <span class="token number">0</span>
<span class="token operator">!</span>
line aux <span class="token number">0</span>
<span class="token operator">!</span>
line vty <span class="token number">0</span> <span class="token number">4</span>
 login
<span class="token operator">!</span>
end
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><hr> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>en
R1<span class="token comment">#conf t</span>
Enter configuration commands, one per line.  End with CNTL/Z.
R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int g0/0</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#standby ?</span>
  <span class="token operator">&lt;</span><span class="token number">0</span>-409<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>  group number
  <span class="token function">ip</span>        Enable HSRP and <span class="token builtin class-name">set</span> the virtual IP address
  ipv6      Enable HSRP IPv6
  preempt   Overthrow lower priority Active routers
  priority  Priority level
  timers    Hello and hold timers
  track     Priority Tracking
  version   HSRP version
  
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#standby version ?</span>
  <span class="token operator">&lt;</span><span class="token number">1</span>-<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>  Version number
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#standby version 2</span>

R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#standby 1 ?       # group number is set to 1</span>
  <span class="token function">ip</span>        Enable HSRP and <span class="token builtin class-name">set</span> the virtual IP address
  ipv6      Enable HSRP IPv6
  preempt   Overthrow lower priority Active routers
  priority  Priority level
  timers    Hello and hold timers
  track     Priority Tracking
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#standby 1 ip ?</span>
  A.B.C.D  Virtual IP address
  <span class="token operator">&lt;</span>cr<span class="token operator">&gt;</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#standby 1 ip 10.0.1.254     # Virtual IP address</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#</span>
%HSRP-6-STATECHANGE: GigabitEthernet0/0 Grp <span class="token number">1</span> state Init -<span class="token operator">&gt;</span> Init

%HSRP-6-STATECHANGE: GigabitEthernet0/0 Grp <span class="token number">1</span> state Speak -<span class="token operator">&gt;</span> Standby

%HSRP-6-STATECHANGE: GigabitEthernet0/0 Grp <span class="token number">1</span> state Standby -<span class="token operator">&gt;</span> Active

R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#standby 1 priority ?</span>
  <span class="token operator">&lt;</span><span class="token number">0</span>-25<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>  Priority value
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#standby 1 priority 200 </span>

R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#standby 1 preempt </span>

R1<span class="token comment">#show standby </span>
GigabitEthernet0/0 - Group <span class="token number">1</span> <span class="token punctuation">(</span>version <span class="token number">2</span><span class="token punctuation">)</span>
  State is Active
    <span class="token number">8</span> state changes, last state change 00:05:18
  Virtual IP address is <span class="token number">10.0</span>.1.254
  Active virtual MAC address is 0000.0C9F.F001
    Local virtual MAC address is 0000.0C9F.F001 <span class="token punctuation">(</span>v2 default<span class="token punctuation">)</span>
  Hello <span class="token function">time</span> <span class="token number">3</span> sec, hold <span class="token function">time</span> <span class="token number">10</span> sec
    Next hello sent <span class="token keyword">in</span> <span class="token number">0.503</span> secs
  Preemption enabled
  Active router is <span class="token builtin class-name">local</span>
  Standby router is <span class="token number">10.0</span>.1.252, priority <span class="token number">50</span> <span class="token punctuation">(</span>expires <span class="token keyword">in</span> <span class="token number">7</span> sec<span class="token punctuation">)</span>
  Priority <span class="token number">200</span> <span class="token punctuation">(</span>configured <span class="token number">200</span><span class="token punctuation">)</span>
  Group name is hsrp-Gig0/0-1 <span class="token punctuation">(</span>default<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int g0/0</span>
R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#standby version 2</span>
R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#standby 1 ip 10.0.1.254</span>
R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#standby 1 priority 50</span>

R2<span class="token comment">#show standby </span>
GigabitEthernet0/0 - Group <span class="token number">1</span> <span class="token punctuation">(</span>version <span class="token number">2</span><span class="token punctuation">)</span>
  State is Standby
    <span class="token number">10</span> state changes, last state change 00:20:01
  Virtual IP address is <span class="token number">10.0</span>.1.254
  Active virtual MAC address is 0000.0C9F.F001
    Local virtual MAC address is 0000.0C9F.F001 <span class="token punctuation">(</span>v2 default<span class="token punctuation">)</span>
  Hello <span class="token function">time</span> <span class="token number">3</span> sec, hold <span class="token function">time</span> <span class="token number">10</span> sec
    Next hello sent <span class="token keyword">in</span> <span class="token number">2.107</span> secs
  Preemption disabled
  Active router is <span class="token number">10.0</span>.1.253, priority <span class="token number">200</span> <span class="token punctuation">(</span>expires <span class="token keyword">in</span> <span class="token number">6</span> sec<span class="token punctuation">)</span>
    MAC address is 0000.0C9F.F001
  Standby router is <span class="token builtin class-name">local</span>
  Priority <span class="token number">50</span> <span class="token punctuation">(</span>configured <span class="token number">50</span><span class="token punctuation">)</span>
  Group name is hsrp-Gig0/0-1 <span class="token punctuation">(</span>default<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><hr> <h6 id="在pc1上查看路由路径和arp表"><a href="#在pc1上查看路由路径和arp表" class="header-anchor">#</a> 在PC1上查看路由路径和ARP表</h6> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>PC1:<span class="token punctuation">\</span><span class="token operator">&gt;</span>tracert <span class="token number">8.8</span>.8.8
Tracing route to <span class="token number">8.8</span>.8.8 over a maximum of <span class="token number">30</span> hops: 
  <span class="token number">1</span>   <span class="token number">0</span> ms      <span class="token number">0</span> ms      <span class="token number">0</span> ms      <span class="token number">10.0</span>.1.253
  <span class="token number">2</span>   <span class="token number">0</span> ms      <span class="token number">0</span> ms      <span class="token number">0</span> ms      <span class="token number">8.8</span>.8.8
Trace complete.

PC1:<span class="token punctuation">\</span><span class="token operator">&gt;</span>arp -a
  Internet Address      Physical Address      Type
  <span class="token number">10.0</span>.1.254            0000.0c9f.f001        dynamic
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h6 id="将-r1-关机-在pc1上查看路由路径和arp表"><a href="#将-r1-关机-在pc1上查看路由路径和arp表" class="header-anchor">#</a> 将 R1 关机, 在PC1上查看路由路径和ARP表</h6> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>PC1:<span class="token punctuation">\</span><span class="token operator">&gt;</span>tracert <span class="token number">8.8</span>.8.8
Tracing route to <span class="token number">8.8</span>.8.8 over a maximum of <span class="token number">30</span> hops: 
  <span class="token number">1</span>   <span class="token number">0</span> ms      <span class="token number">0</span> ms      <span class="token number">0</span> ms      <span class="token number">10.0</span>.1.252
  <span class="token number">2</span>   <span class="token number">0</span> ms      <span class="token number">0</span> ms      <span class="token number">0</span> ms      <span class="token number">8.8</span>.8.8
Trace complete.

PC1:<span class="token punctuation">\</span><span class="token operator">&gt;</span>arp -a
  Internet Address      Physical Address      Type
  <span class="token number">10.0</span>.1.254            0000.0c9f.f001        dynamic
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h6 id="将r1再次开机-在pc1上查看路由路径和arp表"><a href="#将r1再次开机-在pc1上查看路由路径和arp表" class="header-anchor">#</a> 将R1再次开机,在PC1上查看路由路径和ARP表</h6> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>PC1:<span class="token punctuation">\</span><span class="token operator">&gt;</span>tracert <span class="token number">8.8</span>.8.8
Tracing route to <span class="token number">8.8</span>.8.8 over a maximum of <span class="token number">30</span> hops: 
  <span class="token number">1</span>   <span class="token number">0</span> ms      <span class="token number">0</span> ms      <span class="token number">0</span> ms      <span class="token number">10.0</span>.1.253
  <span class="token number">2</span>   <span class="token number">0</span> ms      <span class="token number">0</span> ms      <span class="token number">0</span> ms      <span class="token number">8.8</span>.8.8
Trace complete.

PC1:<span class="token punctuation">\</span><span class="token operator">&gt;</span>arp -a
  Internet Address      Physical Address      Type
  <span class="token number">10.0</span>.1.254            0000.0c9f.f001        dynamic
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="vrrp"><a href="#vrrp" class="header-anchor">#</a> VRRP</h2> <blockquote><ul><li><strong>Virtual Router Redundancy Protocol</strong>, open industry standard</li></ul> <p>In terms of functionality they are nearly identical, with just a few differences:</p> <ul><li>Instead of an <em>active and standby</em> router, a <strong>master and backup</strong> router are elected. The function is the same, just the names are different.</li> <li>The IPv4 multicast address used is <strong>224.0.0.18</strong>.</li> <li>Virtual MAC address: <strong>0000.5e00.01</strong>XX (XX = VRRP group number)</li> <li>In a situation with multiple subnets/VLANSs, you can configure a different master router in each subnet/VLAN to load balance.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304021517241.png" alt="image-20230402151735000" style="zoom:30%;"> <blockquote><p><strong>Subnets divide the network at Layer 3, and VLANs divide the network at Layer 2, and they work together, each subnet being its own VLAN.</strong></p></blockquote></blockquote> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220623190939580.png" alt="image-20220623190939580" style="zoom:55%;"> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220623191003888.png" alt="image-20220623191003888" style="zoom:67%;"> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220623191019824.png" alt="image-20220623191019824" style="zoom:50%;"> <h2 id="glbp"><a href="#glbp" class="header-anchor">#</a> GLBP</h2> <blockquote><ul><li><strong>Gateway Load Balancing Protocol</strong>, Cisco proprietary</li> <li>Here’s the big difference from HSRP and VRRP: <strong>it load balances among multiple routers within a single subnet.</strong> For example, if PC1 and PC2 are both in VLAN1, PC1 can use R1 as its default gateway, and PC2 can use R2 as its default gateway.</li> <li>In GLBP, a single <strong>AVG(Active Virtual Gateway)</strong>, is elected for the subnet.</li> <li>Then, up to four <strong>AVFs(Active Virtual Forwarders)</strong>, are assigned by the AVG(the AVG itself can be an AVF too).</li> <li>Each AVF acts as the default gateway for a portion of the hosts in the subnet.</li> <li>The multicast IPv4 address is <strong>224.0.0.102, same as HSRP version 2</strong>.</li> <li>Virtual MAC address: <strong>0007.b400.XXYY</strong> (XX = GLBP group number, YY = AVF number)</li></ul></blockquote></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io/edit/main/docs/40.网络运维/05.CCNA/10.CCNA知识笔记/21.Layer 3 FHRPs.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">last Updated:</span> <span class="time">2023/06/08, 22:42:49</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/fe5ceb/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Virtual Routing and Forwarding</div></a> <a href="/pages/81e45f/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Security</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/fe5ceb/" class="prev">Virtual Routing and Forwarding</a></span> <span class="next"><a href="/pages/81e45f/">Security</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/32db2d/"><div>
            Layer 3 Forwarding
            <!----></div></a> <span class="date">06-07</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/6b8f16/"><div>
            Layer 2 Forwarding
            <!----></div></a> <span class="date">06-06</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/fe5ceb/"><div>
            Virtual Routing and Forwarding
            <!----></div></a> <span class="date">05-16</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/Jonas-Wolfxin" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/Jonas-Wolfxin" title="Gitee" target="_blank" class="iconfont icon-gitee"></a><a href="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202206100005451.jpg" title="Wechat: @Jonas_Wolfxin" target="_blank" class="iconfont icon-weixin"></a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=1914303043&amp;site=qq&amp;menu=yes" title="QQ: 1914303043" target="_blank" class="iconfont icon-QQ"></a><a href="mailto:wolfxin@outlook.com" title="联系我" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2023
    <span>Jonas Wolfxin's Blog</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div><div></div><div></div><!----><!----><APlayer audio="" fixed="true" mini="true" theme="#b7daff" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div></div></div></div>
    <script src="/assets/js/app.d858ddbb.js" defer></script><script src="/assets/js/2.309e711a.js" defer></script><script src="/assets/js/143.ca56fc45.js" defer></script><script src="/assets/js/16.acd3428d.js" defer></script><script src="/assets/js/8.5b4b6c67.js" defer></script><script src="/assets/js/10.58f97cc7.js" defer></script><script src="/assets/js/17.0b7a5267.js" defer></script>
  </body>
</html>
