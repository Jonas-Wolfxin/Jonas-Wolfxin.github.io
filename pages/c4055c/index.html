<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dynamic Routing P2 OSPF | Jonas Wolfxin Blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <noscript><meta http-equiv="refresh" content="0; url=https://www.youngkbt.cn/noscript/"><style>.theme-vdoing-content { display:none }</noscript>
    <script>var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?267c5680c2ffb468ca29c45ffe6801da"; 
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
          })();
          </script>
    <meta name="description" content="Jonas Wolfxinä¸ªäººåšå®¢, VuePressæ­å»º, ä½¿ç”¨äº† Vdoing ä¸»é¢˜, å­¦ä¹ Java, Web, æ¡†æ¶, å¾®æœåŠ¡, å·¥å…·, å‰ç«¯ç­‰ç›¸å…³çŸ¥è¯†, è®°å½•ç”Ÿæ´»å’ŒæŠ€æœ¯è·¯ç¨‹, åŒæ—¶åˆ†äº«ç¼–ç¨‹æŠ€å·§ã€‚">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="Jonas Wolfxinä¸ªäººåšå®¢, VuePressæ­å»º, å­¦ä¹ Javaã€Webã€æ¡†æ¶ã€å¾®æœåŠ¡ã€å·¥å…·ã€å‰ç«¯ç­‰ç›¸å…³çŸ¥è¯†, è®°å½•ç”Ÿæ´»å’ŒæŠ€æœ¯è·¯ç¨‹ã€‚">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.7d3fc896.css" as="style"><link rel="preload" href="/assets/js/app.d858ddbb.js" as="script"><link rel="preload" href="/assets/js/2.309e711a.js" as="script"><link rel="preload" href="/assets/js/140.f85c3c58.js" as="script"><link rel="preload" href="/assets/js/16.acd3428d.js" as="script"><link rel="preload" href="/assets/js/8.5b4b6c67.js" as="script"><link rel="preload" href="/assets/js/10.58f97cc7.js" as="script"><link rel="preload" href="/assets/js/17.0b7a5267.js" as="script"><link rel="prefetch" href="/assets/js/100.a245150c.js"><link rel="prefetch" href="/assets/js/101.dc21b366.js"><link rel="prefetch" href="/assets/js/102.d5a6dfd2.js"><link rel="prefetch" href="/assets/js/103.7675e438.js"><link rel="prefetch" href="/assets/js/104.08bff44e.js"><link rel="prefetch" href="/assets/js/105.8bf552ad.js"><link rel="prefetch" href="/assets/js/106.b3388dcc.js"><link rel="prefetch" href="/assets/js/107.708d16a8.js"><link rel="prefetch" href="/assets/js/108.8d67c3a1.js"><link rel="prefetch" href="/assets/js/109.adb072ef.js"><link rel="prefetch" href="/assets/js/11.1cff9f55.js"><link rel="prefetch" href="/assets/js/110.6a33e945.js"><link rel="prefetch" href="/assets/js/111.5b6daef7.js"><link rel="prefetch" href="/assets/js/112.30fa856b.js"><link rel="prefetch" href="/assets/js/113.2bea19a6.js"><link rel="prefetch" href="/assets/js/114.78693b98.js"><link rel="prefetch" href="/assets/js/115.24b2f36f.js"><link rel="prefetch" href="/assets/js/116.121c60d7.js"><link rel="prefetch" href="/assets/js/117.c2a343f1.js"><link rel="prefetch" href="/assets/js/118.4f472067.js"><link rel="prefetch" href="/assets/js/119.24255046.js"><link rel="prefetch" href="/assets/js/12.bca3c221.js"><link rel="prefetch" href="/assets/js/120.c049d4ee.js"><link rel="prefetch" href="/assets/js/121.27c7097d.js"><link rel="prefetch" href="/assets/js/122.89ae0c7e.js"><link rel="prefetch" href="/assets/js/123.92ff168d.js"><link rel="prefetch" href="/assets/js/124.42567e10.js"><link rel="prefetch" href="/assets/js/125.3bd92459.js"><link rel="prefetch" href="/assets/js/126.ce3b5ff1.js"><link rel="prefetch" href="/assets/js/127.62073e16.js"><link rel="prefetch" href="/assets/js/128.1e61e62d.js"><link rel="prefetch" href="/assets/js/129.1abfd9a0.js"><link rel="prefetch" href="/assets/js/13.fd509ce7.js"><link rel="prefetch" href="/assets/js/130.fd10656f.js"><link rel="prefetch" href="/assets/js/131.739a70c7.js"><link rel="prefetch" href="/assets/js/132.aead2e49.js"><link rel="prefetch" href="/assets/js/133.c996494c.js"><link rel="prefetch" href="/assets/js/134.3f032f05.js"><link rel="prefetch" href="/assets/js/135.c35c5612.js"><link rel="prefetch" href="/assets/js/136.b1a52d43.js"><link rel="prefetch" href="/assets/js/137.f6c998f0.js"><link rel="prefetch" href="/assets/js/138.5165a511.js"><link rel="prefetch" href="/assets/js/139.84e0898b.js"><link rel="prefetch" href="/assets/js/14.9a0c9450.js"><link rel="prefetch" href="/assets/js/141.1b18b352.js"><link rel="prefetch" href="/assets/js/142.61b694c2.js"><link rel="prefetch" href="/assets/js/143.ca56fc45.js"><link rel="prefetch" href="/assets/js/144.634fc96a.js"><link rel="prefetch" href="/assets/js/145.7db28ded.js"><link rel="prefetch" href="/assets/js/146.0e801c74.js"><link rel="prefetch" href="/assets/js/147.26faa263.js"><link rel="prefetch" href="/assets/js/148.927832d5.js"><link rel="prefetch" href="/assets/js/149.8755eb42.js"><link rel="prefetch" href="/assets/js/15.d3755cc5.js"><link rel="prefetch" href="/assets/js/150.906609e5.js"><link rel="prefetch" href="/assets/js/151.7a52439b.js"><link rel="prefetch" href="/assets/js/152.c822b1fb.js"><link rel="prefetch" href="/assets/js/153.593575cc.js"><link rel="prefetch" href="/assets/js/154.2a16d8e7.js"><link rel="prefetch" href="/assets/js/155.6a18c733.js"><link rel="prefetch" href="/assets/js/156.bb65d909.js"><link rel="prefetch" href="/assets/js/157.862f6419.js"><link rel="prefetch" href="/assets/js/158.db76ed26.js"><link rel="prefetch" href="/assets/js/159.0f0b1ee8.js"><link rel="prefetch" href="/assets/js/160.8f421d08.js"><link rel="prefetch" href="/assets/js/161.4a521888.js"><link rel="prefetch" href="/assets/js/162.601dbfca.js"><link rel="prefetch" href="/assets/js/163.d76b166d.js"><link rel="prefetch" href="/assets/js/164.99b00d17.js"><link rel="prefetch" href="/assets/js/165.7809f82c.js"><link rel="prefetch" href="/assets/js/166.b29e508c.js"><link rel="prefetch" href="/assets/js/167.71af6bb1.js"><link rel="prefetch" href="/assets/js/168.aad10cfc.js"><link rel="prefetch" href="/assets/js/169.d807fd76.js"><link rel="prefetch" href="/assets/js/170.8cd1462a.js"><link rel="prefetch" href="/assets/js/171.ecbf63cf.js"><link rel="prefetch" href="/assets/js/172.e75cd345.js"><link rel="prefetch" href="/assets/js/173.1ab612d0.js"><link rel="prefetch" href="/assets/js/174.2366c5d2.js"><link rel="prefetch" href="/assets/js/175.50c5731b.js"><link rel="prefetch" href="/assets/js/176.ac8ad112.js"><link rel="prefetch" href="/assets/js/177.1abcf5d4.js"><link rel="prefetch" href="/assets/js/178.b937dacc.js"><link rel="prefetch" href="/assets/js/179.b6fa0b6d.js"><link rel="prefetch" href="/assets/js/18.64b7e666.js"><link rel="prefetch" href="/assets/js/180.e4a8bc36.js"><link rel="prefetch" href="/assets/js/181.b916da57.js"><link rel="prefetch" href="/assets/js/182.27a2bdb4.js"><link rel="prefetch" href="/assets/js/183.dcb4d635.js"><link rel="prefetch" href="/assets/js/184.820c8f5f.js"><link rel="prefetch" href="/assets/js/185.6654f558.js"><link rel="prefetch" href="/assets/js/186.2749179c.js"><link rel="prefetch" href="/assets/js/187.a301fd95.js"><link rel="prefetch" href="/assets/js/188.3a9e3226.js"><link rel="prefetch" href="/assets/js/189.5f2b0e83.js"><link rel="prefetch" href="/assets/js/19.7a102d25.js"><link rel="prefetch" href="/assets/js/190.76dc6e42.js"><link rel="prefetch" href="/assets/js/191.b6c01ef6.js"><link rel="prefetch" href="/assets/js/192.bd87e976.js"><link rel="prefetch" href="/assets/js/193.e3b20021.js"><link rel="prefetch" href="/assets/js/194.d83d205c.js"><link rel="prefetch" href="/assets/js/195.e53e330d.js"><link rel="prefetch" href="/assets/js/196.1fd35397.js"><link rel="prefetch" href="/assets/js/197.cb0858f8.js"><link rel="prefetch" href="/assets/js/198.651004c0.js"><link rel="prefetch" href="/assets/js/199.4a4a16ae.js"><link rel="prefetch" href="/assets/js/20.2e6fe8d4.js"><link rel="prefetch" href="/assets/js/200.0347a232.js"><link rel="prefetch" href="/assets/js/201.77c9f572.js"><link rel="prefetch" href="/assets/js/202.6f66fc82.js"><link rel="prefetch" href="/assets/js/203.c12f2fd1.js"><link rel="prefetch" href="/assets/js/204.0b74eb4e.js"><link rel="prefetch" href="/assets/js/205.82129b16.js"><link rel="prefetch" href="/assets/js/206.0240cea0.js"><link rel="prefetch" href="/assets/js/207.d2d2dd99.js"><link rel="prefetch" href="/assets/js/208.f1073a08.js"><link rel="prefetch" href="/assets/js/209.3b1e4cbe.js"><link rel="prefetch" href="/assets/js/21.179bedf0.js"><link rel="prefetch" href="/assets/js/210.b8b67413.js"><link rel="prefetch" href="/assets/js/211.455c8e40.js"><link rel="prefetch" href="/assets/js/212.8735e669.js"><link rel="prefetch" href="/assets/js/213.f77fefc5.js"><link rel="prefetch" href="/assets/js/214.97d827be.js"><link rel="prefetch" href="/assets/js/215.bc08fe35.js"><link rel="prefetch" href="/assets/js/216.fa811698.js"><link rel="prefetch" href="/assets/js/217.b965b7c6.js"><link rel="prefetch" href="/assets/js/218.6a91db8b.js"><link rel="prefetch" href="/assets/js/219.fb3d8166.js"><link rel="prefetch" href="/assets/js/22.8268ce6e.js"><link rel="prefetch" href="/assets/js/220.1577cda2.js"><link rel="prefetch" href="/assets/js/221.ceea7cea.js"><link rel="prefetch" href="/assets/js/222.3985b121.js"><link rel="prefetch" href="/assets/js/223.40f0edd0.js"><link rel="prefetch" href="/assets/js/224.bcdfffa8.js"><link rel="prefetch" href="/assets/js/225.13252b88.js"><link rel="prefetch" href="/assets/js/226.2afd6de5.js"><link rel="prefetch" href="/assets/js/227.39e5b8f1.js"><link rel="prefetch" href="/assets/js/228.f24cb5b5.js"><link rel="prefetch" href="/assets/js/229.582f76a9.js"><link rel="prefetch" href="/assets/js/23.3b76f2ef.js"><link rel="prefetch" href="/assets/js/230.50a93474.js"><link rel="prefetch" href="/assets/js/231.063e02af.js"><link rel="prefetch" href="/assets/js/232.08153e5d.js"><link rel="prefetch" href="/assets/js/233.e8a2f480.js"><link rel="prefetch" href="/assets/js/234.4e784ee0.js"><link rel="prefetch" href="/assets/js/235.fe1262b2.js"><link rel="prefetch" href="/assets/js/236.5b6a52cf.js"><link rel="prefetch" href="/assets/js/237.36fae37d.js"><link rel="prefetch" href="/assets/js/238.7369ac7a.js"><link rel="prefetch" href="/assets/js/239.7fff287f.js"><link rel="prefetch" href="/assets/js/24.7c6b119c.js"><link rel="prefetch" href="/assets/js/240.96b67d8a.js"><link rel="prefetch" href="/assets/js/241.6cca43be.js"><link rel="prefetch" href="/assets/js/242.063840f3.js"><link rel="prefetch" href="/assets/js/243.e25e2acc.js"><link rel="prefetch" href="/assets/js/244.6058b76a.js"><link rel="prefetch" href="/assets/js/245.cab0cb5f.js"><link rel="prefetch" href="/assets/js/246.38dba8a1.js"><link rel="prefetch" href="/assets/js/247.58a45597.js"><link rel="prefetch" href="/assets/js/248.5cf1ad4c.js"><link rel="prefetch" href="/assets/js/249.691356bb.js"><link rel="prefetch" href="/assets/js/25.02fab98f.js"><link rel="prefetch" href="/assets/js/250.e2c83a35.js"><link rel="prefetch" href="/assets/js/251.80aa06df.js"><link rel="prefetch" href="/assets/js/252.a3e269d1.js"><link rel="prefetch" href="/assets/js/253.d11f6725.js"><link rel="prefetch" href="/assets/js/26.76ffb425.js"><link rel="prefetch" href="/assets/js/27.ce24313c.js"><link rel="prefetch" href="/assets/js/28.d8dbc96b.js"><link rel="prefetch" href="/assets/js/29.2b3bed04.js"><link rel="prefetch" href="/assets/js/3.d6952836.js"><link rel="prefetch" href="/assets/js/30.26988c7b.js"><link rel="prefetch" href="/assets/js/31.cc5781e4.js"><link rel="prefetch" href="/assets/js/32.80d8b83b.js"><link rel="prefetch" href="/assets/js/33.d97c7068.js"><link rel="prefetch" href="/assets/js/34.962f9100.js"><link rel="prefetch" href="/assets/js/35.23d8a044.js"><link rel="prefetch" href="/assets/js/36.6d349d82.js"><link rel="prefetch" href="/assets/js/37.b08f29c8.js"><link rel="prefetch" href="/assets/js/38.8b2bd27d.js"><link rel="prefetch" href="/assets/js/39.45a0b016.js"><link rel="prefetch" href="/assets/js/4.8b22777d.js"><link rel="prefetch" href="/assets/js/40.e6f6cb43.js"><link rel="prefetch" href="/assets/js/41.c756e119.js"><link rel="prefetch" href="/assets/js/42.bbc17b0f.js"><link rel="prefetch" href="/assets/js/43.8e0ce4ca.js"><link rel="prefetch" href="/assets/js/44.b91517af.js"><link rel="prefetch" href="/assets/js/45.416dfe4d.js"><link rel="prefetch" href="/assets/js/46.c00eeb87.js"><link rel="prefetch" href="/assets/js/47.29d200b3.js"><link rel="prefetch" href="/assets/js/48.7f066ab6.js"><link rel="prefetch" href="/assets/js/49.0e010fee.js"><link rel="prefetch" href="/assets/js/5.e6781b57.js"><link rel="prefetch" href="/assets/js/50.1bb477d0.js"><link rel="prefetch" href="/assets/js/51.66468406.js"><link rel="prefetch" href="/assets/js/52.5cf7fbd0.js"><link rel="prefetch" href="/assets/js/53.d6f04354.js"><link rel="prefetch" href="/assets/js/54.59ca865c.js"><link rel="prefetch" href="/assets/js/55.fb0ad69c.js"><link rel="prefetch" href="/assets/js/56.c47a2d12.js"><link rel="prefetch" href="/assets/js/57.f5d65bb3.js"><link rel="prefetch" href="/assets/js/58.c5761ef2.js"><link rel="prefetch" href="/assets/js/59.9fe56073.js"><link rel="prefetch" href="/assets/js/6.9b07e200.js"><link rel="prefetch" href="/assets/js/60.ee1a5c93.js"><link rel="prefetch" href="/assets/js/61.ed5a91fd.js"><link rel="prefetch" href="/assets/js/62.4c69d23d.js"><link rel="prefetch" href="/assets/js/63.a396c29b.js"><link rel="prefetch" href="/assets/js/64.6f39dd9c.js"><link rel="prefetch" href="/assets/js/65.4cb24e13.js"><link rel="prefetch" href="/assets/js/66.aad4aa20.js"><link rel="prefetch" href="/assets/js/67.36e86f95.js"><link rel="prefetch" href="/assets/js/68.cbcfb2e0.js"><link rel="prefetch" href="/assets/js/69.8f5b0c08.js"><link rel="prefetch" href="/assets/js/7.4d64b8e6.js"><link rel="prefetch" href="/assets/js/70.1e7d144f.js"><link rel="prefetch" href="/assets/js/71.77fb0b43.js"><link rel="prefetch" href="/assets/js/72.bf3bb5b9.js"><link rel="prefetch" href="/assets/js/73.e059a41d.js"><link rel="prefetch" href="/assets/js/74.cae09eb3.js"><link rel="prefetch" href="/assets/js/75.f89a6d2e.js"><link rel="prefetch" href="/assets/js/76.cfb3df08.js"><link rel="prefetch" href="/assets/js/77.f4fa62e6.js"><link rel="prefetch" href="/assets/js/78.464e83f6.js"><link rel="prefetch" href="/assets/js/79.71895252.js"><link rel="prefetch" href="/assets/js/80.58d501fe.js"><link rel="prefetch" href="/assets/js/81.948adca1.js"><link rel="prefetch" href="/assets/js/82.bfd7ff16.js"><link rel="prefetch" href="/assets/js/83.3920a558.js"><link rel="prefetch" href="/assets/js/84.d5b9372a.js"><link rel="prefetch" href="/assets/js/85.3be0afac.js"><link rel="prefetch" href="/assets/js/86.29f7272d.js"><link rel="prefetch" href="/assets/js/87.93a0bc8e.js"><link rel="prefetch" href="/assets/js/88.5be81cc2.js"><link rel="prefetch" href="/assets/js/89.bc9cad5d.js"><link rel="prefetch" href="/assets/js/9.dc7a3982.js"><link rel="prefetch" href="/assets/js/90.5ba7972c.js"><link rel="prefetch" href="/assets/js/91.6ca92166.js"><link rel="prefetch" href="/assets/js/92.cb997f9f.js"><link rel="prefetch" href="/assets/js/93.941f52c6.js"><link rel="prefetch" href="/assets/js/94.c34116e0.js"><link rel="prefetch" href="/assets/js/95.0aa6895c.js"><link rel="prefetch" href="/assets/js/96.fd230ec0.js"><link rel="prefetch" href="/assets/js/97.375c63c2.js"><link rel="prefetch" href="/assets/js/98.5f4889ea.js"><link rel="prefetch" href="/assets/js/99.476bd54f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7d3fc896.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/index/logo.png" alt="Jonas Wolfxin Blog" class="logo"> <span class="site-name can-hide">Jonas Wolfxin Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">HomeğŸ </a></div><div class="nav-item"><a href="/navigation/" class="nav-link">NavigationğŸ§­</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><a href="/front/" class="link-title">Front End</a> <span class="title" style="display:none;">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Basics</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>Frame</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/vue2/" class="nav-link">Vue2</a></li><li class="dropdown-subitem"><a href="/vue3/" class="nav-link">Vue3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Database" class="dropdown-title"><a href="/database/" class="link-title">Database</a> <span class="title" style="display:none;">Database</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/postgresql/" class="nav-link">PostgreSQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/es/" class="nav-link">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/mongodb/" class="nav-link">MongoDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/pythonstrdy/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python_basics/" class="nav-link">Python Basics</a></li><li class="dropdown-item"><!----> <a href="/python_advanced/" class="nav-link">Python Advanced</a></li><li class="dropdown-item"><!----> <a href="/python_projects/" class="nav-link">Python Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç½‘ç»œè¿ç»´" class="dropdown-title"><a href="/tool/" class="link-title">ç½‘ç»œè¿ç»´</a> <span class="title" style="display:none;">ç½‘ç»œè¿ç»´</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>CCNA</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/91ab17/" class="nav-link">CCNAçŸ¥è¯†</a></li><li class="dropdown-subitem"><a href="/pages/55766c/" class="nav-link">CCNAé¢˜åº“</a></li><li class="dropdown-subitem"><a href="/pages/f61749/" class="nav-link">Cisco NetAca</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/4f0673/" class="nav-link">Ansible</a></li><li class="dropdown-item"><h4>ç‰ˆæœ¬ç®¡ç†</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>éƒ¨ç½²</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/docker/" class="nav-link">Docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><a href="/archives/" class="link-title">About</a> <span class="title" style="display:none;">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>This Blog</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">Archives</a></li></ul></li><li class="dropdown-item"><h4>About Me</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whell/web/" class="nav-link">Collection</a></li><li class="dropdown-subitem"><a href="/about/website/introduce/" class="nav-link">Introduction</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ˜Ÿæ²³ä¸‡é‡Œ" class="dropdown-title"><a href="/inGermany/" class="link-title">æ˜Ÿæ²³ä¸‡é‡Œ</a> <span class="title" style="display:none;">æ˜Ÿæ²³ä¸‡é‡Œ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å¾·å›½é©¾ç…§Bçº§</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8a9dd0/" class="nav-link">ç†è®ºå‡†å¤‡</a></li><li class="dropdown-subitem"><a href="/pages/b79ef5/" class="nav-link">å®è·µå‡†å¤‡</a></li></ul></li><li class="dropdown-item"><h4>æ˜Ÿæ²³ä¸‡é‡Œ</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/bcf060/" class="nav-link">Vimæ“ä½œ</a></li><li class="dropdown-subitem"><a href="/pages/c11fcf/" class="nav-link">Gitemoji</a></li><li class="dropdown-subitem"><a href="/pages/055f2e/" class="nav-link">æ— å¦„ç»</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/message-board/" class="nav-link">MessageBoardğŸ“‹</a></div> <a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202206092309359.png"> <div class="blogger-info"><h3>Jonas æ—é£</h3> <span>å¾å¿—æ‰€å‘ï¼Œä¸‡å¤«ä¸å½“ï¼›æŠ«è†æ–©æ£˜ï¼Œå¥‹è€Œç»§å¾€ã€‚</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">HomeğŸ </a></div><div class="nav-item"><a href="/navigation/" class="nav-link">NavigationğŸ§­</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><a href="/front/" class="link-title">Front End</a> <span class="title" style="display:none;">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Basics</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>Frame</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/vue2/" class="nav-link">Vue2</a></li><li class="dropdown-subitem"><a href="/vue3/" class="nav-link">Vue3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Database" class="dropdown-title"><a href="/database/" class="link-title">Database</a> <span class="title" style="display:none;">Database</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/postgresql/" class="nav-link">PostgreSQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/es/" class="nav-link">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/mongodb/" class="nav-link">MongoDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/pythonstrdy/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python_basics/" class="nav-link">Python Basics</a></li><li class="dropdown-item"><!----> <a href="/python_advanced/" class="nav-link">Python Advanced</a></li><li class="dropdown-item"><!----> <a href="/python_projects/" class="nav-link">Python Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç½‘ç»œè¿ç»´" class="dropdown-title"><a href="/tool/" class="link-title">ç½‘ç»œè¿ç»´</a> <span class="title" style="display:none;">ç½‘ç»œè¿ç»´</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>CCNA</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/91ab17/" class="nav-link">CCNAçŸ¥è¯†</a></li><li class="dropdown-subitem"><a href="/pages/55766c/" class="nav-link">CCNAé¢˜åº“</a></li><li class="dropdown-subitem"><a href="/pages/f61749/" class="nav-link">Cisco NetAca</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/4f0673/" class="nav-link">Ansible</a></li><li class="dropdown-item"><h4>ç‰ˆæœ¬ç®¡ç†</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>éƒ¨ç½²</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/docker/" class="nav-link">Docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><a href="/archives/" class="link-title">About</a> <span class="title" style="display:none;">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>This Blog</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">Archives</a></li></ul></li><li class="dropdown-item"><h4>About Me</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whell/web/" class="nav-link">Collection</a></li><li class="dropdown-subitem"><a href="/about/website/introduce/" class="nav-link">Introduction</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ˜Ÿæ²³ä¸‡é‡Œ" class="dropdown-title"><a href="/inGermany/" class="link-title">æ˜Ÿæ²³ä¸‡é‡Œ</a> <span class="title" style="display:none;">æ˜Ÿæ²³ä¸‡é‡Œ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å¾·å›½é©¾ç…§Bçº§</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8a9dd0/" class="nav-link">ç†è®ºå‡†å¤‡</a></li><li class="dropdown-subitem"><a href="/pages/b79ef5/" class="nav-link">å®è·µå‡†å¤‡</a></li></ul></li><li class="dropdown-item"><h4>æ˜Ÿæ²³ä¸‡é‡Œ</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/bcf060/" class="nav-link">Vimæ“ä½œ</a></li><li class="dropdown-subitem"><a href="/pages/c11fcf/" class="nav-link">Gitemoji</a></li><li class="dropdown-subitem"><a href="/pages/055f2e/" class="nav-link">æ— å¦„ç»</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/message-board/" class="nav-link">MessageBoardğŸ“‹</a></div> <a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>CCNA</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>CCNAçŸ¥è¯†ç¬”è®°</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1634eb/" class="sidebar-link">ç½‘ç»œå·¥ç¨‹å¸ˆçš„ä»‹ç»</a></li><li><a href="/pages/91ab17/" class="sidebar-link">OSI Model</a></li><li><a href="/pages/68df0c/" class="sidebar-link">IP Addressing</a></li><li><a href="/pages/0cd5e5/" class="sidebar-link">TCP/IP Suite</a></li><li><a href="/pages/32e4ca/" class="sidebar-link">Comparison-TCP Vs UDP</a></li><li><a href="/pages/9876fd/" class="sidebar-link">Cisco IOS CLI</a></li><li><a href="/pages/fabc03/" class="sidebar-link">Switching_VLAN</a></li><li><a href="/pages/778234/" class="sidebar-link">Switching_STP</a></li><li><a href="/pages/85147b/" class="sidebar-link">Switching_EtherChannel</a></li><li><a href="/pages/087c56/" class="sidebar-link">Layer 2 Discovery Protocols</a></li><li><a href="/pages/6b8f16/" class="sidebar-link">Layer 2 Forwarding</a></li><li><a href="/pages/149f35/" class="sidebar-link">Routing_Static</a></li><li><a href="/pages/d70851/" class="sidebar-link">Dynamic Routing P1 RIP EIGRP</a></li><li><a href="/pages/c4055c/" aria-current="page" class="active sidebar-link">Dynamic Routing P2 OSPF</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/c4055c/#ospf-intro" class="sidebar-link">OSPF Intro</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/c4055c/#lsa-areas" class="sidebar-link">LSA &amp; Areas</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#lsa-flooding" class="sidebar-link">LSA Flooding</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#process-of-sharing-lsas-and-determing-the-best-route" class="sidebar-link">Process of sharing LSAs and determing the best route</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#ospf-areas" class="sidebar-link">OSPF Areas</a></li><li class="sidebar-sub-header level3"><a href="/pages/c4055c/#ospf-metric" class="sidebar-link">OSPF Metric</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#change-the-reference-bandwidth-on-routers" class="sidebar-link">Change the Reference-Bandwidth on routers</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#change-the-cost-of-an-interface" class="sidebar-link">Change the Cost of an Interface</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#change-bandwidth-of-an-interface-but-not-recommended" class="sidebar-link">change Bandwidth of an interface: But not recommended</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#summary" class="sidebar-link">summary</a></li><li class="sidebar-sub-header level3"><a href="/pages/c4055c/#ospf-neighbors" class="sidebar-link">OSPF Neighbors</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#seven-states-of-ospf" class="sidebar-link">Seven states of OSPF</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#process-of-ospf-relationship-establishment" class="sidebar-link">Process of OSPF relationship establishment</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#ospfçš„æŠ¥æ–‡ç±»å‹" class="sidebar-link">OSPFçš„æŠ¥æ–‡ç±»å‹</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#full-adjacency-relationship-requirements" class="sidebar-link">Full-Adjacency Relationship Requirements</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#ospfçš„ä¸‰å¼ è¡¨" class="sidebar-link">OSPFçš„ä¸‰å¼ è¡¨</a></li><li class="sidebar-sub-header level3"><a href="/pages/c4055c/#ospf-network-types" class="sidebar-link">OSPF Network Types</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#ospf-broadcast-network" class="sidebar-link">OSPF Broadcast Network</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#point-to-point-network" class="sidebar-link">Point-to-Point Network</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#configure-the-ospf-network-type" class="sidebar-link">Configure the OSPF Network Type</a></li><li class="sidebar-sub-header level3"><a href="/pages/c4055c/#ospf-lsa-types" class="sidebar-link">OSPF LSA Types</a></li><li class="sidebar-sub-header level3"><a href="/pages/c4055c/#configuration" class="sidebar-link">Configuration</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#basic-configuration" class="sidebar-link">Basic Configuration</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#more-configuration" class="sidebar-link">More configuration</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#configuration-of-p2p-serial-connection" class="sidebar-link">Configuration of P2P serial connection</a></li><li class="sidebar-sub-header level3"><a href="/pages/c4055c/#ospfçš„ç›¸å…³å‘½ä»¤" class="sidebar-link">OSPFçš„ç›¸å…³å‘½ä»¤</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#æŸ¥çœ‹å‘½ä»¤" class="sidebar-link">æŸ¥çœ‹å‘½ä»¤</a></li><li class="sidebar-sub-header level4"><a href="/pages/c4055c/#è°ƒè¯•å‘½ä»¤" class="sidebar-link">è°ƒè¯•å‘½ä»¤</a></li><li class="sidebar-sub-header level3"><a href="/pages/c4055c/#é…ç½®ospfæ±‡æ€»è·¯ç”±" class="sidebar-link">é…ç½®OSPFæ±‡æ€»è·¯ç”±</a></li><li class="sidebar-sub-header level3"><a href="/pages/c4055c/#ospf-terms-è‡ªæŸ¥è¡¨" class="sidebar-link">OSPF terms è‡ªæŸ¥è¡¨</a></li><li class="sidebar-sub-header level3"><a href="/pages/c4055c/#quiz" class="sidebar-link">Quiz</a></li></ul></li></ul></li><li><a href="/pages/32db2d/" class="sidebar-link">Layer 3 Forwarding</a></li><li><a href="/pages/fe5ceb/" class="sidebar-link">Virtual Routing and Forwarding</a></li><li><a href="/pages/bada2c/" class="sidebar-link">Layer 3 FHRPs</a></li><li><a href="/pages/81e45f/" class="sidebar-link">Security</a></li><li><a href="/pages/6bd28d/" class="sidebar-link">ACL</a></li><li><a href="/pages/7db05a/" class="sidebar-link">NAT ç½‘ç»œåœ°å€è½¬æ¢</a></li><li><a href="/pages/729891/" class="sidebar-link">LAN Architectures</a></li><li><a href="/pages/1076ba/" class="sidebar-link">WANå¹¿åŸŸç½‘</a></li><li><a href="/pages/441d7d/" class="sidebar-link">WLAN</a></li><li><a href="/pages/e31696/" class="sidebar-link">NTP</a></li><li><a href="/pages/c7a0a2/" class="sidebar-link">DNS</a></li><li><a href="/pages/d25cf6/" class="sidebar-link">Syslog</a></li><li><a href="/pages/c74f1d/" class="sidebar-link">Accessing the CLI of network devices</a></li><li><a href="/pages/5d3322/" class="sidebar-link">FTP TFTP</a></li><li><a href="/pages/e049f9/" class="sidebar-link">DHCP</a></li><li><a href="/pages/7ebd2e/" class="sidebar-link">SNMP</a></li><li><a href="/pages/bba118/" class="sidebar-link">Quality of service</a></li><li><a href="/pages/652496/" class="sidebar-link">Virtualization</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>CCNAé¢˜åº“</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Cisco Networking Academy</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ansible</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ç‰ˆæœ¬ç®¡ç† - Maven</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å¼€å‘ç®¡ç† - Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æ“ä½œç³»ç»Ÿ - Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å®¹å™¨éƒ¨ç½² - Docker</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E7%BD%91%E7%BB%9C%E8%BF%90%E7%BB%B4" title="åˆ†ç±»" data-v-06225672>ç½‘ç»œè¿ç»´</a></li><li data-v-06225672><a href="/categories/?category=CCNA" title="åˆ†ç±»" data-v-06225672>CCNA</a></li><li data-v-06225672><a href="/categories/?category=CCNA%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B0" title="åˆ†ç±»" data-v-06225672>CCNAçŸ¥è¯†ç¬”è®°</a></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/Jonas-Wolfxin" target="_blank" title="ä½œè€…" class="beLink" data-v-06225672>Jonas Wolfxin</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-04-01</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Dynamic Routing P2 OSPF<!----></h1> <!----> <div class="theme-vdoing-content content__default"><hr> <blockquote><p>Here are the numeric units and their values expressed in 10 to the power format:</p> <ol><li>Kilo (K): 10^3</li> <li>Mega (M): 10^6</li> <li>Giga (G): 10^9</li> <li>Tera (T): 10^12</li> <li>Peta (P): 10^15</li> <li>Exa (E): 10^18</li> <li>Zetta (Z): 10^21</li> <li>Yotta (Y): 10^24</li></ol></blockquote> <hr> <h2 id="ospf-intro"><a href="#ospf-intro" class="header-anchor">#</a> OSPF Intro</h2> <blockquote><ul><li><p><strong>Open Shortest Path First</strong>(å¼€æ”¾å¼æœ€çŸ­è·¯å¾„ä¼˜å…ˆï¼‰, industry standard, æ˜¯ç”¨äºIPç½‘ç»œçš„<a href="https://baike.baidu.com/item/%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE/1219386" target="_blank" rel="noopener noreferrer">é“¾è·¯çŠ¶æ€è·¯ç”±åè®®<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <ul><li><p>é€‚ç”¨äº<a href="https://baike.baidu.com/item/IPv4/422599" target="_blank" rel="noopener noreferrer">IPv4<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>çš„OSPFv2åè®®å®šä¹‰äºRFC2328ï¼Œ</p></li> <li><p>é€‚ç”¨äº<a href="https://baike.baidu.com/item/IPv6/172297" target="_blank" rel="noopener noreferrer">IPv6<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>çš„OSPFv3å®šä¹‰äºRFC5340ã€‚</p></li></ul></li> <li><p>Three versions:</p> <ul><li>OSPFv1 (1989): OLD, not in use anymore</li> <li>OSPFv2 (1998): Used for IPv4</li> <li>OSPFv3 (2008): Used for IPv6 (<em>can also be used for IPv4, but usually v2 is used</em>)</li></ul></li> <li><p>Routers store information about the network in <strong>LSAs</strong>(Link State Advertisements), which are organized in a structure called the <strong>LSDB</strong>(Link State Database).</p></li> <li><p>Routers will <strong>flood</strong> LSAs until all routers in the <strong>OSPF area</strong> develop the same map of the network (LSDB).</p> <ul><li>In the case of OSPF, it means router send the LSAs to all of their OSPF neighbors.</li> <li>OSPF â€˜areasâ€™ are a unique aspect of OSPF. More details later.</li></ul></li> <li><p>æ˜¯å¹¿æ³›ä½¿ç”¨çš„ä¸€ç§åŠ¨æ€è·¯ç”±åè®®ï¼Œå®ƒå±äºé“¾è·¯çŠ¶æ€è·¯ç”±åè®®ï¼Œå…·æœ‰è·¯ç”±å˜åŒ–æ”¶æ•›é€Ÿåº¦å¿«ã€æ— è·¯ç”±ç¯è·¯ã€æ”¯æŒå˜é•¿å­ç½‘æ©ç ï¼ˆVLSMï¼‰å’Œæ±‡æ€»ç­‰ä¼˜ç‚¹ã€‚åœ¨ç½‘ç»œä¸­ä½¿ç”¨<a href="https://baike.baidu.com/item/OSPF%E5%8D%8F%E8%AE%AE/421662" target="_blank" rel="noopener noreferrer">OSPFåè®®<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>åï¼Œå¤§éƒ¨åˆ†è·¯ç”±å°†ç”±OSPFåè®®è‡ªè¡Œè®¡ç®—å’Œç”Ÿæˆï¼Œæ— é¡»ç½‘ç»œç®¡ç†å‘˜äººå·¥é…ç½®ï¼Œå½“ç½‘ç»œæ‹“æ‰‘å‘ç”Ÿå˜åŒ–æ—¶ï¼Œåè®®å¯ä»¥è‡ªåŠ¨è®¡ç®—ã€æ›´æ­£è·¯ç”±ï¼Œæå¤§åœ°æ–¹ä¾¿äº†ç½‘ç»œç®¡ç†ã€‚ã€‚</p></li> <li><p>OSPFåè®®å¯ä»¥è®©æ¯ä¸ªè·¯ç”±å™¨è´Ÿè´£å‘ç°ã€ç»´æŠ¤ä¸é‚»å±…çš„å…³ç³»ï¼Œå¹¶å°†å·²çŸ¥çš„é‚»å±…åˆ—è¡¨å’Œé“¾è·¯çŠ¶æ€æ›´æ–°LSU(Link State Update)æŠ¥æ–‡æè¿°ï¼Œé€šè¿‡å¯é çš„æ³›æ´ªä¸è‡ªæ²»ç³»ç»ŸAS(Autonomous System)å†…çš„å…¶ä»–è·¯ç”±å™¨å‘¨æœŸæ€§äº¤äº’ï¼Œå­¦ä¹ åˆ°æ•´ä¸ªè‡ªæ²»ç³»ç»Ÿçš„<a href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91%E7%BB%93%E6%9E%84/4136060" target="_blank" rel="noopener noreferrer">ç½‘ç»œæ‹“æ‰‘ç»“æ„<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>; å¹¶é€šè¿‡è‡ªæ²»ç³»ç»Ÿè¾¹ç•Œçš„è·¯ç”±å™¨æ³¨å…¥å…¶ä»–ASçš„è·¯ç”±ä¿¡æ¯ï¼Œä»è€Œå¾—åˆ°æ•´ä¸ªInternetçš„è·¯ç”±ä¿¡æ¯ã€‚æ¯éš”ä¸€ä¸ªç‰¹å®šæ—¶é—´æˆ–å½“é“¾è·¯çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé‡æ–°ç”ŸæˆLSAï¼Œè·¯ç”±å™¨é€šè¿‡æ³›æ´ªæœºåˆ¶å°†æ–°LSAé€šå‘Šå‡ºå»ï¼Œä»¥ä¾¿å®ç°è·¯ç”±çš„å®æ—¶æ›´æ–°ã€‚</p></li> <li><p>åŠŸèƒ½å’Œç‰¹ç‚¹:</p> <ul><li><p>è¯¥åè®®ä½¿ç”¨ <strong>Shortest Path First</strong>(æœ€çŸ­è·¯å¾„ä¼˜å…ˆ)ç®—æ³•(aka. <strong>Dijkstra Algorithm</strong>)ã€‚</p> <ul><li>é¦–å…ˆOSPFè¦æ„å»ºä¸€ä¸ªæœ€çŸ­è·¯å¾„æ ‘, ç„¶åä½¿ç”¨æœ€ä½³è·¯å¾„çš„è®¡ç®—ç»“æœæ¥ç»„å»ºè·¯ç”±é€‰æ‹©è¡¨;</li> <li>OSPF çš„ä¼šèšä¹Ÿå¾ˆå¿«ï¼Œè™½ç„¶å®ƒå¯èƒ½æ²¡æœ‰EIGRPå¿«ï¼Œå¹¶ä¸”å®ƒä¹Ÿæ”¯æŒå¯¹ç›¸åŒç›®æ ‡çš„ç­‰ä»·å¤šè·¯å¾„è·¯ç”±ã€‚</li></ul></li> <li><p>ä½¿ç”¨ASè‡ªæ²»ç³»ç»Ÿå¹¶æ”¯æŒè‡ªæ²»ç³»ç»Ÿå†…è¿›è¡Œå±‚æ¬¡åŒºåŸŸåˆ’åˆ†;</p> <blockquote><p>å°†OSPFåˆ›å»ºä¸ºå±‚æ¬¡ç»“æ„çš„åŸå› å¦‚ä¸‹:</p> <ul><li>å‡å°‘è·¯ç”±é€‰æ‹©çš„å¼€é”€;</li> <li>åŠ é€Ÿä¼šèš;</li> <li>å°†ç½‘ç»œçš„ä¸ç¨³å®šæ€§é™åˆ¶åœ¨å•ä¸€çš„ç½‘ç»œåŒºåŸŸå†…ã€‚</li></ul></blockquote></li> <li><p>æœ€å°åŒ–çš„è·¯ç”±é€‰æ‹©çš„æ›´æ–°æµé‡;</p></li> <li><p>æ”¯æŒVLSMå’ŒCIDR;</p></li></ul></li> <li><p>AD: 110</p></li> <li><p>OSPFåœ¨å•ä¸€ASå†…é€šè¿‡ SPFç®—æ³• è®¡ç®—åˆ°è¾¾ç›®çš„åœ°çš„æœ€çŸ­è·¯å¾„, è·¯ç”±å™¨ä½¿ç”¨æœ€çŸ­è·¯å¾„æ ‘æ¥å°†OSPFè·¯ç”±æ’å…¥åˆ°è·¯ç”±è¡¨ä¸­</p> <ul><li><p>é“¾è·¯(Link): è·¯ç”±å™¨çš„æ¥å£</p></li> <li><p>çŠ¶æ€(State): æè¿°æ¥å£åŠå…¶ä¸é‚»å±…è·¯ç”±å™¨ä¹‹é—´çš„å…³ç³»</p></li> <li><p>Cost: æ¯ä¸ªè·¯ç”±å™¨éƒ½æŠŠè‡ªå·±çš„æ¥å£å½“åšæ ¹, å»æ„é€ ä¸€æ£µæ ‘(è¿™æ£µæ ‘ä¸­åªåŒ…å«äº†è·¯ç”±å™¨æ‰€åœ¨åŒºåŸŸå†…çš„ç½‘ç»œ), å¹¶ä¸”ç»™ä¸ç´¯è®¡æˆæœ¬æ¥è®¡ç®—åˆ°è¾¾ç›®çš„åœ°çš„æœ€çŸ­è·¯å¾„</p></li></ul></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303300419655.png" alt="image-20220620191328842" style="zoom:39%;"></blockquote> <h3 id="lsa-areas"><a href="#lsa-areas" class="header-anchor">#</a> LSA &amp; Areas</h3> <h4 id="lsa-flooding"><a href="#lsa-flooding" class="header-anchor">#</a> LSA Flooding</h4> <blockquote><ul><li>this network of four routers is running OSPF. All of these routers are OSPF neighbors, they have the same link state database and the network is stable.</li> <li><strong>LSDB is identical for all routers in the OSPF area. Each of these routers has a complete map of the network.</strong></li> <li>Each individual LSA has an aging timer, which is <strong>30 minutes</strong> by default.</li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010118059.png" alt="image-20230401011832637" style="zoom:33%;"> <h4 id="process-of-sharing-lsas-and-determing-the-best-route"><a href="#process-of-sharing-lsas-and-determing-the-best-route" class="header-anchor">#</a> Process of sharing LSAs and determing the best route</h4> <blockquote><p>In OSPF, there are <strong>three main steps</strong> in the process of sharing LSAs and determining the best route to each destination in the network:</p> <ol><li><em>Become neighbors</em> with other routers connected to the same segment;</li> <li><em>Exchange LSAs</em> with neighbor routers;</li> <li>Each router independently <em>calculates its best routes to each destination, and inserts them into the routing table</em>.</li></ol></blockquote> <h4 id="ospf-areas"><a href="#ospf-areas" class="header-anchor">#</a> OSPF Areas</h4> <blockquote><ul><li>OSPF uses <strong>Areas</strong> to divide up the network.</li> <li>Small networks can be single-area without any negative effects on network performance;</li> <li>In larger networks, however, <em>a single-area design</em> can have some <strong>negative</strong> effects:
<ul><li>SPF algorithm takes more time to calculate routes in a large network;</li> <li>SPF algorithm requires exponentially(æŒ‡æ•°çº§) more processing power on each router to make calculations.</li> <li>Larger LSDB takes up more memory on the routers;</li> <li>Any small change in the network causes every router to flood LSAS and run the SPF algorithm again;</li></ul></li> <li>By dividing a large OSPF network into several smaller areas, you can avoid the above negative effects.</li></ul></blockquote> <h5 id="example-of-a-larger-network"><a href="#example-of-a-larger-network" class="header-anchor">#</a> Example of a larger network</h5> <blockquote><h5 id="possible-one-large-single-area-network"><a href="#possible-one-large-single-area-network" class="header-anchor">#</a> possible one large, single-area network</h5> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010134524.png" alt="image-20230401013403209" style="zoom:25%;"> <ul><li>All interfaces on all routers are assigned to <strong>Area 0</strong>, also known as the <strong>Backbone Area</strong>.</li></ul> <h5 id="possibly-divided-into-separate-areas"><a href="#possibly-divided-into-separate-areas" class="header-anchor">#</a> Possibly divided into separate Areas</h5> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010138019.png" alt="image-20230401013807700" style="zoom:25%;"></blockquote> <h5 id="terms-of-ospf-areas"><a href="#terms-of-ospf-areas" class="header-anchor">#</a> Terms of OSPF Areas</h5> <blockquote><ul><li><p><code>Area</code>: a set of routers and links that share the same <em>LSDB(link state database)</em>.</p></li> <li><p><code>Backbone Area</code> (which is <strong>Area 0</strong>) is a special area, that <strong>all other areas must connect to</strong>.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010144115.png" alt="image-20230401014458823" style="zoom:28%;"></li> <li><p>Routers <em>with all interfaces in the same OSPF area</em> are called ``<strong>Internal Routers</strong>â€™.</p></li> <li><p>Routers <em>with interfaces in multiple areas</em> are called â€˜<strong>Area Border Routers(ABR)</strong>â€™, because they are the border between different OSPF areas.</p> <ul><li>ABRs maintain a separate LSDB for each area they are connected to.</li> <li>It is recommend that you connect an ABR to a <em>maximum of 2 areas</em>. Connecting an ABR to 3+ areas can <strong>overburden</strong> the router.</li></ul></li> <li><p>Routers <strong>connected to the Backbone Area(area 0)</strong>, which means <em>at least one of the interfaces on the routers must be configured in Backbone Area</em>,  are called <strong>Backbone Routers</strong>.</p> <ul><li>(The <em>ABRs in this diagram</em> are also Backbone Routers, <em>on top of</em> being an ABR.;</li> <li>Of course, the <em>Internal Routers in Area 0</em> are Backbone Routers.)</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010151952.png" alt="image-20230401015137621" style="zoom:30%;"></li> <li><p>An <strong>Intra-area Route</strong> is a route to a destination inside the same OSPF area.</p></li> <li><p>An <strong>Inter-area Route</strong> is a route to a destination in a different OSPF area.</p></li> <li><p>OSPFè¿è¡Œåœ¨æŸä¸ªè‡ªæ²»ç³»ç»Ÿå†…éƒ¨ï¼Œä½†æ˜¯é€šè¿‡è·¯ç”±å™¨ä¹Ÿå¯ä»¥å°†å¤šä¸ªè‡ªæ²»ç³»ç»Ÿè¿æ¥èµ·æ¥æˆ–è€…è¿æ¥åˆ°Internet, è¿™ç§è·¯ç”±å™¨è¢«ç§°ä¸º[<strong>ASBR(Autonomous System Boundary Router)</strong>](# æŸ¥çœ‹æŒ‡ä»¤)ã€‚An [...] is an OSPF router that connects the OSPF network to an external network.</p></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010352961.png" alt="image-20230401035254819"></p></blockquote> <h5 id="reqiurements-of-ospf-areas"><a href="#reqiurements-of-ospf-areas" class="header-anchor">#</a> Reqiurements of OSPF Areas</h5> <blockquote><ul><li><p><strong>OSPF areas should be contiguous</strong>. It means that each individual area should be connected, not divided up.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010216273.png" alt="image-20230401021658953" style="zoom:25%;"></li> <li><p>All OSPF areas must have <em>at least one ABR</em> connected to the backbone area.</p></li> <li><p>OSPF interfaces in the same subnet must be <strong>configured in the same area</strong>.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010224810.png" alt="image-20230401022410495" style="zoom:33%;"></li></ul></blockquote> <h3 id="ospf-metric"><a href="#ospf-metric" class="header-anchor">#</a> OSPF Metric</h3> <blockquote><ul><li><p>OSPFâ€™s metric is called <strong>Cost</strong>, which is <em>automatically calculated based on the bandwidth (speed) of the interface</em>.</p></li> <li><p>It is calculated by dividing a <strong>Reference Bandwidth(100 Mbps by default)</strong> by the <strong>interfaceâ€™s bandwidth</strong>. Therefore Fast-Ethernet, Gigabit-Ethernet, 10Gig-Ethernet, etc. are equal and all have a <strong>cost of 1 by default</strong>. <code>(This could lead to efficiency problems in Load-Balancing!)</code></p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010625327.png" alt="image-20230401062532122" style="zoom:33%;"></li></ul></blockquote> <h4 id="change-the-reference-bandwidth-on-routers"><a href="#change-the-reference-bandwidth-on-routers" class="header-anchor">#</a> Change the Reference-Bandwidth on routers</h4> <blockquote><ul><li>You can (<strong>and should!</strong>) change the reference bandwidth <em>greater than the fastest links in your network</em> (to allow for future upgrades) with this command:</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code> R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># auto-cost reference-bandwidth Megabits-Per-Second</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></blockquote> <h4 id="change-the-cost-of-an-interface"><a href="#change-the-cost-of-an-interface" class="header-anchor">#</a> Change the Cost of an Interface</h4> <blockquote><ul><li>The Cost of each interface can be manually configured via the command <code>ip ospf cost æ•°å€¼</code>;</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010651277.png" alt="image-20230401065135083" style="zoom:43%;"> <ul><li>The Cost of each interface can be shown via <code>show ip ospf interface Interface</code>.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010716820.png" alt="image-20230401071657667" style="zoom:30%;"></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010644899.png" alt="image-20230401064432529" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010650281.png" alt="image-20230401065042783" style="zoom:33%;"> <h4 id="change-bandwidth-of-an-interface-but-not-recommended"><a href="#change-bandwidth-of-an-interface-but-not-recommended" class="header-anchor">#</a> change Bandwidth of an interface: But not recommended</h4> <blockquote><ul><li>One more option to change the OSPF cost of an interface is to <strong>change the bandwidth of the interface</strong> with the <code>bandwidth</code> command.</li> <li>The formula to calculate OSPF cost is <code>reference bandwidth / interface bandwidth</code>;</li> <li><strong>However, the bandwidth value is used in other calculations, it is not recommended to change this value to alter the interfaceâ€™s OSPF cost.</strong></li></ul></blockquote> <blockquote><h6 id="bandwidth-vs-speed-on-an-interface"><a href="#bandwidth-vs-speed-on-an-interface" class="header-anchor">#</a> Bandwidth Vs Speed on an interface</h6> <ul><li>Although the bandwidth matches the interface speed by default, changing the interface bandwidth doesnâ€™t actually change the speed at which the interface operates.</li> <li>The bandwidth is just a value that is used to calculate OSPF cost, EIGRP metric, etc.</li> <li>To change the speed at which the interface operates, use the <code>speed</code>command.</li></ul></blockquote> <h4 id="summary"><a href="#summary" class="header-anchor">#</a> summary</h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010714835.png" alt="image-20230401071439608" style="zoom:30%;"> <h3 id="ospf-neighbors"><a href="#ospf-neighbors" class="header-anchor">#</a> OSPF Neighbors</h3> <blockquote><ul><li><em>Making sure that routers successfully become OSPF neighbors is the main task in configuring and troubleshooting OSPF.</em></li> <li><strong>Once routers become neighbors</strong>, they automatically do the work of sharing network information, calculating routes, etc.</li> <li>When OSPF is activated on an interface, the router starts sending <strong>OSPF hello messages</strong> out of the interface at regular intervals (determined by the hello timer). These are used to introduce the router to potential OSPF neighbors.</li> <li>The default hello timer is <strong>10 seconds</strong> on an Ethernet connection.</li> <li><strong>Hello messages</strong> are multicast to <strong>224.0.0.5</strong> (multicast address for all OSPF routers);</li> <li><strong>Messages to the OSPF DR/BDR</strong> are multicast using address [<strong>224.0.0.6</strong>].</li> <li>OSPF messages are encapsulated in an IP header, with <strong>a value of 89 in the Protocol</strong> field.</li></ul></blockquote> <h4 id="seven-states-of-ospf"><a href="#seven-states-of-ospf" class="header-anchor">#</a> Seven states of OSPF</h4> <blockquote><h6 id="down-state"><a href="#down-state" class="header-anchor">#</a> Down state</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010919960.png" alt="image-20230401091934817" style="zoom:33%;"> <ul><li>OSPF is activated on R1â€™s GO/O interface.</li> <li>It sends an OSPF hello message to <code>224.0.0.5</code>.</li> <li>It doesnâ€™t know about any OSPF neighbors yet, so the current neighbor state is Down.</li></ul> <h6 id="init-state"><a href="#init-state" class="header-anchor">#</a> Init State</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010920145.png" alt="image-20230401092057003" style="zoom:33%;"> <ul><li>When R2 receives the Hello packet, it will add an entry for R1 to its OSPF neighbor table.</li> <li>In R2â€™s neighbor table, the relationship with R1 is now in the Init state.</li> <li><code>Init state = Hello packet received, but own router ID is not in the Hello packet.</code></li></ul> <h6 id="two-way-state"><a href="#two-way-state" class="header-anchor">#</a> Two-way State</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010924340.png" alt="image-20230401092411165" style="zoom:33%;"> <ul><li>R2 will send a Hello packet containing the Router_ID of both routers. R1 will insert R2 into its OSPF neighbor table within the 2-way state.</li> <li>R1 will send another Hello message, this time containing R2â€™s RID. Now both routers are in the 2-way state.</li> <li><code>The 2-way state means the router has received a Hello packet with its own RID in it.</code></li> <li><strong>If both routers reach the 2-way state, it means that all of the conditions have been met for them to become OSPF neighbors.</strong> They are now ready to share LSAs to build a common LSDB.</li> <li>In some network types, a <strong>DR (Designated Router)</strong> and <strong>BDR (Backup Designated Router)</strong> will be elected at this point.</li></ul> <h6 id="exstart-state"><a href="#exstart-state" class="header-anchor">#</a> EXstart state</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010933865.png" alt="image-20230401093349722" style="zoom:33%;"> <ul><li><p>After the 2-way state, the two routers will now prepare to exchange information about their LSDB.</p></li> <li><p>Before that, they have to choose which one will start the exchange. (Master/Slave router)</p> <p>This <strong>Master/Slave relationship</strong> is only needed for this <strong>initial exchange of LSDB</strong> information.</p></li> <li><p>The router with the <strong>higher Router_ID</strong> will become the Master and initiate the exchange. The router with the lower Router_ID will become the Slave.</p></li> <li><p>To decide the Master and Slave, they need to exchange <em>DBD (Database Description)</em> packets.</p></li></ul> <h6 id="exchange-state"><a href="#exchange-state" class="header-anchor">#</a> Exchange state</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010936086.png" alt="image-20230401093614904" style="zoom:33%;"> <ul><li>In the Exchange state they exchanged DBD packets, so they know which LSAs their neighbors are holding. In the Exchange state, the routers exchange DBDs which contain a list of the LSAs in their LSDB. These DBDs do not include detailed information about the LSAs, just basic information telling their neighbor what LSAs they have.</li> <li>The routers compare the information in the DBD they received to the information in their own LSDB to determine which LSAs they must receive from their neighbor.</li></ul> <h6 id="loading-state"><a href="#loading-state" class="header-anchor">#</a> Loading state</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010940695.png" alt="image-20230401094047514" style="zoom:33%;"> <ul><li>routers send <strong>LSR</strong> messages to request LSAs they donâ€™t have from their neighbor.</li> <li>Then the LSAs are sent in <strong>LSU</strong>(Link State Update) messages.</li> <li>Finally, The routers send <strong>LSAck</strong> messages to acknowledge that they received the LSAs. Now the loading state is complete, and the routers have the same LSDB.</li></ul> <h6 id="full-state"><a href="#full-state" class="header-anchor">#</a> Full state</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010945993.png" alt="image-20230401094552848" style="zoom:33%;"> <ul><li>In the Full state, the routers have a <strong>full OSPF adjacency</strong> and <strong>identical LSDBs</strong>.</li> <li>They continue to send and listen for <strong>Hello packets</strong>(once every 10 seconds by default) to maintain the <strong>neighbor adjacency</strong>. To maintain the adjacency, another timer called the â€˜Deadâ€™ timer is used.</li> <li>Every time a Hello packet is received, the <strong>â€˜Deadâ€™ timer (40 seconds by default)</strong> is reset. However, if the Dead timer counts down to 0 and no Hello message is received, the neighbor is removed.</li> <li>If the neighbors remain up, the routers will continue to share LSAs as the network changes to make sure each router has a complete and accurate map of the network.</li></ul></blockquote> <h5 id="another-notation-eight-states-of-ospf-neighbors"><a href="#another-notation-eight-states-of-ospf-neighbors" class="header-anchor">#</a> Another Notation: Eight States of OSPF neighbors</h5> <blockquote><p>In OSPF (Open Shortest Path First), neighbor states are used to track the progress of forming and maintaining neighbor relationships between OSPF routers. There are several neighbor states that OSPF routers can go through as they establish and maintain neighbor relationships. These states are:</p> <ol><li><strong>Down</strong>: In this state, the router has not yet established any communication with its neighbor.</li> <li><strong>Attempt</strong>: In this state, the router is attempting to establish a neighbor relationship with the neighbor by sending hello packets.</li> <li><strong>Init</strong>: In this state, the router has received a hello packet from its neighbor, but it has not yet received confirmation of the hello packet.</li> <li><strong>2-Way</strong>: In this state, the router has received confirmation of the hello packet from its neighbor, and it has also sent a hello packet to the neighbor.</li> <li><strong>Exstart</strong>: In this state, the router has initiated the process of exchanging database information with its neighbor.</li> <li><strong>Exchange</strong>: In this state, the router is actively exchanging database information with its neighbor.</li> <li><strong>Loading</strong>: In this state, the router is receiving the database information from its neighbor.</li> <li><strong>Full</strong>: In this state, the router has successfully established a neighbor relationship with its neighbor, and it has received a complete copy of the neighbor's link-state database.</li></ol> <p>Once the neighbor relationship is established and both routers reach the Full state, they can exchange routing information and update their routing tables based on the topology of the network.</p></blockquote> <h4 id="process-of-ospf-relationship-establishment"><a href="#process-of-ospf-relationship-establishment" class="header-anchor">#</a> Process of OSPF relationship establishment</h4> <blockquote><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010955409.png" alt="image-20230401095545125" style="zoom:33%;"> <p>The three main steps in the process of sharing LSAs and determining the best routes to each destination are</p> <ol><li><strong>Become neighbors</strong> with other routers connected to the same segment;</li> <li><strong>Exchange LSAs</strong> with neighbor routers;</li> <li><strong>Calculate the best routes</strong> to each destination, and insert them into the routing table.</li></ol></blockquote> <h4 id="ospfçš„æŠ¥æ–‡ç±»å‹"><a href="#ospfçš„æŠ¥æ–‡ç±»å‹" class="header-anchor">#</a> OSPFçš„æŠ¥æ–‡ç±»å‹</h4> <blockquote><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011000054.png" alt="image-20230401100054804" style="zoom:33%;"></blockquote> <h4 id="full-adjacency-relationship-requirements"><a href="#full-adjacency-relationship-requirements" class="header-anchor">#</a> Full-Adjacency Relationship Requirements</h4> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220620202409172.png" alt="image-20220620202409172" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303300419982.png" alt="image-20220620211633205" style="zoom:43%;"> <blockquote><h5 id="ospf-neighbor-adjacency-requirements"><a href="#ospf-neighbor-adjacency-requirements" class="header-anchor">#</a> OSPF Neighbor/Adjacency Requirements:</h5> <ol><li><p><code>Area-ID</code> must match;</p></li> <li><p>One of the interfaces of the <strong>routers</strong> must be in the same subnet(Area);</p></li> <li><p><strong>OSPF process must not be shutdown</strong>;</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304020313739.png" alt="image-20230402031311582" style="zoom:47%;"></li> <li><p><strong>OSPF Router_IDs</strong> must be unique;(<em>Routers with matching OSPF router IDs can't become neighbors</em>)</p></li> <li><p><strong>Hello and Dead timers</strong> must match;</p> <blockquote><ul><li>Helloé—´éš”ç”¨äºè®¾å®šå‘é€ä¸¤ä¸ªHello æ•°æ®åŒ…ä¹‹é—´çš„ç§»è®¡æ•°ã€‚</li> <li>è€Œdeadé—´éš”æ˜¯æŒ‡è·¯ç”±å™¨å‘å‡ºçš„Hello æ•°æ®åŒ…æ²¡æœ‰è¢«é‚»å±…çœ‹åˆ°ï¼Œå› è€Œå®£ç§°æ­¤OSPF è·¯ç”±å™¨å³æœºæ‰€ç»è¿‡çš„ç§’æ•°ã€‚</li> <li>OSPF è¦æ±‚ï¼Œä¸¤ä¸ªé‚»å±…é—´è®¾ç½®çš„è¿™äº›æ—¶é—´é—´éš”å¿…é¡»æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚å¦‚æœè¿™äº›é—´éš”ä¸­çš„ä»»ä½•ä¸€ä¸ªä¸ç›¸åŒï¼Œåˆ™æ­¤ç½‘ç»œåˆ†æ®µä¸Šçš„è·¯ç”±å™¨å°†ä¸èƒ½æˆä¸ºé‚»å±…ã€‚å¯ä»¥ä½¿ç”¨show ip ospf interface å‘½ä»¤æ¥æŸ¥çœ‹è¿™äº›å®šæ—¶å™¨ã€‚</li></ul></blockquote></li> <li><p><code>Authentication password</code> must match;</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304020319565.png" alt="image-20230402031914435" style="zoom:45%;"></li> <li><p><strong>Stub Area Flag</strong> must match;</p></li> <li><p><strong>IP MTU settings</strong> must match(The default is usually 1500 bytes);</p> <blockquote><p>Even if the settings donâ€™t match, the neighbors can become OSPF neighbors, but OSPF wonâ€™t function properly.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304020323285.png" alt="image-20230402032356106" style="zoom:45%;"></blockquote></li> <li><p>The OSPF network type must match.</p> <blockquote><p>If two routers have an OSPF network type mismatch, they will form an OSPF adjacency but won't [<strong>learn OSPF routes</strong>].</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304020326891.png" alt="image-20230402032613680" style="zoom:43%;"> <p>R2â€™s loopback address should be in R1â€™s, but not.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304020327992.png" alt="image-20230402032716728" style="zoom:35%;"></blockquote></li></ol></blockquote> <h4 id="ospfçš„ä¸‰å¼ è¡¨"><a href="#ospfçš„ä¸‰å¼ è¡¨" class="header-anchor">#</a> OSPFçš„ä¸‰å¼ è¡¨</h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303300419017.png" alt="image-20220620202258962" style="zoom:33%;"> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>show <span class="token function">ip</span> ospf neighbor
show <span class="token function">ip</span> ospf topology
show <span class="token function">ip</span> route
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="ospf-network-types"><a href="#ospf-network-types" class="header-anchor">#</a> OSPF Network Types</h3> <blockquote><p>The OSPF â€˜<strong>network type</strong>â€™ refers to <strong>the type of connection between OSPF neighbors</strong> (Ethernet, etc).</p> <p>There are three main OSPF network types:</p> <ul><li><strong>Broadcast</strong>: enabled by default on <strong>Ethernet</strong> and <em>FDDI (Fiber Distributed Data Interfaces)</em> interfaces;</li> <li><strong>Point-to-point</strong>: enabled by default on <em>PPP</em> (Point-to-Point Protocol) and <em>HDLC</em> (High-Level Data Link Control) interfaces;</li> <li><strong>Non-broadcast</strong>: enabled by default on <em>Frame Relay</em> and <em>X.25</em> interfaces; We wonâ€™t cover this network type, but with the â€˜Non-broadcastâ€™ network type you must manually configure neighbors.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011500167.png" alt="image-20230401150045936" style="zoom:30%;"></blockquote> <h4 id="ospf-broadcast-network"><a href="#ospf-broadcast-network" class="header-anchor">#</a> OSPF Broadcast Network</h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011256077.png" alt="image-20230401125645934" style="zoom:50%;"> <blockquote><ul><li>In the network diagram above, these are all Ethernet connections, remember â€˜Gâ€™ means â€˜Gigabit Ethernetâ€™.</li> <li><strong>Broadcast Network</strong> is enabled on <em>Ethernet</em> and <em>FDDI interfaces</em> by default.</li> <li>Routers dynamically discover neighbors by <strong>sending/listening for OSPF Hello messages</strong> using the <strong>multicast address 224.0.0.5</strong>.</li></ul></blockquote> <h5 id="dr-bdr"><a href="#dr-bdr" class="header-anchor">#</a> DR/BDR</h5> <blockquote><ul><li>åªæœ‰åœ¨<strong>Broadcast Network</strong>å’Œ<strong>Non-Broadcast</strong>å¤šè·¯è®¿é—®ç½‘ç»œ(å¦‚ä»¥å¤ªç½‘å’Œå¸§ä¸­ç»§)çš„ç½‘ç»œåˆ†æ®µä¸Šæ‰ä¼šè¿›è¡ŒDRå’ŒBDRçš„é€‰ä¸¾ã€‚oint-to-Point Networkï¼Œä¾‹å¦‚ä¸²è¡ŒWANè¿æ¥ï¼Œä¸ä¼šè¿›è¡ŒDR/BDRçš„é€‰ä¸¾ã€‚</li> <li><strong>A DR(Designated Router) and BDR(Backup Designated Router) must be elected on each subnet.</strong> However, in cases like the G1/0 interface of R1, R3, R4, and R5 where there are no OSPF neighbors, there is just a DR, no BDR.</li> <li>Routers which arenâ€™t the DR or BDR for the subnet become a â€˜<strong>DROther</strong>â€™.</li></ul></blockquote> <blockquote><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011424507.png" alt="image-20230401142457246" style="zoom:33%;"> <h6 id="dr-bdr-å¯¹å‡å°‘-the-cost-of-ospf-routingçš„ä½œç”¨æœºåˆ¶"><a href="#dr-bdr-å¯¹å‡å°‘-the-cost-of-ospf-routingçš„ä½œç”¨æœºåˆ¶" class="header-anchor">#</a> DR/BDR å¯¹å‡å°‘ the Cost of OSPF Routingçš„ä½œç”¨æœºåˆ¶:</h6> <ul><li><strong>Connections between two DROthers stop at 2-way state.</strong></li> <li>**Routers will only continue on to exchange LSAs and form a full OSPF adjacency with the DR and BDR. **</li> <li><strong>And DROthers will form a FULL adjacency only with the DR/BDR.</strong></li></ul></blockquote> <blockquote><h6 id="ospfä¸­-dr-å’Œ-bdrçš„é€‰ä¸¾è§„åˆ™"><a href="#ospfä¸­-dr-å’Œ-bdrçš„é€‰ä¸¾è§„åˆ™" class="header-anchor">#</a> ==OSPFä¸­ DR å’Œ BDRçš„é€‰ä¸¾è§„åˆ™==:</h6> <ol><li><p>é¦–å…ˆä¼šæ¯”è¾ƒåŒä¸€ç½‘æ®µå†…å„ä¸ªæ¥å£çš„Priorityå€¼(0~255, <strong>é»˜è®¤æ˜¯1</strong>): <strong>æ•°å€¼è¶Šå¤§è¶Šä¼˜</strong>;</p> <ul><li>if you set the OSPF interface priority to 0, the router <strong>CANNOT</strong> be the DR/BDR for the subnet, no matter what.</li> <li>ä¼˜å…ˆçº§æŸ¥çœ‹: <code>how ip ospf interface</code>;</li> <li>ä¼˜å…ˆçº§ä¿®æ”¹: <code>R2(config-if)#ip ospf priority ?</code></li></ul></li> <li><p>Priorityæ•°å€¼ç›¸ç­‰æ—¶, è¿›è¡Œ Router-ID çš„æ¯”è¾ƒ: <strong>æ•°å€¼è¶Šå¤§è¶Šä¼˜</strong>;</p> <ul><li><p>é»˜è®¤æƒ…å†µä¸‹ the Highest IP address on the interfaces, å°†åœ¨è·¯ç”±å™¨å¯åŠ¨æ—¶æˆä¸ºè¯¥è·¯ç”±å™¨çš„Router_IDã€‚</p></li> <li><p>å¯ä»¥é…ç½®Loopback addressæ¥ä¿®æ”¹RID(åœ¨å†³å®šRouter_IDçš„æ—¶å€™, loopbackåœ°å€çš„ä¼˜å…ˆçº§æ¯”ç‰©ç†åœ°å€æ›´é«˜);</p></li> <li><p>ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤<code>router-id</code>å®ç°å¯¹Router_IDçš„å¼ºåˆ¶ä¿®æ”¹:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R3<span class="token comment">#sh ip ospf</span>
 Routing Process <span class="token string">&quot;ospf 1&quot;</span> with ID <span class="token number">10.1</span>.12.1
R3<span class="token comment">#config t</span>
R3<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#router ospf 1</span>
R3<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#router-id 172.31.1.4</span>
R3<span class="token comment">#Reload or use &quot;clear ip ospf process&quot; command, for this to take effect</span>
                                    
R3<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#do clear ip ospf process</span>
Reset ALL OSPF processes? <span class="token punctuation">[</span>no<span class="token punctuation">]</span>: <span class="token function">yes</span>
    <span class="token number">20</span>:16:35: %OSPF-5-ADJCHG: Process <span class="token number">1</span>, Nbr <span class="token number">10.1</span>.5.1 on FastEthernet0/0
    from FULL to DOWN, Neighbor Down: Adjacency forced to reset
    <span class="token number">20</span>:16:35: %OSPF-5-ADJCHG: Process <span class="token number">1</span>, Nbr <span class="token number">10.1</span>.5.1 on FastEthernet0/0
    from FULL to DOWN, Neighbor Down: Interface down or detached
R3<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#do sh ip ospf</span>
    Routing Process <span class="token string">&quot;ospf 1&quot;</span> with ID <span class="token number">172.31</span>.1.4
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ul></li></ol> <h6 id="dr-bdrçš„non-preemptive"><a href="#dr-bdrçš„non-preemptive" class="header-anchor">#</a> DR/BDRçš„<code>Non-preemptive</code>:</h6> <p>Once the DR/BDR are selected they will keep their role until <strong>OSPF is reset</strong>, <strong>the interface fails/is shut down</strong>, etc. OSPFé€‰ä¸¾è¿‡ç¨‹ç»“æŸååŠ å…¥çš„è·¯ç”±å™¨, æˆ–è€…å¯¹ç°æœ‰è·¯ç”±å™¨çš„OSPF interface Priorityå’ŒRouter_IDè¿›è¡Œäº†ä¿®æ”¹, å³ä½¿æ‹¥æœ‰æ›´é«˜çš„ Priorityå’Œ Router-ID, ä½†åªè¦ç°æœ‰çš„DRä¸æŒ‚æ‰æˆ–è€…OSPF processæ²¡æœ‰è¢«é‡å¯, DRå°±ä¸ä¼šè¢«æ–°çš„è·¯ç”±å™¨æ‰€æŠ¢å ;</p></blockquote> <h5 id="lab"><a href="#lab" class="header-anchor">#</a> Lab</h5> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011350524.png" alt="image-20230401135022358" style="zoom:43%;"> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># change the OSPF interface priority of the router</span>
R2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int f1/0</span>
R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip ospf ?</span>
  <span class="token operator">&lt;</span><span class="token number">1</span>-6553<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>           Process ID
  authentication      Enable authentication
  authentication-key  Authentication password <span class="token punctuation">(</span>key<span class="token punctuation">)</span>
  cost                Interface cost
  dead-interval       Interval after <span class="token function">which</span> a neighbor is declared dead
  hello-interval      Time between HELLO packets
  message-digest-key  Message digest authentication password <span class="token punctuation">(</span>key<span class="token punctuation">)</span>
  network             Network <span class="token builtin class-name">type</span>
  priority            Router priority
R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip ospf priority ?</span>
  <span class="token operator">&lt;</span><span class="token number">0</span>-25<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>  Priority
R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip ospf priority 255</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011351933.png" alt="image-20230401135102759" style="zoom:39%;"> <ul><li>Thatâ€™s strange. R2â€™s state is still DROTHER, even though it has the highest priority.</li> <li>Why?  <strong>Itâ€™s because the DR/BDR election is â€˜non-preemptiveâ€™.</strong></li> <li>So, although this is a bad idea to do in a live network, I reset the OSPF process on R5 and letâ€™s see what happens.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011353790.png" alt="image-20230401135340545" style="zoom:50%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011400091.png" alt="image-20230401140019927" style="zoom:50%;"> <ul><li><p>After I reset the OSPF process on R5, you can see that all of its neighbors went DOWN. Then R2 and R4 returned to the FULL state, but not R3. Thereâ€™s an important reason!</p></li> <li><p>Then I used the <code>show ip ospf neighbor</code> command to view the neighbor state of R5â€™s neighbors. Look here, there are two important points about OSPF we can learn by analyzing this section.:</p> <ul><li><p>R4 became the DR, not R2. R2 became the BDR;</p> <p>-&gt; <strong>when the DR goes down, the BDR(R4) becomes the new DR. Then an election is held for the next BDR. R2 has the highest priority, 255, so it became the BDR.</strong></p></li> <li><p>R3 is a <strong>DROther</strong>, and is stable in the 2-way state.</p> <p>-&gt; <strong>DROthers(R3 and R5 in this subnet) will only move to the FULL state with the DR and BDR of the subnet. Its neighbor state with other DROthers(R3 &lt;-&gt; R5) will be 2-way.</strong></p></li></ul></li></ul> <blockquote><p><strong>Conclusion:</strong></p> <ul><li>In the Broadcast Network type, routers will only form a full OSPF adjacency with the DR and BDR of the segment.</li> <li>Therefore, routers only exchange LSAs with the DR and BDR.</li> <li>Remember that, in the 2-way state, routers havenâ€™t shared LSAs with each other yet. All routers will still have the same LSDB, but this reduces the amount of LSAs flooding the network.</li></ul></blockquote></blockquote> <h6 id="å‡è®¾åä¾‹è¯´æ˜"><a href="#å‡è®¾åä¾‹è¯´æ˜" class="header-anchor">#</a> å‡è®¾åä¾‹è¯´æ˜</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011412882.png" alt="image-20230401141244692" style="zoom:25%;"> <blockquote><p>If 6 routers are connected to the same segment and they all share LSAs with each other, it will end up like this. A whole lot of LSAs flooding and congesting the network. How about if we use a DR and BDR?</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011414253.png" alt="image-20230401141401083" style="zoom:25%;"> <ul><li>If routers only exchange LSAs with the DR and BDR, as you can see the number of LSAs flooding around the network is reduced.</li> <li>By the way, when routers need to send messages to the DR and BDR they use multicast address <code>224.0.0.6</code>. This is different than the OSPF â€˜all routersâ€™ multicast address of 224.0.0.5.</li></ul></blockquote> <h4 id="point-to-point-network"><a href="#point-to-point-network" class="header-anchor">#</a> Point-to-Point Network</h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011435507.png" alt="image-20230401143542358" style="zoom:43%;"> <blockquote><ul><li>The Point-to-Point Network type is <strong>enabled on serial interfaces using the PPP or HDLC encapsulations</strong> by default. (PPP and HDLC are both Layer 2 encapsulations, similar to Ethernet, except they are used on serial connections between 2 routers.)</li> <li>Same as the Broadcast network type, routers <strong>dynamically discover neighbors by sending/listening for OSPF Hello messages using multicast address 224.0.0.5</strong>.</li> <li>The two routers will form a Full adjacency with each other, <strong>without the need to elect a DR and BDR</strong>.</li></ul></blockquote> <h5 id="serial-interfaces"><a href="#serial-interfaces" class="header-anchor">#</a> Serial interfaces:</h5> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011441630.png" alt="image-20230401144106193" style="zoom:33%;"> <h6 id="configuration-of-serial-connections"><a href="#configuration-of-serial-connections" class="header-anchor">#</a> Configuration of serial connections</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011444019.png" alt="image-20230401144429673" style="zoom:38%;"> <p><strong>The encapsulation type in Point-to-Point Network is HDLC by default:</strong></p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011445712.png" alt="image-20230401144524419" style="zoom:38%;"> <p><strong>Change encapsulation type of Serial Connection to ppp :</strong></p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011446704.png" alt="image-20230401144659513" style="zoom:38%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011451282.png" alt="image-20230401145158035" style="zoom:33%;"> <p><strong>Check the DCE/DTE status:</strong></p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011454601.png" alt="image-20230401145417356" style="zoom:38%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011456614.png" alt="image-20230401145613408" style="zoom:29%;"> <h4 id="configure-the-ospf-network-type"><a href="#configure-the-ospf-network-type" class="header-anchor">#</a> Configure the OSPF Network Type</h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011459385.png" alt="image-20230401145945040" style="zoom:33%;"> <h3 id="ospf-lsa-types"><a href="#ospf-lsa-types" class="header-anchor">#</a> OSPF LSA Types</h3> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304020332893.png" alt="image-20230402033218712" style="zoom:50%;"> <blockquote><ul><li>OSPF LSDB is made up of LSAs.</li> <li>All routers in the same OSPF area share the same LSDB.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304020343850.png" alt="image-20230402034333629" style="zoom:38%;"> <ul><li>There are 11 types of LSA, but there are only 3 you should know for the CCNA:
<ul><li><strong>Type 1 LSA, the router LSA;</strong> <ul><li>Every router (running OSPF) generates this type of LSA;</li> <li>identifies the router using its <strong>Router ID</strong>;</li> <li>lists networks attached to the routerâ€™s OSPF-activated interfaces.</li></ul></li> <li><strong>Type 2 LSA, the â€˜network LSAâ€™;</strong> <ul><li>generated by the <strong>DR</strong> of each â€˜<strong>multi-access</strong>â€™ network.(An example of a multi-access network is an Ethernet network using the broadcast network type.)</li> <li>lists the routers which are attached to the multi-access network.</li></ul></li> <li><strong>Type 5 LSA, the â€˜AS external LSAâ€™</strong> <ul><li>generated by ASBRs to describe routes to destinations outside of the autonomous system, the OSPF domain.</li></ul></li></ul></li></ul></blockquote> <h3 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h3> <h4 id="basic-configuration"><a href="#basic-configuration" class="header-anchor">#</a> Basic Configuration</h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303300419637.png" alt="image-20220621085920432" style="zoom:40%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303300419406.png" alt="image-20220621085951700" style="zoom:40%;"> <blockquote><p>åœ¨CCNAé˜¶æ®µ, åªéœ€æŒæ¡åŸºæœ¬çš„Single-Areaçš„OSPFé…ç½®å³å¯</p></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#router ospf Process_ID   </span>
<span class="token comment"># å„è·¯ç”±å™¨çš„OSPF Process_ID æ˜¯å½¼æ­¤äº’ä¸ç›¸å…³çš„(å–å€¼ä»‹äº1~65535), ä»…ä¾¿äºç»´æŠ¤å’ŒåŒºåˆ«åŒä¸€è·¯ç”±å™¨çš„Process_ID</span>

R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#network æ¯ä¸ªæ¥å£çš„ç½‘æ®µåœ°å€ Wildcard_Mask area Area_ID  </span>
<span class="token comment"># &lt;0-4294967295&gt; OSPF area (decimal value)</span>
R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#network 0.0.0.0 255.255.255.255 area Area_ID  </span>
<span class="token comment"># small trick, only used in experimental environment</span>


R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#passive-interface default</span>
R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#no passive-interface Specific_Interface # åœ¨è¿æ¥å…¶ä»–OSPFè·¯ç”±å™¨çš„ç«¯å£ä¸Šå¼€å¯OSPFè·¯ç”±ä¿¡æ¯è½¬å‘</span>


<span class="token comment"># router-idçš„æ‰‹åŠ¨é…ç½®</span>
R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#router-id A.B.C.D   # æ‰‹åŠ¨é…ç½®å, éœ€è¦reloadæˆ–è€…æ‰§è¡Œ`clear ip ospf process`æ¥ä»¤å…¶ç”Ÿæ•ˆ,But this is a bad idea in a real network, and the router will lose all of its OSPF routes for a short time and wonâ€™t be able to forward traffic to those destinations.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010231723.png" alt="image-20230401023138381" style="zoom:33%;"> <blockquote><ul><li><p><strong>Process_ID is totally unrelated to the Area.</strong> A router can run <strong>multiple</strong> OSPF processes at once, and the <strong>Process_ID</strong> is used in the router to identify each of them. Typically youâ€™ll just use a single OSPF process in CCNA.</p> <ul><li>The OSPF process ID is locally significant. <strong>Routers with different Process_IDs can become OSPF neighbors.</strong></li></ul></li> <li><p>Router ID in OSPF order of priority(exactly the same way as in EIGRP):
1) Manual configuration
2) Highest IP address on a loopback interface
3) Highest IP address on a physical interface</p></li> <li><p>The <strong>OSPF <code>network</code> command</strong> requires you to specify the area.</p> <ul><li><p>For the CCNA, you only need to configure single-area(Area 0) in OSPF. (Itâ€™s actually possible to use any area number, but itâ€™s considered best practice to use area 0.)</p> <blockquote><p>The <code>network</code> command <strong>functions just like in RIP and EIGRP, simply used to tell the router which interfaces to activate OSPF on.</strong></p> <ol><li>look for any interfaces with an IP address contained in the range specified in the <code>network</code>command;</li> <li>activate OSPF on the interface in the specified area;</li> <li>the router will then try to become OSPF neighbors with other OSPF-activated neighbor routers.</li></ol></blockquote></li></ul></li> <li><p>The command <code>passive-interface</code>:</p> <ul><li>make the router to stop sending OSPF â€˜<strong>Hello</strong>â€™ messages out of the interface.</li> <li>However, the router will <strong>continue to send LSAs</strong> informing its neighbors about the subnet configured on the interface.</li> <li>You should always use this command on interfaces <em>which donâ€™t have any OSPF neighbors</em>.</li></ul></li></ul></blockquote> <blockquote><h5 id="wildcard-mask"><a href="#wildcard-mask" class="header-anchor">#</a> Wildcard Mask</h5> <ul><li><p>é…ç½®OSPFå¯ä»¥æœ‰è®¸å¤šç§ä¸åŒçš„æ–¹å¼ï¼Œä½†æœ€ç®€å•å’Œæœ€å®¹æ˜“çš„åšæ³•å°±æ˜¯ä½¿ç”¨<strong>é€šé…ç¬¦æ©ç </strong><code>0.0.0.0</code>;</p></li> <li><p>å–å€¼ä¸å­ç½‘æ©ç ç›¸å, <code>é€šé…ç¬¦æ©ç  = 255 - å­ç½‘æ©ç </code>;</p></li> <li><p>å¼•ä¾‹:</p> <ul><li>ç½‘ç»œå’Œé€šé…ç¬¦æ©ç 1.1.1.1 0.0.0.0 çš„ç»„åˆå°†åªæŒ‡å®šä½¿ç”¨1.1.1.1ç²¾ç¡®é…ç½®çš„æ¥å£ï¼Œè€Œä¸åŒ…å«å…¶ä»–çš„åœ°å€; å¦‚æœæƒ³åœ¨æŒ‡å®šæ¥å£ä¸Šç®€å•æ˜ç¡®åœ°æ¿€æ´»OSPFï¼Œè¿™ç§æ–¹å¼ç¡®å®å¾ˆæœ‰ç”¨;</li> <li>å¦‚æœä½ è¦åŒ¹é…ç½‘ç»œä¸­çš„æŸä¸ªèŒƒå›´ï¼Œå¦‚ç½‘ç»œå’Œé€šé…ç¬¦æ©ç 1.1.0.0 0.0.255.255 çš„ç»„åˆå°†æŒ‡å®šä¸€ä¸ªèŒƒå›´1.1.0.0 - 1.1.255.255ã€‚</li></ul></li> <li><p>ç¤ºä¾‹:</p></li></ul> <blockquote><p>ä¸‹é¢çš„è·¯ç”±å™¨ä½¿ç”¨äº†4ä¸ªä¸åŒçš„æ¥å£ä¸4ä¸ªå­ç½‘ç›¸è¿æ¥:</p> <p><code>192.168.10.64/28</code> ;</p> <p><code>192.168.10.80/28</code> ;</p> <p><code>192.168.10.96/28</code> ;</p> <p><code>192.168.10.8/30</code> ã€‚</p></blockquote> <blockquote><ul><li>æ‰€æœ‰çš„æ¥å£éƒ½éœ€è¦é…ç½®åœ¨Area 0ä¸­ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œæœ€ç®€å•çš„èšåˆé…ç½®æ–¹å¼æ˜¯:</li></ul></blockquote> <blockquote><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Test<span class="token comment">#config t</span>
Test<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#router ospf 1</span>
Test<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#network 192.168.10.0 0.0.0.255 area 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></blockquote> <blockquote><ul><li>é—æ†¾çš„æ˜¯, è¿™æ ·ç®€æ˜“çš„é…ç½®æ–¹å¼å¹¶æ²¡æœ‰åŒ…å«åœ¨CCNAçš„ç›®æ ‡ä¸­!æ—¢ç„¶è¿™æ ·ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä½¿ç”¨å­ç½‘å·å’Œé€šé…ç¬¦ï¼Œä¸ºæ¯ä¸ªæ¥å£åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ç½‘ç»œå£°æ˜:</li></ul></blockquote> <blockquote><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Test<span class="token comment">#conf t</span>
Test<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#router ospf 1</span>
Test<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#network 192.168.10.64 0.0.0.15 area 0</span>
Test<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#network 192.168.10.80 0.0.0.15 area 0</span>
Test<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#network 192.168.10.96 0.0.0.15 area 0</span>
Test<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#network 192.168.10.8 0.0.0.3 area 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></blockquote> <blockquote><ul><li>åœ¨æ­¤ä½¿ç”¨0.0.0.0 é€šé…ç¬¦æ¥ç²¾ç¡®åœ°æŒ‡å®šæ¥å£çš„IPåœ°å€ä¹Ÿæ˜¯å¯ä»¥çš„, ä½†æ˜¯CCNA çš„ç›®æ ‡ä¸ä»…ä»…æ˜¯è¦æŒæ¡é‚£äº›æœ€å®¹æ˜“æ“ä½œçš„éƒ¨åˆ†</li></ul></blockquote></blockquote> <h5 id="advertise-a-default-route-into-ospf"><a href="#advertise-a-default-route-into-ospf" class="header-anchor">#</a> Advertise a Default Route into OSPF</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Router<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># default-infomation originate</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010328735.png" alt="image-20230401032821293" style="zoom:33%;"> <h6 id="æŸ¥çœ‹ospfåè®®çŠ¶æ€ä¿¡æ¯"><a href="#æŸ¥çœ‹ospfåè®®çŠ¶æ€ä¿¡æ¯" class="header-anchor">#</a> æŸ¥çœ‹OSPFåè®®çŠ¶æ€ä¿¡æ¯</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010340944.png" alt="image-20230401034046575" style="zoom:53%;"> <h4 id="more-configuration"><a href="#more-configuration" class="header-anchor">#</a> More configuration</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># Activate OSPF directly on an interface</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># ip ospf Process_ID area Area_ID   </span>

<span class="token comment"># Configure all interfaces as passive interfaces by default: </span>
R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># passive-interface default</span>

R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># no passive-interface s0/0/0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011009882.png" alt="image-20230401100948464" style="zoom:33%;"> <h6 id="æŸ¥çœ‹ospfçŠ¶æ€ä¿¡æ¯"><a href="#æŸ¥çœ‹ospfçŠ¶æ€ä¿¡æ¯" class="header-anchor">#</a> æŸ¥çœ‹OSPFçŠ¶æ€ä¿¡æ¯</h6> <blockquote><p><strong>Note:</strong> The â€˜routing for networksâ€™ section is empty, and instead the interfaces you activated OSPF on are displayed here</p></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011011469.png" alt="image-20230401101106281" style="zoom:43%;"> <hr> <h4 id="configuration-of-p2p-serial-connection"><a href="#configuration-of-p2p-serial-connection" class="header-anchor">#</a> Configuration of P2P serial connection</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int s0/0/0</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip address 192.168.12.1 255.255.255.252</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip ospf network ?</span>
  broadcast       Specify OSPF broadcast multi-access network
  point-to-point  Specify OSPF point-to-point network
  
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip ospf network point-to-point </span>

R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#do show controllers s0/0/0</span>
Interface Serial0/0/0
Hardware is PowerQUICC MPC860
DCE V.35, clock rate <span class="token number">200000</span>    <span class="token comment"># you can know this router is DCE</span>
<span class="token punctuation">[</span>More<span class="token punctuation">]</span>

R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#clock rate ?</span>
Speed <span class="token punctuation">(</span>bits per second<span class="token punctuation">)</span>
<span class="token number">1200</span>, <span class="token number">2400</span>, <span class="token number">4800</span>, <span class="token number">9600</span>, <span class="token number">19200</span>, <span class="token number">38400</span>, <span class="token number">56000</span>, <span class="token number">64000</span>, <span class="token number">72000</span>, <span class="token number">125000</span>, <span class="token number">128000</span>, <span class="token number">148000</span>, <span class="token number">250000</span>, <span class="token number">500000</span>, <span class="token number">800000</span>, <span class="token number">1000000</span>, <span class="token number">1300000</span>, <span class="token number">2000000</span>, <span class="token number">4000000</span>        
<span class="token operator">&lt;</span><span class="token number">300</span>-400000<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span>  Choose clockrate from list above

R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#clock rate 128000</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#no shutdown </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int s0/0/0</span>
R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip address 192.168.12.2 255.255.255.252</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip ospf network point-to-point </span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#no shutdown </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="ospfçš„ç›¸å…³å‘½ä»¤"><a href="#ospfçš„ç›¸å…³å‘½ä»¤" class="header-anchor">#</a> OSPFçš„ç›¸å…³å‘½ä»¤</h3> <h4 id="æŸ¥çœ‹å‘½ä»¤"><a href="#æŸ¥çœ‹å‘½ä»¤" class="header-anchor">#</a> æŸ¥çœ‹å‘½ä»¤</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sh</span> run int e0/0

R1<span class="token comment">#show ip ospf ?</span>
  <span class="token operator">&lt;</span><span class="token number">1</span>-6553<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>       Process ID number
  border-routers  Border and Boundary Router Information
  database        Database summary
  interface       Interface information
  neighbor        Neighbor list
  virtual-links   Virtual <span class="token function">link</span> information
  <span class="token operator">&lt;</span>cr<span class="token operator">&gt;</span>
  
<span class="token comment">#show ip ospf neighbor   # æŸ¥çœ‹OSPFé‚»å±…è¡¨</span>
<span class="token comment">#show ip ospf interface brief</span>
<span class="token comment">#show ip ospf route</span>

<span class="token comment">#clear ip route *   # æ¸…ç©ºè·¯ç”±è¡¨(ä¹ŸåŒ…æ‹¬é™æ€è·¯ç”±)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ul><li><p><code>show ip ospf</code> ç”¨äºæ˜¾ç¤ºè¿è¡Œåœ¨è¯¥è·¯ç”±å™¨ä¸Šçš„-ä¸ªæˆ–å…¨éƒ¨OSPFè¿›ç¨‹çš„OSPFä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯åŒ…å«è·¯ç”±å™¨ID ã€åŒºåŸŸä¿¡æ¯ã€SPF ç»Ÿè®¡å’ŒLSA å®šæ—¶å™¨ä¿¡æ¯ã€‚</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Corp<span class="token comment">#sh ip ospf</span>
    Routing Process <span class="token string">&quot;ospf 132&quot;</span> with ID <span class="token number">10</span>. <span class="token number">1</span>. <span class="token number">5.1</span>
    Supports only single TOS<span class="token punctuation">(</span>TOSO<span class="token punctuation">)</span> routes
    Supports opaque LSA
    SPF schedule delay <span class="token number">5</span> secs , Hold <span class="token function">time</span> between two SPFs <span class="token number">10</span> secs
    Minimum LSA interval <span class="token number">5</span> secs. Minimum LSA arrival <span class="token number">1</span> secs
    Number of external LSA O. Checksum Sum OxOOOOOO
    Number of opaque AS LSA O. Checksum Sum OxOOOOOO
    Numberå’±of OCbitless external and opaque AS LSA U ä»†
    Number of OoNotAge external and opaque AS LSA <span class="token number">0</span>
    Number of areas <span class="token keyword">in</span> this router is <span class="token number">1</span>. <span class="token number">1</span> normal <span class="token number">0</span> stub <span class="token number">0</span> nssa
    External flood list length <span class="token number">0</span>
        Area BACKBONE<span class="token punctuation">(</span>O<span class="token punctuation">)</span>
            Number of interfaces <span class="token keyword">in</span> this area is <span class="token number">5</span>
            Area has no authentication
            SPF algorithm executed <span class="token number">5</span> <span class="token builtin class-name">times</span>
            Area ranges are
            Numberå’±of LSA <span class="token number">5</span>. Checksum Sum Ox0283f4
            Number of opaque <span class="token function">link</span> LSA O. Checksum Sum OxOOOOOO
            Number of OCbitless LSA <span class="token number">0</span>
            Number of indication LSA <span class="token number">0</span>
            Number of OoNotAge LSA <span class="token number">0</span>
            Flood list length <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li> <li><p><code>show ip ospf database</code> å‘½ä»¤å°†ç»™å‡ºåœ¨äº’è”ç½‘ç»œä¸­è·¯ç”±å™¨çš„ç¼–å·(AS)ï¼ŒåŠç›¸é‚»è·¯ç”±å™¨çš„ID(ä¹Ÿå°±æ˜¯å‰é¢æåˆ°è¿‡çš„æ‹“æ‰‘æ•°æ®åº“); ä¸<code>show ip eigrp topology</code>å‘½ä»¤ä¸åŒï¼Œè¿™ä¸ªå‘½ä»¤åªæ˜¾ç¤ºOSPFè·¯ç”±å™¨ï¼Œè€Œä¸æ˜¯ASä¸­çš„å…¨éƒ¨é“¾è·¯</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Corp<span class="token comment">#sh ip ospf database</span>
      OSPF Router with ID <span class="token punctuation">(</span><span class="token number">10.1</span>.5.1<span class="token punctuation">)</span> <span class="token punctuation">(</span>Process ID <span class="token number">132</span><span class="token punctuation">)</span>
      Router Link States <span class="token punctuation">(</span>Area <span class="token number">0</span><span class="token punctuation">)</span>
    Link ID   ADV Router   Age  Seq<span class="token comment"># Checksum  Link count</span>
    <span class="token number">192.168</span>.20.1 <span class="token number">192.168</span>.20.1  <span class="token number">1585</span>  0x80000006 0x00ae08 <span class="token number">6</span>
    <span class="token number">192.168</span>.40.1 <span class="token number">192.168</span>.40.1  <span class="token number">1005</span>  0x80000005 0x0069c7 <span class="token number">4</span>
    <span class="token number">10.1</span>.5.1  <span class="token number">10.1</span>.5.1   <span class="token number">688</span>  0x80000009 0x008108 <span class="token number">8</span>
    <span class="token number">172.16</span>.10.1 <span class="token number">172.16</span>.10.1  <span class="token number">688</span>  0x80000004 0x0021a6 <span class="token number">2</span>
    
      Net Link States <span class="token punctuation">(</span>Area <span class="token number">0</span><span class="token punctuation">)</span>
    Link ID  ADV Router  Age  Seq<span class="token comment"># Checksum</span>
    <span class="token number">10.1</span>.5.1  <span class="token number">10.1</span>.5.1  <span class="token number">688</span>  0x80000001 0x00c977
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><code>show ip ospf interface</code> ç»™å‡ºäº†æ‰€æœ‰ä¸æ¥å£ç›¸å…³çš„OSPFä¿¡æ¯</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Corp<span class="token comment">#sh ip ospf int f0/0</span>
    FastEthernet0/0 is up, line protocol is up
    Internet address is <span class="token number">10.1</span>.5.1/24, Area <span class="token number">0</span>
    Process ID <span class="token number">132</span>, Router ID <span class="token number">10.1</span>.5.1, Network Type BROADCAST, Cost: <span class="token number">1</span>
    Transmit Delay is <span class="token number">1</span> sec, State DR, Priority <span class="token number">1</span>
    Designated Router <span class="token punctuation">(</span>ID<span class="token punctuation">)</span> <span class="token number">10.1</span>.5.1, Interface address <span class="token number">10.1</span>.5.1
    Backup Designated Router <span class="token punctuation">(</span>ID<span class="token punctuation">)</span> <span class="token number">172.16</span>.10.1, Interface address <span class="token number">10.1</span>.5.2
    Timer intervals configured, Hello <span class="token number">10</span>, Dead <span class="token number">40</span>, Wait <span class="token number">40</span>, Retransmit <span class="token number">5</span>
    Hello due <span class="token keyword">in</span> 00:00:04
    Index <span class="token number">5</span>/5, flood queue length <span class="token number">0</span>
    Next 0x0<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>/0x0<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    Last flood scan length is <span class="token number">1</span>, maximum is <span class="token number">1</span>
    Last flood scan <span class="token function">time</span> is <span class="token number">0</span> msec, maximum is <span class="token number">0</span> msec
    Neighbor Count is <span class="token number">1</span>, Adjacent neighbor count is <span class="token number">1</span>
    Adjacent with neighbor <span class="token number">172.16</span>.10.1 <span class="token punctuation">(</span>Backup Designated Router<span class="token punctuation">)</span>
    Suppress hello <span class="token keyword">for</span> <span class="token number">0</span> neighbor<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>The following information is displayed by this command:</p> <ul><li>Interface IP address</li> <li>Area assignment</li> <li>Process ID</li> <li>Router ID</li> <li>Network type</li> <li>Cost</li> <li>Priority</li> <li>DR/BDR election information (if applicable)</li> <li>Hello and Dead timer intervals</li> <li>Adjacent neighbor information</li></ul></blockquote></li> <li><p><code>show ip ospf neighbor</code> å‘½ä»¤æ±‡æ€»äº†OSPFä¸­å…³äºé‚»å±…å’Œé‚»æ¥çŠ¶æ€çš„ä¿¡æ¯</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Corp<span class="token comment">#sh ip ospf neighbor</span>
Neighbor ID Pri State Dead Time Address Interface
<span class="token number">172.16</span>.10.1 <span class="token number">1</span> FULL/DR 00:00:39 <span class="token number">10.1</span>.5.2 FastEthernet0/0
<span class="token number">192.168</span>.20.1 <span class="token number">0</span> FULL/ - 00:00:38 <span class="token number">10.1</span>.2.2 Serial0/0/0
<span class="token number">192.168</span>.20.1 <span class="token number">0</span> FULL/ - 00:00:38 <span class="token number">10.1</span>.3.2 Serial0/0/1
<span class="token number">192.168</span>.40.1 <span class="token number">0</span> FULL/ - 00:00:36 <span class="token number">10.1</span>.4.2 Serial0/1/0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><ul><li>åœ¨R3å’ŒCorp è·¯ç”±å™¨é—´æœ‰ä¸€ä¸ªEthernet Link(å¹¿æ’­å¤šè·¯è®¿é—®)ï¼Œå› æ­¤è¿™é‡Œä¼šç”±ä¸€ä¸ªé€‰ä¸¾è¿‡ç¨‹æ¥å†³å®šè°æ˜¯æŒ‡å®šè·¯ç”±å™¨(DR) ä»¥åŠè°æ˜¯å¤‡ä»½æŒ‡å®šè·¯ç”±å™¨(BDR)ã€‚</li> <li>ç‚¹åˆ°ç‚¹é“¾è·¯(ä½¿ç”¨äº†ä¸²å£Serial Port)ä¸Šä¸ä¼šè¿›è¡ŒDR/BDRçš„é€‰ä¸¾ï¼Œå¹¶ä¸”å®ƒä»¬æ˜¾ç¤ºä¸º FULL/_</li></ul></blockquote></li> <li><p><code>show ip protocols</code> ä¸è®ºåœ¨è·¯ç”±å™¨ä¸Šè¿è¡ŒOSPF ã€EIGRP ã€IGRP ã€RIP ã€BGP ï¼Œ IS-IS ï¼Œæˆ–è€…å…¶ä»–èƒ½é…ç½®åœ¨è·¯ç”±å™¨ä¸Šçš„è·¯ç”±é€‰æ‹©åè®®ï¼Œæ­¤å‘½ä»¤éƒ½éå¸¸æœ‰ç”¨ã€‚å®ƒæä¾›äº†ä¸€ä¸ªå…³äºæ‰€æœ‰å½“å‰è¿è¡Œåè®®çš„çœŸå®æ“ä½œæƒ…å†µçš„æ¦‚è¿°.</p></li></ul> <h4 id="è°ƒè¯•å‘½ä»¤"><a href="#è°ƒè¯•å‘½ä»¤" class="header-anchor">#</a> è°ƒè¯•å‘½ä»¤</h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303300419665.png" alt="image-20220708133242604" style="zoom:80%;"> <h3 id="é…ç½®ospfæ±‡æ€»è·¯ç”±"><a href="#é…ç½®ospfæ±‡æ€»è·¯ç”±" class="header-anchor">#</a> é…ç½®OSPFæ±‡æ€»è·¯ç”±</h3> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303300419731.png" alt="image-20220708144521221" style="zoom:70%;"> <blockquote><p>è¦æ±‡æ€»åŒºåŸŸ1åˆ°ä¸»å¹²åŒºåŸŸã€‚ä¸­ï¼Œåœ¨OSPFè¿›ç¨‹IDä¸‹ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤ã€‚ä¸‹é¢æ˜¯æ ¸å¿ƒ(ä¸»å¹²)è·¯ç”±å™¨çš„ä¸€ä¸ªå®Œæ•´OSPFé…ç½®:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Core<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#router ospf 1</span>
Core<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#network 192.168.10.64 0.0.0.3 area 1</span>
Core<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#network 192.168.10.68 0.0.0.3 area 1</span>
Core<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#network 10.10.10.0 0.0.0.255 area 0</span>
Core<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment">#area 1 range 192.168.10.64 255.255.255.224</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></blockquote> <h3 id="ospf-terms-è‡ªæŸ¥è¡¨"><a href="#ospf-terms-è‡ªæŸ¥è¡¨" class="header-anchor">#</a> OSPF terms è‡ªæŸ¥è¡¨</h3> <blockquote><ul><li><p><code>Link</code> A link is a network or router interface assigned to any given network. When an interface is added to the OSPF process, itâ€™s considered by OSPF to be a link. This link, or interface, will have state information associated with it (up or down) as well as one or more IP addresses.</p></li> <li><p><code>OSPF Areas</code> An OSPF area is a grouping of contiguous networks and routers. All routers in the same area share a common Area ID. Because a router can be a member of more than one area at a time, the Area ID is associated with specific interfaces on the router. This would allow some interfaces to belong to area 1 while the remaining interfaces can belong to area 0. All of the routers within the same area have the same topology table. When configuring OSPF, youâ€™ve got to remember that there must be an area 0 and that this is typically considered the backbone area. Areas also play a role in establishing a hierarchical network organizationâ€”something that really enhances the scalability of OSPF!</p></li> <li><p><code>Router ID</code> The Router ID (RID) is an IP address used to identify the router. Cisco chooses the Router ID by using the highest IP address of all configured loopback interfaces. If no loopback interfaces are configured with addresses, OSPF will choose the highest IP address of all active physical interfaces.</p></li> <li><p><code>Neighbor</code> Neighbors are two or more routers that have an interface on a single-Area network, such as two routers connected on a point-to-point serial link.</p></li> <li><p><code>Adjacency</code> An adjacency is a relationship between two OSPF routers that permits the direct exchange of route updates. OSPF is really picky about sharing routing informationâ€”unlike EIGRP, which directly shares routes with all of its neighbors. Instead, OSPF directly shares routes only with neighbors that have also established adjacencies. And not all neighbors will become adjacentâ€”this depends upon both the type of network and the configuration of the routers.</p></li> <li><p><code>Hello protocol</code> The OSPF Hello protocol provides dynamic neighbor discovery and maintains neighbor relationships. Hello packets and Link State Advertisements (LSAs) build and maintain the topological database. Hello packets are addressed to multicast address <strong>224.0.0.5</strong>.</p></li> <li><p><code>Neighborship database</code> The neighborship database is a list of all OSPF routers for which Hello packets have been seen. A variety of details, including the Router ID and state, are maintained on each router in the neighborship database.</p></li> <li><p><code>Topological database</code> The topological database contains information from all of the Link State Advertisement packets that have been received for an area. The router uses the information from the topology database as input into the Dijkstra algorithm that computes the shortest path to every network.</p></li> <li><p><code>LSA(Link State Advertisement)</code> A LSA is an OSPF data packet containing link-state and routing information thatâ€™s shared among OSPF routers. There are different types of LSA packets, and Iâ€™ll go into these shortly. An OSPF router will exchange LSA packets only with routers to which it has established adjacencies. ==LSA packets are used to update and maintain the topological database.==</p></li></ul> <h5 id="dr-bdr-2"><a href="#dr-bdr-2" class="header-anchor">#</a> DR/BDR</h5> <ul><li><code>Designated Router</code> A designated router (DR) is elected whenever OSPF routers are connected to the same multi-access network. Cisco likes to call these â€œbroadcastâ€ networks, but really, they are networks that have multiple recipients(æ¥æ”¶è€…). Try not to confuse multi-access with multipoint, which can be easy to do sometimes.</li> <li><code>Backup Designated Router</code> A backup designated router (BDR) is a <em>hot standby</em> for the DR on multi-access links (remember that Cisco sometimes likes to call these â€œbroadcastâ€ networks). The BDR receives all routing updates from OSPF adjacent routers but doesnâ€™t flood LSA updates.</li></ul> <h5 id="network-types-in-ospf"><a href="#network-types-in-ospf" class="header-anchor">#</a> Network types in OSPF</h5> <ul><li><p><code>Broadcast (multi-access)</code> Broadcast (multi-access) networks such as Ethernet allow multiple devices to connect to (or access) the same network as well as provide a broadcast ability in which a single packet is delivered to all nodes on the network. In OSPF, a DR and a BDR must be elected for each broadcast multi-access network.</p></li> <li><p><code>Non-broadcast</code> multi-access Non-broadcast multi-access (NBMA) networks are types such as Frame Relay, X.25, and Asynchronous Transfer Mode (ATM). These networks <strong>allow for multi-access but have no broadcast ability like Ethernet</strong>. So, NBMA networks require special OSPF configuration to function properly and neighbor relationships must be defined.</p> <ul><li>DR and BDR are elected on <strong>Broadcast</strong> and <strong>NMBA(Non-Broadcast Multi-Access)</strong> networks. Elections are covered in detail later in this chapter.</li></ul></li> <li><p><code>Point-to-point</code> Point-to-point refers to a type of network topology consisting of a <em>direct connection between two routers that provides a single communication path</em>. The point-to-point connection can be physical, as in a serial cable directly connecting two routers, or it can be logical, as in two routers that are thousands of miles apart yet connected by a circuit in a Frame Relay network. In either case, ==this type of configuration eliminates the need for DRs or BDRs but neighbors are discovered automatically.==</p></li> <li><p><code>Point-to-multipoint</code> Point-to-multipoint refers to a type of network topology consisting of <strong>a series of connections between a single interface on one router and multiple destination routers</strong>. All of the interfaces on all of the routers sharing the point-to-multipoint connection belong to the same network. As with ==point-to-point, DRs or BDRs are not needed.==</p></li></ul></blockquote> <h3 id="quiz"><a href="#quiz" class="header-anchor">#</a> Quiz</h3> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010403276.png" alt="image-20230401040322940" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010404624.png" alt="image-20230401040422340" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010408757.png" alt="image-20230401040834534" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010409885.png" alt="image-20230401040911586" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304010411243.png" alt="image-20230401041109054" style="zoom:60%;"> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304011021309.png" alt="image-20230401102157149"></p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304020434136.png" alt="image-20230402043432801" style="zoom:33%;"></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io/edit/main/docs/40.ç½‘ç»œè¿ç»´/05.CCNA/10.CCNAçŸ¥è¯†ç¬”è®°/17.DynamicRouting_P2_OSPF.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘æ­¤é¡µ</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">last Updated:</span> <span class="time">2023/06/08, 22:42:49</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/d70851/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Dynamic Routing P1 RIP EIGRP</div></a> <a href="/pages/32db2d/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Layer 3 Forwarding</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/d70851/" class="prev">Dynamic Routing P1 RIP EIGRP</a></span> <span class="next"><a href="/pages/32db2d/">Layer 3 Forwarding</a>â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/32db2d/"><div>
            Layer 3 Forwarding
            <!----></div></a> <span class="date">06-07</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/6b8f16/"><div>
            Layer 2 Forwarding
            <!----></div></a> <span class="date">06-06</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/fe5ceb/"><div>
            Virtual Routing and Forwarding
            <!----></div></a> <span class="date">05-16</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/Jonas-Wolfxin" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/Jonas-Wolfxin" title="Gitee" target="_blank" class="iconfont icon-gitee"></a><a href="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202206100005451.jpg" title="Wechat: @Jonas_Wolfxin" target="_blank" class="iconfont icon-weixin"></a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=1914303043&amp;site=qq&amp;menu=yes" title="QQ: 1914303043" target="_blank" class="iconfont icon-QQ"></a><a href="mailto:wolfxin@outlook.com" title="è”ç³»æˆ‘" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2021-2023
    <span>Jonas Wolfxin's Blog</span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div><div></div><div></div><!----><!----><APlayer audio="" fixed="true" mini="true" theme="#b7daff" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div></div></div></div>
    <script src="/assets/js/app.d858ddbb.js" defer></script><script src="/assets/js/2.309e711a.js" defer></script><script src="/assets/js/140.f85c3c58.js" defer></script><script src="/assets/js/16.acd3428d.js" defer></script><script src="/assets/js/8.5b4b6c67.js" defer></script><script src="/assets/js/10.58f97cc7.js" defer></script><script src="/assets/js/17.0b7a5267.js" defer></script>
  </body>
</html>
