<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Switching_VLAN | Jonas Wolfxin Blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <noscript><meta http-equiv="refresh" content="0; url=https://www.youngkbt.cn/noscript/"><style>.theme-vdoing-content { display:none }</noscript>
    <script>var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?267c5680c2ffb468ca29c45ffe6801da"; 
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
          })();
          </script>
    <meta name="description" content="Jonas Wolfxinä¸ªäººåšå®¢, VuePressæ­å»º, ä½¿ç”¨äº† Vdoing ä¸»é¢˜, å­¦ä¹ Java, Web, æ¡†æ¶, å¾®æœåŠ¡, å·¥å…·, å‰ç«¯ç­‰ç›¸å…³çŸ¥è¯†, è®°å½•ç”Ÿæ´»å’ŒæŠ€æœ¯è·¯ç¨‹, åŒæ—¶åˆ†äº«ç¼–ç¨‹æŠ€å·§ã€‚">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="Jonas Wolfxinä¸ªäººåšå®¢, VuePressæ­å»º, å­¦ä¹ Javaã€Webã€æ¡†æ¶ã€å¾®æœåŠ¡ã€å·¥å…·ã€å‰ç«¯ç­‰ç›¸å…³çŸ¥è¯†, è®°å½•ç”Ÿæ´»å’ŒæŠ€æœ¯è·¯ç¨‹ã€‚">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.7d3fc896.css" as="style"><link rel="preload" href="/assets/js/app.d858ddbb.js" as="script"><link rel="preload" href="/assets/js/2.309e711a.js" as="script"><link rel="preload" href="/assets/js/133.c996494c.js" as="script"><link rel="preload" href="/assets/js/16.acd3428d.js" as="script"><link rel="preload" href="/assets/js/8.5b4b6c67.js" as="script"><link rel="preload" href="/assets/js/10.58f97cc7.js" as="script"><link rel="preload" href="/assets/js/17.0b7a5267.js" as="script"><link rel="prefetch" href="/assets/js/100.a245150c.js"><link rel="prefetch" href="/assets/js/101.dc21b366.js"><link rel="prefetch" href="/assets/js/102.d5a6dfd2.js"><link rel="prefetch" href="/assets/js/103.7675e438.js"><link rel="prefetch" href="/assets/js/104.08bff44e.js"><link rel="prefetch" href="/assets/js/105.8bf552ad.js"><link rel="prefetch" href="/assets/js/106.b3388dcc.js"><link rel="prefetch" href="/assets/js/107.708d16a8.js"><link rel="prefetch" href="/assets/js/108.8d67c3a1.js"><link rel="prefetch" href="/assets/js/109.adb072ef.js"><link rel="prefetch" href="/assets/js/11.1cff9f55.js"><link rel="prefetch" href="/assets/js/110.6a33e945.js"><link rel="prefetch" href="/assets/js/111.5b6daef7.js"><link rel="prefetch" href="/assets/js/112.30fa856b.js"><link rel="prefetch" href="/assets/js/113.2bea19a6.js"><link rel="prefetch" href="/assets/js/114.78693b98.js"><link rel="prefetch" href="/assets/js/115.24b2f36f.js"><link rel="prefetch" href="/assets/js/116.121c60d7.js"><link rel="prefetch" href="/assets/js/117.c2a343f1.js"><link rel="prefetch" href="/assets/js/118.4f472067.js"><link rel="prefetch" href="/assets/js/119.24255046.js"><link rel="prefetch" href="/assets/js/12.bca3c221.js"><link rel="prefetch" href="/assets/js/120.c049d4ee.js"><link rel="prefetch" href="/assets/js/121.27c7097d.js"><link rel="prefetch" href="/assets/js/122.89ae0c7e.js"><link rel="prefetch" href="/assets/js/123.92ff168d.js"><link rel="prefetch" href="/assets/js/124.42567e10.js"><link rel="prefetch" href="/assets/js/125.3bd92459.js"><link rel="prefetch" href="/assets/js/126.ce3b5ff1.js"><link rel="prefetch" href="/assets/js/127.62073e16.js"><link rel="prefetch" href="/assets/js/128.1e61e62d.js"><link rel="prefetch" href="/assets/js/129.1abfd9a0.js"><link rel="prefetch" href="/assets/js/13.fd509ce7.js"><link rel="prefetch" href="/assets/js/130.fd10656f.js"><link rel="prefetch" href="/assets/js/131.739a70c7.js"><link rel="prefetch" href="/assets/js/132.aead2e49.js"><link rel="prefetch" href="/assets/js/134.3f032f05.js"><link rel="prefetch" href="/assets/js/135.c35c5612.js"><link rel="prefetch" href="/assets/js/136.b1a52d43.js"><link rel="prefetch" href="/assets/js/137.f6c998f0.js"><link rel="prefetch" href="/assets/js/138.5165a511.js"><link rel="prefetch" href="/assets/js/139.84e0898b.js"><link rel="prefetch" href="/assets/js/14.9a0c9450.js"><link rel="prefetch" href="/assets/js/140.f85c3c58.js"><link rel="prefetch" href="/assets/js/141.1b18b352.js"><link rel="prefetch" href="/assets/js/142.61b694c2.js"><link rel="prefetch" href="/assets/js/143.ca56fc45.js"><link rel="prefetch" href="/assets/js/144.634fc96a.js"><link rel="prefetch" href="/assets/js/145.7db28ded.js"><link rel="prefetch" href="/assets/js/146.0e801c74.js"><link rel="prefetch" href="/assets/js/147.26faa263.js"><link rel="prefetch" href="/assets/js/148.927832d5.js"><link rel="prefetch" href="/assets/js/149.8755eb42.js"><link rel="prefetch" href="/assets/js/15.d3755cc5.js"><link rel="prefetch" href="/assets/js/150.906609e5.js"><link rel="prefetch" href="/assets/js/151.7a52439b.js"><link rel="prefetch" href="/assets/js/152.c822b1fb.js"><link rel="prefetch" href="/assets/js/153.593575cc.js"><link rel="prefetch" href="/assets/js/154.2a16d8e7.js"><link rel="prefetch" href="/assets/js/155.6a18c733.js"><link rel="prefetch" href="/assets/js/156.bb65d909.js"><link rel="prefetch" href="/assets/js/157.862f6419.js"><link rel="prefetch" href="/assets/js/158.db76ed26.js"><link rel="prefetch" href="/assets/js/159.0f0b1ee8.js"><link rel="prefetch" href="/assets/js/160.8f421d08.js"><link rel="prefetch" href="/assets/js/161.4a521888.js"><link rel="prefetch" href="/assets/js/162.601dbfca.js"><link rel="prefetch" href="/assets/js/163.d76b166d.js"><link rel="prefetch" href="/assets/js/164.99b00d17.js"><link rel="prefetch" href="/assets/js/165.7809f82c.js"><link rel="prefetch" href="/assets/js/166.b29e508c.js"><link rel="prefetch" href="/assets/js/167.71af6bb1.js"><link rel="prefetch" href="/assets/js/168.aad10cfc.js"><link rel="prefetch" href="/assets/js/169.d807fd76.js"><link rel="prefetch" href="/assets/js/170.8cd1462a.js"><link rel="prefetch" href="/assets/js/171.ecbf63cf.js"><link rel="prefetch" href="/assets/js/172.e75cd345.js"><link rel="prefetch" href="/assets/js/173.1ab612d0.js"><link rel="prefetch" href="/assets/js/174.2366c5d2.js"><link rel="prefetch" href="/assets/js/175.50c5731b.js"><link rel="prefetch" href="/assets/js/176.ac8ad112.js"><link rel="prefetch" href="/assets/js/177.1abcf5d4.js"><link rel="prefetch" href="/assets/js/178.b937dacc.js"><link rel="prefetch" href="/assets/js/179.b6fa0b6d.js"><link rel="prefetch" href="/assets/js/18.64b7e666.js"><link rel="prefetch" href="/assets/js/180.e4a8bc36.js"><link rel="prefetch" href="/assets/js/181.b916da57.js"><link rel="prefetch" href="/assets/js/182.27a2bdb4.js"><link rel="prefetch" href="/assets/js/183.dcb4d635.js"><link rel="prefetch" href="/assets/js/184.820c8f5f.js"><link rel="prefetch" href="/assets/js/185.6654f558.js"><link rel="prefetch" href="/assets/js/186.2749179c.js"><link rel="prefetch" href="/assets/js/187.a301fd95.js"><link rel="prefetch" href="/assets/js/188.3a9e3226.js"><link rel="prefetch" href="/assets/js/189.5f2b0e83.js"><link rel="prefetch" href="/assets/js/19.7a102d25.js"><link rel="prefetch" href="/assets/js/190.76dc6e42.js"><link rel="prefetch" href="/assets/js/191.b6c01ef6.js"><link rel="prefetch" href="/assets/js/192.bd87e976.js"><link rel="prefetch" href="/assets/js/193.e3b20021.js"><link rel="prefetch" href="/assets/js/194.d83d205c.js"><link rel="prefetch" href="/assets/js/195.e53e330d.js"><link rel="prefetch" href="/assets/js/196.1fd35397.js"><link rel="prefetch" href="/assets/js/197.cb0858f8.js"><link rel="prefetch" href="/assets/js/198.651004c0.js"><link rel="prefetch" href="/assets/js/199.4a4a16ae.js"><link rel="prefetch" href="/assets/js/20.2e6fe8d4.js"><link rel="prefetch" href="/assets/js/200.0347a232.js"><link rel="prefetch" href="/assets/js/201.77c9f572.js"><link rel="prefetch" href="/assets/js/202.6f66fc82.js"><link rel="prefetch" href="/assets/js/203.c12f2fd1.js"><link rel="prefetch" href="/assets/js/204.0b74eb4e.js"><link rel="prefetch" href="/assets/js/205.82129b16.js"><link rel="prefetch" href="/assets/js/206.0240cea0.js"><link rel="prefetch" href="/assets/js/207.d2d2dd99.js"><link rel="prefetch" href="/assets/js/208.f1073a08.js"><link rel="prefetch" href="/assets/js/209.3b1e4cbe.js"><link rel="prefetch" href="/assets/js/21.179bedf0.js"><link rel="prefetch" href="/assets/js/210.b8b67413.js"><link rel="prefetch" href="/assets/js/211.455c8e40.js"><link rel="prefetch" href="/assets/js/212.8735e669.js"><link rel="prefetch" href="/assets/js/213.f77fefc5.js"><link rel="prefetch" href="/assets/js/214.97d827be.js"><link rel="prefetch" href="/assets/js/215.bc08fe35.js"><link rel="prefetch" href="/assets/js/216.fa811698.js"><link rel="prefetch" href="/assets/js/217.b965b7c6.js"><link rel="prefetch" href="/assets/js/218.6a91db8b.js"><link rel="prefetch" href="/assets/js/219.fb3d8166.js"><link rel="prefetch" href="/assets/js/22.8268ce6e.js"><link rel="prefetch" href="/assets/js/220.1577cda2.js"><link rel="prefetch" href="/assets/js/221.ceea7cea.js"><link rel="prefetch" href="/assets/js/222.3985b121.js"><link rel="prefetch" href="/assets/js/223.40f0edd0.js"><link rel="prefetch" href="/assets/js/224.bcdfffa8.js"><link rel="prefetch" href="/assets/js/225.13252b88.js"><link rel="prefetch" href="/assets/js/226.2afd6de5.js"><link rel="prefetch" href="/assets/js/227.39e5b8f1.js"><link rel="prefetch" href="/assets/js/228.f24cb5b5.js"><link rel="prefetch" href="/assets/js/229.582f76a9.js"><link rel="prefetch" href="/assets/js/23.3b76f2ef.js"><link rel="prefetch" href="/assets/js/230.50a93474.js"><link rel="prefetch" href="/assets/js/231.063e02af.js"><link rel="prefetch" href="/assets/js/232.08153e5d.js"><link rel="prefetch" href="/assets/js/233.e8a2f480.js"><link rel="prefetch" href="/assets/js/234.4e784ee0.js"><link rel="prefetch" href="/assets/js/235.fe1262b2.js"><link rel="prefetch" href="/assets/js/236.5b6a52cf.js"><link rel="prefetch" href="/assets/js/237.36fae37d.js"><link rel="prefetch" href="/assets/js/238.7369ac7a.js"><link rel="prefetch" href="/assets/js/239.7fff287f.js"><link rel="prefetch" href="/assets/js/24.7c6b119c.js"><link rel="prefetch" href="/assets/js/240.96b67d8a.js"><link rel="prefetch" href="/assets/js/241.6cca43be.js"><link rel="prefetch" href="/assets/js/242.063840f3.js"><link rel="prefetch" href="/assets/js/243.e25e2acc.js"><link rel="prefetch" href="/assets/js/244.6058b76a.js"><link rel="prefetch" href="/assets/js/245.cab0cb5f.js"><link rel="prefetch" href="/assets/js/246.38dba8a1.js"><link rel="prefetch" href="/assets/js/247.58a45597.js"><link rel="prefetch" href="/assets/js/248.5cf1ad4c.js"><link rel="prefetch" href="/assets/js/249.691356bb.js"><link rel="prefetch" href="/assets/js/25.02fab98f.js"><link rel="prefetch" href="/assets/js/250.e2c83a35.js"><link rel="prefetch" href="/assets/js/251.80aa06df.js"><link rel="prefetch" href="/assets/js/252.a3e269d1.js"><link rel="prefetch" href="/assets/js/253.d11f6725.js"><link rel="prefetch" href="/assets/js/26.76ffb425.js"><link rel="prefetch" href="/assets/js/27.ce24313c.js"><link rel="prefetch" href="/assets/js/28.d8dbc96b.js"><link rel="prefetch" href="/assets/js/29.2b3bed04.js"><link rel="prefetch" href="/assets/js/3.d6952836.js"><link rel="prefetch" href="/assets/js/30.26988c7b.js"><link rel="prefetch" href="/assets/js/31.cc5781e4.js"><link rel="prefetch" href="/assets/js/32.80d8b83b.js"><link rel="prefetch" href="/assets/js/33.d97c7068.js"><link rel="prefetch" href="/assets/js/34.962f9100.js"><link rel="prefetch" href="/assets/js/35.23d8a044.js"><link rel="prefetch" href="/assets/js/36.6d349d82.js"><link rel="prefetch" href="/assets/js/37.b08f29c8.js"><link rel="prefetch" href="/assets/js/38.8b2bd27d.js"><link rel="prefetch" href="/assets/js/39.45a0b016.js"><link rel="prefetch" href="/assets/js/4.8b22777d.js"><link rel="prefetch" href="/assets/js/40.e6f6cb43.js"><link rel="prefetch" href="/assets/js/41.c756e119.js"><link rel="prefetch" href="/assets/js/42.bbc17b0f.js"><link rel="prefetch" href="/assets/js/43.8e0ce4ca.js"><link rel="prefetch" href="/assets/js/44.b91517af.js"><link rel="prefetch" href="/assets/js/45.416dfe4d.js"><link rel="prefetch" href="/assets/js/46.c00eeb87.js"><link rel="prefetch" href="/assets/js/47.29d200b3.js"><link rel="prefetch" href="/assets/js/48.7f066ab6.js"><link rel="prefetch" href="/assets/js/49.0e010fee.js"><link rel="prefetch" href="/assets/js/5.e6781b57.js"><link rel="prefetch" href="/assets/js/50.1bb477d0.js"><link rel="prefetch" href="/assets/js/51.66468406.js"><link rel="prefetch" href="/assets/js/52.5cf7fbd0.js"><link rel="prefetch" href="/assets/js/53.d6f04354.js"><link rel="prefetch" href="/assets/js/54.59ca865c.js"><link rel="prefetch" href="/assets/js/55.fb0ad69c.js"><link rel="prefetch" href="/assets/js/56.c47a2d12.js"><link rel="prefetch" href="/assets/js/57.f5d65bb3.js"><link rel="prefetch" href="/assets/js/58.c5761ef2.js"><link rel="prefetch" href="/assets/js/59.9fe56073.js"><link rel="prefetch" href="/assets/js/6.9b07e200.js"><link rel="prefetch" href="/assets/js/60.ee1a5c93.js"><link rel="prefetch" href="/assets/js/61.ed5a91fd.js"><link rel="prefetch" href="/assets/js/62.4c69d23d.js"><link rel="prefetch" href="/assets/js/63.a396c29b.js"><link rel="prefetch" href="/assets/js/64.6f39dd9c.js"><link rel="prefetch" href="/assets/js/65.4cb24e13.js"><link rel="prefetch" href="/assets/js/66.aad4aa20.js"><link rel="prefetch" href="/assets/js/67.36e86f95.js"><link rel="prefetch" href="/assets/js/68.cbcfb2e0.js"><link rel="prefetch" href="/assets/js/69.8f5b0c08.js"><link rel="prefetch" href="/assets/js/7.4d64b8e6.js"><link rel="prefetch" href="/assets/js/70.1e7d144f.js"><link rel="prefetch" href="/assets/js/71.77fb0b43.js"><link rel="prefetch" href="/assets/js/72.bf3bb5b9.js"><link rel="prefetch" href="/assets/js/73.e059a41d.js"><link rel="prefetch" href="/assets/js/74.cae09eb3.js"><link rel="prefetch" href="/assets/js/75.f89a6d2e.js"><link rel="prefetch" href="/assets/js/76.cfb3df08.js"><link rel="prefetch" href="/assets/js/77.f4fa62e6.js"><link rel="prefetch" href="/assets/js/78.464e83f6.js"><link rel="prefetch" href="/assets/js/79.71895252.js"><link rel="prefetch" href="/assets/js/80.58d501fe.js"><link rel="prefetch" href="/assets/js/81.948adca1.js"><link rel="prefetch" href="/assets/js/82.bfd7ff16.js"><link rel="prefetch" href="/assets/js/83.3920a558.js"><link rel="prefetch" href="/assets/js/84.d5b9372a.js"><link rel="prefetch" href="/assets/js/85.3be0afac.js"><link rel="prefetch" href="/assets/js/86.29f7272d.js"><link rel="prefetch" href="/assets/js/87.93a0bc8e.js"><link rel="prefetch" href="/assets/js/88.5be81cc2.js"><link rel="prefetch" href="/assets/js/89.bc9cad5d.js"><link rel="prefetch" href="/assets/js/9.dc7a3982.js"><link rel="prefetch" href="/assets/js/90.5ba7972c.js"><link rel="prefetch" href="/assets/js/91.6ca92166.js"><link rel="prefetch" href="/assets/js/92.cb997f9f.js"><link rel="prefetch" href="/assets/js/93.941f52c6.js"><link rel="prefetch" href="/assets/js/94.c34116e0.js"><link rel="prefetch" href="/assets/js/95.0aa6895c.js"><link rel="prefetch" href="/assets/js/96.fd230ec0.js"><link rel="prefetch" href="/assets/js/97.375c63c2.js"><link rel="prefetch" href="/assets/js/98.5f4889ea.js"><link rel="prefetch" href="/assets/js/99.476bd54f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7d3fc896.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/index/logo.png" alt="Jonas Wolfxin Blog" class="logo"> <span class="site-name can-hide">Jonas Wolfxin Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">HomeğŸ </a></div><div class="nav-item"><a href="/navigation/" class="nav-link">NavigationğŸ§­</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><a href="/front/" class="link-title">Front End</a> <span class="title" style="display:none;">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Basics</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>Frame</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/vue2/" class="nav-link">Vue2</a></li><li class="dropdown-subitem"><a href="/vue3/" class="nav-link">Vue3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Database" class="dropdown-title"><a href="/database/" class="link-title">Database</a> <span class="title" style="display:none;">Database</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/postgresql/" class="nav-link">PostgreSQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/es/" class="nav-link">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/mongodb/" class="nav-link">MongoDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/pythonstrdy/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python_basics/" class="nav-link">Python Basics</a></li><li class="dropdown-item"><!----> <a href="/python_advanced/" class="nav-link">Python Advanced</a></li><li class="dropdown-item"><!----> <a href="/python_projects/" class="nav-link">Python Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç½‘ç»œè¿ç»´" class="dropdown-title"><a href="/tool/" class="link-title">ç½‘ç»œè¿ç»´</a> <span class="title" style="display:none;">ç½‘ç»œè¿ç»´</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>CCNA</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/91ab17/" class="nav-link">CCNAçŸ¥è¯†</a></li><li class="dropdown-subitem"><a href="/pages/55766c/" class="nav-link">CCNAé¢˜åº“</a></li><li class="dropdown-subitem"><a href="/pages/f61749/" class="nav-link">Cisco NetAca</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/4f0673/" class="nav-link">Ansible</a></li><li class="dropdown-item"><h4>ç‰ˆæœ¬ç®¡ç†</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>éƒ¨ç½²</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/docker/" class="nav-link">Docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><a href="/archives/" class="link-title">About</a> <span class="title" style="display:none;">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>This Blog</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">Archives</a></li></ul></li><li class="dropdown-item"><h4>About Me</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whell/web/" class="nav-link">Collection</a></li><li class="dropdown-subitem"><a href="/about/website/introduce/" class="nav-link">Introduction</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ˜Ÿæ²³ä¸‡é‡Œ" class="dropdown-title"><a href="/inGermany/" class="link-title">æ˜Ÿæ²³ä¸‡é‡Œ</a> <span class="title" style="display:none;">æ˜Ÿæ²³ä¸‡é‡Œ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å¾·å›½é©¾ç…§Bçº§</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8a9dd0/" class="nav-link">ç†è®ºå‡†å¤‡</a></li><li class="dropdown-subitem"><a href="/pages/b79ef5/" class="nav-link">å®è·µå‡†å¤‡</a></li></ul></li><li class="dropdown-item"><h4>æ˜Ÿæ²³ä¸‡é‡Œ</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/bcf060/" class="nav-link">Vimæ“ä½œ</a></li><li class="dropdown-subitem"><a href="/pages/c11fcf/" class="nav-link">Gitemoji</a></li><li class="dropdown-subitem"><a href="/pages/055f2e/" class="nav-link">æ— å¦„ç»</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/message-board/" class="nav-link">MessageBoardğŸ“‹</a></div> <a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202206092309359.png"> <div class="blogger-info"><h3>Jonas æ—é£</h3> <span>å¾å¿—æ‰€å‘ï¼Œä¸‡å¤«ä¸å½“ï¼›æŠ«è†æ–©æ£˜ï¼Œå¥‹è€Œç»§å¾€ã€‚</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">HomeğŸ </a></div><div class="nav-item"><a href="/navigation/" class="nav-link">NavigationğŸ§­</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><a href="/front/" class="link-title">Front End</a> <span class="title" style="display:none;">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Basics</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>Frame</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/vue2/" class="nav-link">Vue2</a></li><li class="dropdown-subitem"><a href="/vue3/" class="nav-link">Vue3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Database" class="dropdown-title"><a href="/database/" class="link-title">Database</a> <span class="title" style="display:none;">Database</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/postgresql/" class="nav-link">PostgreSQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/es/" class="nav-link">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/mongodb/" class="nav-link">MongoDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/pythonstrdy/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python_basics/" class="nav-link">Python Basics</a></li><li class="dropdown-item"><!----> <a href="/python_advanced/" class="nav-link">Python Advanced</a></li><li class="dropdown-item"><!----> <a href="/python_projects/" class="nav-link">Python Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç½‘ç»œè¿ç»´" class="dropdown-title"><a href="/tool/" class="link-title">ç½‘ç»œè¿ç»´</a> <span class="title" style="display:none;">ç½‘ç»œè¿ç»´</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>CCNA</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/91ab17/" class="nav-link">CCNAçŸ¥è¯†</a></li><li class="dropdown-subitem"><a href="/pages/55766c/" class="nav-link">CCNAé¢˜åº“</a></li><li class="dropdown-subitem"><a href="/pages/f61749/" class="nav-link">Cisco NetAca</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/4f0673/" class="nav-link">Ansible</a></li><li class="dropdown-item"><h4>ç‰ˆæœ¬ç®¡ç†</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>éƒ¨ç½²</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/docker/" class="nav-link">Docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><a href="/archives/" class="link-title">About</a> <span class="title" style="display:none;">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>This Blog</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">Archives</a></li></ul></li><li class="dropdown-item"><h4>About Me</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whell/web/" class="nav-link">Collection</a></li><li class="dropdown-subitem"><a href="/about/website/introduce/" class="nav-link">Introduction</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ˜Ÿæ²³ä¸‡é‡Œ" class="dropdown-title"><a href="/inGermany/" class="link-title">æ˜Ÿæ²³ä¸‡é‡Œ</a> <span class="title" style="display:none;">æ˜Ÿæ²³ä¸‡é‡Œ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å¾·å›½é©¾ç…§Bçº§</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8a9dd0/" class="nav-link">ç†è®ºå‡†å¤‡</a></li><li class="dropdown-subitem"><a href="/pages/b79ef5/" class="nav-link">å®è·µå‡†å¤‡</a></li></ul></li><li class="dropdown-item"><h4>æ˜Ÿæ²³ä¸‡é‡Œ</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/bcf060/" class="nav-link">Vimæ“ä½œ</a></li><li class="dropdown-subitem"><a href="/pages/c11fcf/" class="nav-link">Gitemoji</a></li><li class="dropdown-subitem"><a href="/pages/055f2e/" class="nav-link">æ— å¦„ç»</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/message-board/" class="nav-link">MessageBoardğŸ“‹</a></div> <a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>CCNA</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>CCNAçŸ¥è¯†ç¬”è®°</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1634eb/" class="sidebar-link">ç½‘ç»œå·¥ç¨‹å¸ˆçš„ä»‹ç»</a></li><li><a href="/pages/91ab17/" class="sidebar-link">OSI Model</a></li><li><a href="/pages/68df0c/" class="sidebar-link">IP Addressing</a></li><li><a href="/pages/0cd5e5/" class="sidebar-link">TCP/IP Suite</a></li><li><a href="/pages/32e4ca/" class="sidebar-link">Comparison-TCP Vs UDP</a></li><li><a href="/pages/9876fd/" class="sidebar-link">Cisco IOS CLI</a></li><li><a href="/pages/fabc03/" aria-current="page" class="active sidebar-link">Switching_VLAN</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/fabc03/#macåœ°å€" class="sidebar-link">MACåœ°å€</a></li><li class="sidebar-sub-header level2"><a href="/pages/fabc03/#ethernet-frame" class="sidebar-link">Ethernet Frame</a></li><li class="sidebar-sub-header level2"><a href="/pages/fabc03/#switch" class="sidebar-link">Switch</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#äº¤æ¢æœºçš„ç‰¹ç‚¹" class="sidebar-link">äº¤æ¢æœºçš„ç‰¹ç‚¹</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#äº¤æ¢æœºçš„ä¸»è¦åŠŸèƒ½" class="sidebar-link">äº¤æ¢æœºçš„ä¸»è¦åŠŸèƒ½</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#switch-interfaces" class="sidebar-link">Switch Interfaces</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#show-ip-interfaces-brief" class="sidebar-link">show ip interfaces brief</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#show-interfaces-status" class="sidebar-link">show interfaces status</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#configuring-interface-speed-and-duplex" class="sidebar-link">Configuring interface speed and duplex</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#shutdown-the-unused-interfaces" class="sidebar-link">shutdown the unused interfaces</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#interface-counters-errors" class="sidebar-link">Interface Counters &amp; Errors</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/fabc03/#äº¤æ¢çš„å¯»å€è¿‡ç¨‹" class="sidebar-link">äº¤æ¢çš„å¯»å€è¿‡ç¨‹</a></li><li class="sidebar-sub-header level2"><a href="/pages/fabc03/#vlan" class="sidebar-link">VLAN</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#vlançš„æˆå‘˜æ¨¡å¼" class="sidebar-link">VLANçš„æˆå‘˜æ¨¡å¼</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#vlan-id" class="sidebar-link">VLAN ID</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#åœ¨äº¤æ¢ç¯å¢ƒä¸­-å­˜åœ¨ä¸‰ç§ç±»å‹çš„ç«¯å£" class="sidebar-link">åœ¨äº¤æ¢ç¯å¢ƒä¸­ï¼Œå­˜åœ¨ä¸‰ç§ç±»å‹çš„ç«¯å£:</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#two-trunking-tagging-protocols" class="sidebar-link">Two Trunking(tagging) Protocols</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#dot1q" class="sidebar-link">dot1q:</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#isl" class="sidebar-link">ISL:</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#äº¤æ¢æœºç«¯å£ç±»å‹-dtp" class="sidebar-link">äº¤æ¢æœºç«¯å£ç±»å‹ &amp; DTP:</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#dtp" class="sidebar-link">DTP</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#vlançš„åŸºæœ¬é…ç½®" class="sidebar-link">VLANçš„åŸºæœ¬é…ç½®</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#vlançš„æŸ¥çœ‹-åˆ›å»º-é‡å‘½å-åˆ é™¤" class="sidebar-link">VLANçš„æŸ¥çœ‹, åˆ›å»º, é‡å‘½å, åˆ é™¤</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#access-modeå¹¶åˆ†é…ç»™æŒ‡å®šçš„vlan" class="sidebar-link">Access Modeå¹¶åˆ†é…ç»™æŒ‡å®šçš„VLAN</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#ä¸€æ¬¡æ€§è®¾ç½®å¤šä¸ªæ¥å£åŠ å…¥åŒä¸€ä¸ªvlan" class="sidebar-link">ä¸€æ¬¡æ€§è®¾ç½®å¤šä¸ªæ¥å£åŠ å…¥åŒä¸€ä¸ªVLAN:</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#trunk-configuration" class="sidebar-link">Trunk Configuration</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#router-on-a-stick-roas" class="sidebar-link">Router on a Stick(ROAS)</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#routing-methods-of-inter-vlans" class="sidebar-link">Routing methods of inter-VLANs</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#ä½¿ç”¨è·¯ç”±å™¨çš„å¤šä¸ªæ¥å£" class="sidebar-link">ä½¿ç”¨è·¯ç”±å™¨çš„å¤šä¸ªæ¥å£</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#å•è‡‚è·¯ç”±-roas" class="sidebar-link">å•è‡‚è·¯ç”± ROAS</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#ä½¿ç”¨layer-3-switch" class="sidebar-link">ä½¿ç”¨Layer 3 Switch</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#vtp" class="sidebar-link">VTP</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#äº¤æ¢æœºçš„ä¸‰ç§vtpæ¨¡å¼" class="sidebar-link">äº¤æ¢æœºçš„ä¸‰ç§VTPæ¨¡å¼</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#vtpçš„è¿è¡Œæ¨¡å¼" class="sidebar-link">VTPçš„è¿è¡Œæ¨¡å¼</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#vtpçš„åŸºæœ¬é…ç½®" class="sidebar-link">VTPçš„åŸºæœ¬é…ç½®</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#vtp-pruning" class="sidebar-link">VTP pruning</a></li></ul></li></ul></li><li><a href="/pages/778234/" class="sidebar-link">Switching_STP</a></li><li><a href="/pages/85147b/" class="sidebar-link">Switching_EtherChannel</a></li><li><a href="/pages/087c56/" class="sidebar-link">Layer 2 Discovery Protocols</a></li><li><a href="/pages/6b8f16/" class="sidebar-link">Layer 2 Forwarding</a></li><li><a href="/pages/149f35/" class="sidebar-link">Routing_Static</a></li><li><a href="/pages/d70851/" class="sidebar-link">Dynamic Routing P1 RIP EIGRP</a></li><li><a href="/pages/c4055c/" class="sidebar-link">Dynamic Routing P2 OSPF</a></li><li><a href="/pages/32db2d/" class="sidebar-link">Layer 3 Forwarding</a></li><li><a href="/pages/fe5ceb/" class="sidebar-link">Virtual Routing and Forwarding</a></li><li><a href="/pages/bada2c/" class="sidebar-link">Layer 3 FHRPs</a></li><li><a href="/pages/81e45f/" class="sidebar-link">Security</a></li><li><a href="/pages/6bd28d/" class="sidebar-link">ACL</a></li><li><a href="/pages/7db05a/" class="sidebar-link">NAT ç½‘ç»œåœ°å€è½¬æ¢</a></li><li><a href="/pages/729891/" class="sidebar-link">LAN Architectures</a></li><li><a href="/pages/1076ba/" class="sidebar-link">WANå¹¿åŸŸç½‘</a></li><li><a href="/pages/441d7d/" class="sidebar-link">WLAN</a></li><li><a href="/pages/e31696/" class="sidebar-link">NTP</a></li><li><a href="/pages/c7a0a2/" class="sidebar-link">DNS</a></li><li><a href="/pages/d25cf6/" class="sidebar-link">Syslog</a></li><li><a href="/pages/c74f1d/" class="sidebar-link">Accessing the CLI of network devices</a></li><li><a href="/pages/5d3322/" class="sidebar-link">FTP TFTP</a></li><li><a href="/pages/e049f9/" class="sidebar-link">DHCP</a></li><li><a href="/pages/7ebd2e/" class="sidebar-link">SNMP</a></li><li><a href="/pages/bba118/" class="sidebar-link">Quality of service</a></li><li><a href="/pages/652496/" class="sidebar-link">Virtualization</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>CCNAé¢˜åº“</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Cisco Networking Academy</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ansible</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ç‰ˆæœ¬ç®¡ç† - Maven</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å¼€å‘ç®¡ç† - Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æ“ä½œç³»ç»Ÿ - Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å®¹å™¨éƒ¨ç½² - Docker</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E7%BD%91%E7%BB%9C%E8%BF%90%E7%BB%B4" title="åˆ†ç±»" data-v-06225672>ç½‘ç»œè¿ç»´</a></li><li data-v-06225672><a href="/categories/?category=CCNA" title="åˆ†ç±»" data-v-06225672>CCNA</a></li><li data-v-06225672><a href="/categories/?category=CCNA%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B0" title="åˆ†ç±»" data-v-06225672>CCNAçŸ¥è¯†ç¬”è®°</a></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/Jonas-Wolfxin" target="_blank" title="ä½œè€…" class="beLink" data-v-06225672>Jonas Wolfxin</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-07-13</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Switching_VLAN<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="switching"><a href="#switching" class="header-anchor">#</a> Switching</h1> <blockquote><h5 id="what-is-lan"><a href="#what-is-lan" class="header-anchor">#</a> What is LAN?</h5> <p>A Local Area Network (LAN) is a computer network that connects devices within a limited geographical area such as a home, office, or building. LANs are used to enable communication and the sharing of resources, such as printers, files, and applications, between devices that are connected to the same network.</p> <p>LANs typically use <strong>Ethernet or Wi-Fi</strong> as the physical and data-link layer protocols to provide a connection between devices. The network can be either wired, with Ethernet cables connecting devices, or wireless, using Wi-Fi to connect devices.</p> <p>LANs are commonly used in homes and small businesses, as they are relatively simple to set up and maintain. Larger networks, such as those found in corporations and universities, may use more complex networking technologies, such as <strong>Wide Area Networks (WANs)</strong> or <strong>Virtual Private Networks (VPNs)</strong>, to connect multiple LANs together.</p> <ul><li>Switches work within a LAN;</li> <li>Routers are used to connect separate LANs.</li></ul></blockquote> <h2 id="macåœ°å€"><a href="#macåœ°å€" class="header-anchor">#</a> MACåœ°å€</h2> <blockquote><p>MAC (ç¡¬ä»¶)åœ°å€çš„é•¿åº¦ä¸º <strong>48 bits</strong>(6 Bytes):</p> <ul><li>é‡‡ç”¨ <strong>12ä½ çš„ Hexadecimal Characters</strong> è¡¨ç¤ºä¸º 4ä½/3ç»„(A8BA.6C05.45ED),æˆ–è€… 2ä½/6ç»„(A8:BA:6C:05:45:ED);</li> <li>A.K.A. Burned-in Address(BIA);</li> <li>assigned to the device when it is made:
<ul><li><strong>å‰24bit(3 Bytes)æ˜¯OUI</strong> (Organizationally Unique Identifier ï¼Œç»„ç»‡å”¯ä¸€æ ‡è¯†ç¬¦)æ˜¯ç”±IEEE åˆ†é…ç»™å‚å•†çš„;</li> <li>å24bit(3 Bytes)æ˜¯å„å‚å•†ç»™ç”Ÿäº§çš„æ¯ä¸ªç½‘å¡éƒ½åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„åœ°å€;</li></ul></li> <li>is globally unique.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303160415009.png" alt="image-20230316035259406" style="zoom:30%;"></blockquote> <h2 id="ethernet-frame"><a href="#ethernet-frame" class="header-anchor">#</a> Ethernet Frame</h2> <ul><li><p>æ•°æ®é“¾è·¯å±‚è´Ÿè´£å°†æ¯”ç‰¹åˆå¹¶æˆå­—èŠ‚ï¼Œå†å°†å­—èŠ‚å°è£…æˆå¸§ã€‚åœ¨æ•°æ®é“¾è·¯å±‚ï¼Œæˆ‘ä»¬ä½¿ç”¨å¸§å°è£…æ¥è‡ªç½‘ç»œå±‚çš„åˆ†ç»„ï¼Œä»¥ä¾¿é€šè¿‡ç‰¹å®šç±»å‹çš„ä»‹è´¨è¿›è¡Œä¼ è¾“ã€‚</p></li> <li><p>ä»¥å¤ªç½‘å·¥ä½œç«™çš„èŒè´£æ˜¯ï¼Œä½¿ç”¨MACå¸§æ ¼å¼å½¼æ­¤ä¼ é€’æ•°æ®å¸§, è¿™åˆ©ç”¨CRCæä¾›äº†é”™è¯¯æ£€æµ‹åŠŸèƒ½ï¼Œ</p></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303160415108.png" alt="image-20220704231652823"></p> <blockquote><p>åœ¨Ethernet Frameä¸­é™¤äº†æ•°æ®ä¹‹å¤–, headerå’ŒtraileråŠ èµ·æ¥ä¸€å…± <strong>26 Bytes</strong>:</p> <ul><li><p><code>å‰å¯¼ç  Preamble</code>: å‰å¯¼ç ä¸º 7 Bytes of 10101010ï¼Œäº¤æ›¿çš„0å’Œ1; Allows devices to synchronize their receiver clocksã€‚</p></li> <li><p><code>å¸§èµ·å§‹ä½ç½®åˆ†éš”ç¬¦(SFD, Start Frame Delimiter)</code> SFDä¸º 1 Byte, å€¼ä¸º10101011; Marks the end of the preamble and the beginning of the rest of the frame.</p> <blockquote><ul><li><strong>Preamble</strong>å’Œ<em>SFD</em>åœ¨ä»¥å¤ªç½‘å¸§ä¸­çš„ä½œç”¨æ˜¯ä¸ºäº†åœ¨ç‰©ç†å±‚ä¸Šè¿›è¡Œ<strong>åŒæ­¥æ—¶é’Ÿ</strong>å’Œ<em>æ ‡è¯†æ•°æ®éƒ¨åˆ†</em>çš„å¼€å§‹ï¼Œä½¿æ¥æ”¶è®¾å¤‡èƒ½å¤Ÿæ­£ç¡®åœ°æ¥æ”¶å’Œè§£ææ•°æ®å¸§ã€‚</li> <li>é€šè¿‡Preambleå’ŒSFDçš„ç»“åˆä½œç”¨ï¼Œæ¥æ”¶æ–¹å¯ä»¥ç²¾ç¡®åœ°åŒæ­¥æ—¶é’Ÿï¼Œå¹¶ä¸”è¯†åˆ«å‡ºä¸€ä¸ªæ–°çš„å¸§çš„å¼€å§‹ä½ç½®ã€‚è¿™æ ·ï¼Œæ¥æ”¶æ–¹å°±å¯ä»¥æ­£ç¡®åœ°è§£æä»¥å¤ªç½‘å¸§çš„æ•°æ®éƒ¨åˆ†ï¼Œä»è€Œå®ç°æ•°æ®çš„å¯é ä¼ è¾“ã€‚</li></ul></blockquote></li> <li><p><code>ç›®æ ‡åœ°å€(Destination MAC Address)</code> åŒ…å«ä¸€ä¸ª48 bitsçš„å€¼ï¼Œä¸”LSB (Least Significant Bitï¼Œæœ€ä½æœ‰æ•ˆä½)ä¼˜å…ˆã€‚æ¥æ”¶æ–¹æ ¹æ®DA åˆ¤æ–­åˆ°æ¥çš„åˆ†ç»„æ˜¯å¦æ˜¯å‘é€ç»™ç‰¹å®šèŠ‚ç‚¹çš„ã€‚ç›®æ ‡åœ°å€å¯ä»¥æ˜¯å•æ’­åœ°å€ã€å¹¿æ’­åœ°å€æˆ–ç»„æ’­MACåœ°å€ã€‚åˆ«å¿˜äº†ï¼Œå¹¿æ’­åœ°å€å…¨ä¸º1(åœ¨åå…­è¿›åˆ¶æ ¼å¼ä¸‹å…¨ä¸ºF)ï¼Œå¹¿æ’­å‘é€ç»™æ‰€æœ‰è®¾å¤‡ï¼Œè€Œç»„æ’­åªå‘é€ç»™ç½‘ç»œä¸­ä¸€ç»„ç±»ä¼¼çš„èŠ‚ç‚¹ã€‚</p></li> <li><p><code>æºåœ°å€(Source MAC Address)</code> SAæ˜¯ä¸€ä¸ª48ä½çš„MACåœ°å€ï¼Œç”¨äºæ ‡è¯†ä¼ è¾“è®¾å¤‡ï¼Œä¹Ÿä½¿ç”¨LSBä¼˜å…ˆæ ¼å¼ã€‚åœ¨SAå­—æ®µä¸­ï¼Œä¸èƒ½åŒ…å«å¹¿æ’­åœ°å€æˆ–ç»„æ’­åœ°å€ã€‚</p></li> <li><p><code>é•¿åº¦æˆ–ç±»å‹ Length/Type</code>: 2 bytes;</p> <ul><li>802.3å¸§ä½¿ç”¨<strong>Length</strong>å­—æ®µ, æ ‡è¯†äº†æ•°æ®éƒ¨åˆ†çš„é•¿åº¦, å€¼ä¸º <strong>1500 or less</strong>; 802.3ä¸èƒ½æ ‡è¯†ä¸Šå±‚åè®®ï¼Œåªèƒ½ç”¨äºä¸“ç”¨LANï¼Œå¦‚IPXã€‚</li> <li>è€ŒEthenet_IIå¸§ä½¿ç”¨<strong>Type</strong>å­—æ®µæ ‡è¯†ç½‘ç»œå±‚åè®®:
<ul><li>**IPv4(0x0800), **</li> <li>**IPv6(0x86DD), **</li> <li><strong>the ARP ethernet type is 0x0806</strong>ã€‚</li></ul></li></ul></li> <li><p><code>æ•°æ®</code>: è¿™æ˜¯ç½‘ç»œå±‚ä¼ é€’ç»™æ•°æ®é“¾è·¯å±‚çš„å¸§ï¼Œå…¶é•¿åº¦ä¸º46-1500B ã€‚</p></li> <li><p><code>å¸§æ ¡éªŒåºåˆ—(FCS, Frame Check Sequence)</code>:  4 Bytes, FCS å­—æ®µç”¨äºå­˜å‚¨CRC(Cyclic Redundancy Checkï¼Œå¾ªç¯å†—ä½™æ ¡éªŒ) ç»“æœã€‚CRCæ˜¯ä¸€ç§æ•°å­¦ç®—æ³•ï¼Œåˆ›å»ºæ¯ä¸ªå¸§æ—¶éƒ½å°†è¿è¡Œå®ƒã€‚ä½œä¸ºæ¥æ”¶æ–¹çš„ä¸»æœºæ”¶åˆ°å¸§å¹¶è¿è¡ŒCRCæ—¶ï¼Œå…¶ç»“æœå¿…é¡»ç›¸åŒï¼Œå¦åˆ™ï¼Œæ¥æ”¶æ–¹å°†è®¤ä¸ºå‘ç”Ÿäº†é”™è¯¯ï¼Œè¿›è€Œå°†å¸§ä¸¢å¼ƒã€‚</p></li></ul></blockquote> <hr> <blockquote><ul><li>The preamble + SFD is usually <strong>not considered</strong> part of the Ethernet header, although it is sent with every Ethernet frame.</li> <li>Therefore the size of the Ethernet header + trailer is 18 bytes (6+6+2+4);</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303161323599.png" alt="image-20230316132344387" style="zoom:33%;"> <ul><li><p><strong>The minimum size for an Ethernet frame</strong> (Header + Payload [Packet] + Trailer) is <strong>64 bytes</strong>;</p></li> <li><p>64 bytes - 18 bytes (header + trailer size) = 46 bytes, Therefore the <strong>minimum payload (packet) size</strong> of an Ethernet Frame is <strong>46 bytes</strong></p></li> <li><p>If the payload is less than 46 bytes, <em>padding bytes</em>(these bytes are all 0s) are added, ie. 34-byte packet + 12-byte padding = 46 bytes</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303161905308.png" alt="image-20230316190532804" style="zoom:33%;"></li></ul></blockquote> <h2 id="switch"><a href="#switch" class="header-anchor">#</a> Switch</h2> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621103251967.png" alt="image-20220621103251967" style="zoom:40%;"> <h3 id="äº¤æ¢æœºçš„ç‰¹ç‚¹"><a href="#äº¤æ¢æœºçš„ç‰¹ç‚¹" class="header-anchor">#</a> äº¤æ¢æœºçš„ç‰¹ç‚¹</h3> <blockquote><ul><li>ç½‘æ¡¥ä½¿ç”¨è½¯ä»¶æ¥åˆ›å»ºå’Œç®¡ç†è¿‡æ»¤è¡¨, è€Œäº¤æ¢æœºä½¿ç”¨ä¸“ç”¨çš„é›†æˆç”µè·¯(ASIC) æ¥åˆ›å»ºå¹¶ç»´æŠ¤å…¶è¿‡æ»¤è¡¨;</li> <li>é»˜è®¤æƒ…å†µä¸‹, Layer2äº¤æ¢æœºçš„æ‰€æœ‰ç«¯å£éƒ½å±äºä¸€ä¸ªå¹¿æ’­åŸŸ(VLAN 1);</li> <li>æ¯ä¸ªç«¯å£éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å†²çªåŸŸ, ä¸ºæ¯ä¸ªç»ˆç«¯è®¾å¤‡æä¾›ç›¸åŒçš„å¸¦å®½;</li> <li>é€šè¿‡æ£€æŸ¥æ¯ä¸ªæ¥æ”¶åˆ°çš„æ•°æ®å¸§çš„<strong>Source MAC</strong>ï¼Œäº¤æ¢æœºå®Œæˆå¯¹MACåœ°å€çš„å­¦ä¹ ;</li> <li>å¯¹ <strong>unknown Unicast Frame</strong> å’Œ <strong>Broadcast Frame</strong> è¿›è¡Œæ³›æ´ªflood;</li> <li>å¯¹ <strong>known Unicast Frame</strong> è¿›è¡Œå®šå‘è½¬å‘;</li></ul></blockquote> <h3 id="äº¤æ¢æœºçš„ä¸»è¦åŠŸèƒ½"><a href="#äº¤æ¢æœºçš„ä¸»è¦åŠŸèƒ½" class="header-anchor">#</a> äº¤æ¢æœºçš„ä¸»è¦åŠŸèƒ½</h3> <blockquote><h6 id="macåœ°å€å­¦ä¹ "><a href="#macåœ°å€å­¦ä¹ " class="header-anchor">#</a> MACåœ°å€å­¦ä¹ :</h6> <p>äº¤æ¢æœºé€šè¿‡æ£€æŸ¥æ¯ä¸ªæ¥æ”¶åˆ°çš„æ•°æ®å¸§çš„==æºåœ°å€==å®Œæˆå¯¹MACåœ°å€çš„å­¦ä¹ , ç„¶åå»ºç«‹<code>MACåœ°å€</code>ä¸<code>äº¤æ¢æœºæ¥å£</code>çš„åœ°å€å¯¹åº”è¡¨<code>Forward/Filter MAC database</code>. (<strong>Dynamic MAC addresses are removed from the MAC address table after 5 minutes of inactivity!</strong> The process of addresses being cleared from the MAC address table after 5 minutes of inactivity is known as <strong>Aging</strong>);</p> <ul><li>æŸ¥çœ‹MAC Address Table: <code>show mac address-table</code></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303161858682.png" alt="image-20230316185844317" style="zoom:25%;"> <ul><li>æ¸…ç©ºMAC Address Table: <code>clear mac address-table dynamic</code></li> <li>åˆ é™¤æŒ‡å®šçš„MACåœ°å€æ¡ç›®:</li> <li><code>clear mac address-table dynamic address 0c3f.b011.34ba</code>  æˆ–è€…</li> <li><code>clear mac address-table dynamic interface gi0/0</code></li></ul> <h6 id="è½¬å‘å’Œæ³›æ´ªæ•°æ®å¸§-frame"><a href="#è½¬å‘å’Œæ³›æ´ªæ•°æ®å¸§-frame" class="header-anchor">#</a> è½¬å‘å’Œæ³›æ´ªæ•°æ®å¸§(Frame):</h6> <p>å½“äº¤æ¢æœºçš„æ¥å£æ¥æ”¶åˆ°ä¸€ä¸ªæ•°æ®å¸§æ—¶ï¼Œäº¤æ¢æœºå°±å°†å¸§ä¸­æºå¸¦çš„ç›®çš„åœ°å€å’Œ<code>Forward/Filter MAC database</code>ä¸­çš„è®°å½•è¿›è¡Œæ¯”è¾ƒ:</p> <ul><li><strong>known Unicast</strong> frame -&gt; <em>Forward</em>: å¦‚æœç›®çš„ç¡¬ä»¶åœ°å€æ˜¯å·²çŸ¥çš„ï¼Œå³å·²ç»è¢«åˆ—å…¥åˆ°MACè¡¨ä¸­ï¼Œåˆ™è¯¥å¸§åªè¢«å‘é€åˆ°æŒ‡å®šçš„è¾“å‡ºæ¥å£ã€‚äº¤æ¢æœºä¸ä¼šå°†æ­¤å¸§å‘é€åˆ°é™¤ç›®çš„åœ°æ¥å£ä¹‹å¤–çš„ä»»ä½•å…¶ä»–æ¥å£ã€‚è¿™ä¸€è¿‡ç¨‹å«åš å¸§è¿‡æ»¤;</li> <li><strong>unknown Unicast</strong> frame -&gt; <em>Flood</em>: å¦‚æœ<code>Forward/Filter MAC database</code>ä¸­æ²¡æœ‰ç›®æ ‡æ–¹çš„MACåœ°å€ï¼Œé‚£ä¹ˆæ­¤æ•°æ®å¸§å°†ä¼šå‘é™¤æ¥æ”¶æ­¤å¸§æ¥å£ä¹‹å¤–çš„æ‰€æœ‰å…¶ä»–æ´»åŠ¨æ¥å£ä¸Š<strong>æ³›æ´ª</strong>å‡ºå»ã€‚
<ul><li>å…·æœ‰æŒ‡å®šMACåœ°å€çš„è®¾å¤‡ä¼š<em>å¤„ç†å¹¶å“åº”</em>è¢«æ³›æ´ªçš„æ•°æ®å¸§ï¼Œåˆ™äº¤æ¢æœºå°±ä¼šç”¨æ­¤è®¾å¤‡çš„ä½ç½®(æ¥å£)ä¿¡æ¯æ¥æ›´æ–°MACåœ°å€è¡¨ã€‚</li> <li>ä¸å…·æœ‰æŒ‡å®šMACåœ°å€çš„è®¾å¤‡åœ¨æ¥æ”¶è¢«æ³›æ´ªçš„æ•°æ®å¸§å,ä¼šç›´æ¥<em>ä¸¢å¼ƒ</em>.</li></ul></li> <li><strong>Brodcast</strong> frame -&gt; Flood: have a destination address of <em>FFFF.FFFF.FFFF</em>, æ­¤æ•°æ®å¸§å°†ä¼šå‘é™¤æ¥æ”¶æ­¤å¸§æ¥å£ä¹‹å¤–çš„æ‰€æœ‰å…¶ä»–æ´»åŠ¨æ¥å£ä¸Š<strong>æ³›æ´ª</strong>å‡ºå»ã€‚
<ul><li>ç¬¦åˆæ¡ä»¶çš„è®¾å¤‡ä¼š<em>å¤„ç†å¹¶å“åº”</em>è¢«æ³›æ´ªçš„æ•°æ®å¸§ï¼Œåˆ™äº¤æ¢æœºå°±ä¼šç”¨æ­¤è®¾å¤‡çš„ä½ç½®(æ¥å£)ä¿¡æ¯æ¥æ›´æ–°MACåœ°å€è¡¨ã€‚</li> <li>ä¸ç¬¦åˆæ¡ä»¶çš„è®¾å¤‡åœ¨æ¥æ”¶è¢«æ³›æ´ªçš„æ•°æ®å¸§å,ä¼šç›´æ¥<em>ä¸¢å¼ƒ</em>.</li></ul></li></ul> <h6 id="äºŒå±‚ç¯è·¯é¿å…"><a href="#äºŒå±‚ç¯è·¯é¿å…" class="header-anchor">#</a> äºŒå±‚ç¯è·¯é¿å…:</h6> <p>é€šè¿‡STPé¿å…åœ¨æ•°æ®é“¾è·¯å±‚ç”±äºäº¤æ¢æœºä¹‹é—´çš„å†—ä½™ç‰©ç†é“¾è·¯è€Œå½¢æˆçš„ç¯è·¯; (TTLçš„è®¡ç®—ä¸­çš„hopæ˜¯æŒ‡è·¯ç”±å™¨é—´çš„è·³è½¬, å³ä¸‰å±‚çš„è·³è½¬, å¯¹2å±‚åŠä»¥ä¸‹æ˜¯é€æ˜çš„)</p> <ul><li>è·¯ç”±é€‰æ‹©åè®®(å¦‚ RIP) å¯ä»¥é˜²æ­¢åœ¨<strong>ç½‘ç»œå±‚</strong>å½¢æˆç½‘ç»œç¯è·¯ã€‚</li> <li>ç„¶è€Œï¼Œå¯¹äº<strong>å› äº¤æ¢æœºä¹‹é—´å­˜åœ¨å†—ä½™ç‰©ç†é“¾è·¯è€Œåœ¨æ•°æ®é“¾è·¯å±‚ä¸Šå½¢æˆçš„ç¯è·¯</strong>ï¼Œè·¯ç”±é€‰æ‹©åè®®æ— èƒ½ä¸ºåŠ›ã€‚ç½‘ç»œä¼ æ’­çš„æ•°æ®å¸§ä¼šåœ¨æ‰€æœ‰å†—ä½™é“¾è·¯ä¸ŠåŒæ—¶è¢«æ³›æ´ªå¼€æ¥ï¼Œè¿™ä¼šå¯¼è‡´<code>å¹¿æ’­é£æš´</code>å’Œå…¶ä»–ä¸¥é‡çš„é—®é¢˜ã€‚è¿™å°±æ˜¯å¼€å‘ç”Ÿæˆæ ‘åè®®çš„åŸå› æ‰€åœ¨ï¼Œå¯ä»¥é˜²æ­¢åœ¨ç¬¬2å±‚äº¤æ¢å¼ç½‘ç»œä¸­å½¢æˆç¯è·¯ã€‚</li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202207081721321.png" alt="image-20220708172156171" style="zoom:80%;"> <h3 id="switch-interfaces"><a href="#switch-interfaces" class="header-anchor">#</a> Switch Interfaces</h3> <h4 id="show-ip-interfaces-brief"><a href="#show-ip-interfaces-brief" class="header-anchor">#</a> <code>show ip interfaces brief</code></h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303181558612.png" alt="image-20230318155858388" style="zoom:37%;"> <blockquote><ul><li><p>Router interfaces have the <code>shutdown</code> command applied by default = will be in the <strong>administratively down/down</strong> State by default;</p></li> <li><p>Switch interfaces <strong>do NOT</strong> have the <code>shutdown</code> command applied by default =</p> <ul><li><p>will be in the <strong>up/up</strong> State if connected to another device OR</p></li> <li><p>in the <strong>down/down</strong> State if not connected to another device</p></li></ul></li></ul></blockquote> <h4 id="show-interfaces-status"><a href="#show-interfaces-status" class="header-anchor">#</a> <code>show interfaces status</code></h4> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303181559757.png" alt="image-20230318155941567"></p> <blockquote><ul><li><strong>Name field</strong>: is actually the description of the port.</li> <li><strong>Status field</strong>:
<ul><li><em>connected</em></li> <li><em>notconnected</em></li> <li><em>disabled</em>: After setting <code>shutdown</code> on the ports, the Status field would be changed to <strong>disabled</strong>.</li></ul></li> <li><strong>Vlan field</strong>: Take note of the fact that the interface connected to the other switch, is a trunk interface.</li> <li><strong>Duplex field</strong>:  Duplex is auto by default on Cisco switches, meaning it will auto-negotiate with the neighboring device and use full-duplex if possible.
<ul><li><em>Half duplex</em>: The device cannot send and receive data at the same time. If it is receiving a frame, it must wait before sending a frame.
<ul><li>ä½¿ç”¨Hubé›†çº¿å™¨è¿æ¥çš„ç½‘ç»œéƒ½æ˜¯åŠåŒå·¥ç½‘ç»œ;</li> <li>åŠåŒå·¥æ¥å£ä¸å…¨åŒå·¥æ¥å£ä¹‹é—´çš„è¿æ¥, ä¹Ÿä¼šä»¥åŠåŒå·¥æ–¹å¼è¿è¡Œ.</li></ul></li> <li><em>full-duplex</em>: The device can send and receive data at the same time. It does not have to wait.</li></ul></li> <li><strong>Speed field</strong>: which is also auto by default. <strong>Auto</strong> means they are able to auto-negotiate with the device they are connected to and use the fastest speed both devices are capable of.</li></ul></blockquote> <h4 id="configuring-interface-speed-and-duplex"><a href="#configuring-interface-speed-and-duplex" class="header-anchor">#</a> Configuring interface speed and duplex</h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303181612983.png" alt="image-20230318161215621" style="zoom:30%;"> <blockquote><h5 id="speed-duplex-auto-negotiation"><a href="#speed-duplex-auto-negotiation" class="header-anchor">#</a> Speed/Duplex Auto-negotiation</h5> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303181651830.png" alt="image-20230318165139506" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303181653572.png" alt="image-20230318165346312" style="zoom:33%;"></blockquote> <blockquote><h5 id="csma-cd-mechanism-in-half-duplex-network"><a href="#csma-cd-mechanism-in-half-duplex-network" class="header-anchor">#</a> CSMA/CD Mechanism in ==Half-duplex== network</h5> <ul><li><p>Ethernet devices use <strong>CSMA/CD</strong> to detect and prevent collisions on <em>half-duplex</em> interfaces.</p></li> <li><p><code>åŠåŒå·¥ä»¥å¤ªç½‘</code>ä½¿ç”¨<code>CSMA/CD</code> (Carrier Sense Multiple Access with Collision Detection ï¼Œè½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®/å†²çªæ£€æµ‹)ï¼Œè¿™æ˜¯ä¸€ç§å¸®åŠ©è®¾å¤‡å‡è¡¡åœ°å…±äº«å¸¦å®½çš„åè®®ï¼Œå¯é¿å…ä¸¤å°è®¾å¤‡åŒæ—¶åœ¨ç½‘ç»œä»‹è´¨ä¸Šä¼ è¾“æ•°æ®ã€‚åŒä¸€å†²çªåŸŸå†…, å¤šä¸ªèŠ‚ç‚¹åŒæ—¶ä¼ è¾“åˆ†ç»„æ—¶ï¼Œå°†å‘ç”Ÿå†²çªï¼Œè€Œå¼€å‘CSMA/CDå°±æ—¨åœ¨é¿å…è¿™ç§é—®é¢˜:</p> <ul><li>Before sending frames, devices â€˜listenâ€™ to the collision domain until they detect that other devices are not sending.</li></ul> <ul><li>If a collision does occur, the device sends a <strong>jamming signal(é˜»å¡ä¿¡å·)</strong> to inform the other devices that a collision happened.</li></ul> <ul><li>Each device will wait a <em>random period</em> of time before sending frames again.</li></ul> <ul><li>The process repeats.</li></ul></li> <li><p>åœ¨<code>åŠåŒå·¥ä»¥å¤ªç½‘</code>ä¸­å‘ç”Ÿå†²çªåï¼Œå°†å‡ºç°å¦‚ä¸‹æƒ…å†µ:
1. æ‹¥å µä¿¡å·å‘Šè¯‰æ‰€æœ‰è®¾å¤‡å‘ç”Ÿäº†å†²çª;
2. å†²çªå‘ç”Ÿåè¿›è¡Œéšæœºå»¶è¿Ÿå¹¶é‡ä¼ ;
3. ä»¥å¤ªç½‘ç½‘æ®µä¸­çš„æ¯å°è®¾å¤‡éƒ½æš‚åœä¼ è¾“ï¼Œç›´åˆ°å®šæ—¶å™¨åˆ°æœŸåï¼Œæ‰€æœ‰ä¸»æœºçš„ä¼ è¾“ä¼˜å…ˆçº§éƒ½ç›¸åŒã€‚</p></li> <li><p>CSMA/CD ç½‘ç»œæŒç»­å‘ç”Ÿä¸¥é‡å†²çªæ—¶ï¼Œå°†å¯¼è‡´å¦‚ä¸‹åæœ:</p> <ul><li>å»¶è¿Ÿ;</li> <li>ä½ååé‡;</li> <li>æ‹¥å¡ã€‚</li></ul></li></ul></blockquote> <blockquote><p>æœ€åï¼Œè¯·ç‰¢è®°å¦‚ä¸‹è¦ç‚¹:</p> <ul><li><strong>åœ¨Full-duplexæ¨¡å¼ä¸‹ï¼Œä¸ä¼šå‘ç”Ÿå†²çª;</strong> Full-Duplex transmission means that both devices and send data at the same time, and no problems like collisions will occur because they use separate wires to transmit and receive data.</li> <li>é›†çº¿å™¨å±äº<em>Layer 1- Physical Layer</em>çš„ç½‘ç»œè®¾å¤‡,å·²ç»åŸºæœ¬æ·˜æ±°; é™¤é›†çº¿å™¨å¤–ï¼Œå‡ ä¹å…¶ä»–æ‰€æœ‰è®¾å¤‡éƒ½å¯åœ¨å…¨åŒå·¥æ¨¡å¼ä¸‹è¿è¡Œã€‚</li> <li>åŠåŒå·¥ä»¥å¤ªç½‘åªæœ‰ä¸€ä¸ª<strong>å†²çªåŸŸ(Collision Domain)</strong>ï¼Œå…¶æœ‰æ•ˆååé‡æ¯”å…¨åŒå·¥ä»¥å¤ªç½‘ä½å¾—å¤šã€‚</li> <li>åœ¨å…¨åŒå·¥ä»¥å¤ªç½‘ä¸­ï¼Œäº¤æ¢æœºçš„æ¯ä¸ªç«¯å£éƒ½å¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„å†²çªåŸŸï¼Œä¸”æœ‰æ•ˆåæ€§é‡æ›´é«˜ã€‚</li></ul></blockquote> <h4 id="shutdown-the-unused-interfaces"><a href="#shutdown-the-unused-interfaces" class="header-anchor">#</a> shutdown the unused interfaces</h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303181613678.png" alt="image-20230318161356308" style="zoom:50%;"> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># interface range f0/5 - 8, f0/10-11</span>
SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment"># shutdown </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="interface-counters-errors"><a href="#interface-counters-errors" class="header-anchor">#</a> Interface Counters &amp; Errors</h4> <p>The <em>switch and router</em> will take count of some of these things and you can view them with the <code>show interfaces</code> command.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303181702365.png" alt="image-20230318170220044" style="zoom:38%;"> <blockquote><p>Interface Counters:</p> <ul><li><strong>total number of packets received on the interface</strong>,</li> <li><strong>the total number of bytes in those packets</strong>;</li></ul> <p>Interface Errors:</p> <ul><li><strong>runts</strong>: Frames that are smaller than the minimum frame size (64 bytes);</li> <li><strong>giants</strong>: Frames that are larger than the maximum frame size (1518 bytes);</li> <li><strong>CRC</strong>: Frames that failed the CRC check (in the Ethernet FCS trailer);</li> <li><strong>frame</strong>: Frames that have an Incorrect format (due to an error);</li> <li><strong>Input errors</strong>: Total of various counters, such as the above four;</li> <li><strong>Output errors</strong>: Frames the switch tried to send, but failed due to an error</li></ul></blockquote> <h2 id="äº¤æ¢çš„å¯»å€è¿‡ç¨‹"><a href="#äº¤æ¢çš„å¯»å€è¿‡ç¨‹" class="header-anchor">#</a> äº¤æ¢çš„å¯»å€è¿‡ç¨‹</h2> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621140831792.png" alt="image-20220621140831792" style="zoom:40%;"> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621141319943.png" alt="image-20220621141319943" style="zoom:40%;"> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621141355454.png" alt="image-20220621141355454" style="zoom:40%;"> <hr> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303161800854.png" alt="image-20230316180045420" style="zoom:33%;"> <ol><li>The user entered the IP address 192.168.1.3 as the destination, but PC1 has to discover PC3â€™s MAC address by itself;</li> <li>So, PC1 wants to send this Ethernet frame to PC3, but first it has to learn PC3â€™s MAC address;</li> <li>To do so, it uses <strong>ARP</strong>.</li></ol> <h2 id="vlan"><a href="#vlan" class="header-anchor">#</a> VLAN</h2> <h3 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h3> <blockquote><h5 id="what-is-lan-2"><a href="#what-is-lan-2" class="header-anchor">#</a> What is LAN?</h5> <ul><li>A LAN is a <strong>single broadcast domain</strong>, including all devices in that broadcast domain.</li></ul> <h5 id="what-is-broadcast-domain"><a href="#what-is-broadcast-domain" class="header-anchor">#</a> What is Broadcast Domain?</h5> <ul><li>A broadcast domain is the group of devices which will receive a <strong>broadcast frame</strong> (destination MAC FFFF.FFFF.FFFF) sent by any one of the members.</li></ul></blockquote> <blockquote><h5 id="what-is-vlan"><a href="#what-is-vlan" class="header-anchor">#</a> What is VLAN?</h5> <p>åœ¨çº¯ç²¹çš„äº¤æ¢å‹äº’è”ç½‘ç»œä¸­, å¦‚ä½•åˆ’åˆ†å¹¿æ’­åŸŸå‘¢? ç­”æ¡ˆæ˜¯åˆ›å»ºVLAN(è™šæ‹Ÿå±€åŸŸç½‘)ã€‚ VLANæ˜¯ä¸€ä¸ªç½‘ç»œç”¨æˆ·å’Œç½‘ç»œèµ„æºçš„é€»è¾‘ç¼–ç»„, å®ƒä»¬ä¸ç®¡ç†è€…å®šä¹‰çš„äº¤æ¢æœºç«¯å£ç›¸è¿ã€‚ é€šè¿‡åœ¨äº¤æ¢æœºä¸Šåˆ›å»ºVLAN, å¯ä»¥æŒ‡å®šäº¤æ¢æœºç«¯å£ä¸ºä¸åŒçš„å­ç½‘æä¾›æœåŠ¡, ä»è€Œåœ¨äºŒå±‚äº¤æ¢å‹ç½‘ç»œ(å¹¿æ’­åŸŸ)ä¸­åˆ›å»ºæ›´å°çš„å¹¿æ’­åŸŸ.</p> <ul><li><p>é»˜è®¤æƒ…å†µä¸‹, äº¤æ¢æœºçš„æ‰€æœ‰æ¥å£éƒ½åŒå±ä¸€ä¸ªå¹¿æ’­åŸŸ;</p></li> <li><p>VLANs are configured on switches on a per-interface basis.</p></li> <li><p>VLANæŠ€æœ¯å¯ä»¥æŠŠäº¤æ¢æœºçš„æ¥å£åœ¨<em>æ•°æ®é“¾è·¯å±‚</em>ä¸Šå°†æ•´ä¸ªå¹¿æ’­åŸŸ(LAN)åˆ’åˆ†æˆè‹¥å¹²ä¸ªVLAN, logically separate end hosts at Layer 2;</p></li> <li><p>åˆ’åˆ†å,VLANä¹‹é—´æ˜¯äº’ç›¸éš”ç¦»çš„, <em>VLANä¹‹é—´åœ¨äºŒå±‚è®¾å¤‡ä¸Šæ— æ³•äº’ç›¸é€šä¿¡, å¿…é¡»ç»ç”±ä¸‰å±‚è®¾å¤‡(è·¯ç”±å™¨)æ‰å¯ä»¥äº’é€š</em>; Switches DO NOT forward traffic between VLANs, including broadcast/unknown unicast traffic.</p></li></ul> <h5 id="benefits-of-vlan"><a href="#benefits-of-vlan" class="header-anchor">#</a> Benefits of VLAN:</h5> <ul><li><strong>Performance</strong>: Lots of unnecessary broadcast traffic can reduce network performance;</li> <li><strong>Security</strong>: Even within the same office, you want to limit who has access to what. You can apply security policies on a router/firewall. Because this is one LAN, PCs can reach each other directly, without traffic passing through the router. So, even if you configure security policies, they won't have any effect.</li></ul> <h6 id="vlançš„å…¸å‹åº”ç”¨åœºæ™¯"><a href="#vlançš„å…¸å‹åº”ç”¨åœºæ™¯" class="header-anchor">#</a> VLANçš„å…¸å‹åº”ç”¨åœºæ™¯:</h6> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621141811827.png" alt="image-20220621141811827" style="zoom:40%;"></blockquote> <h4 id="vlançš„æˆå‘˜æ¨¡å¼"><a href="#vlançš„æˆå‘˜æ¨¡å¼" class="header-anchor">#</a> VLANçš„æˆå‘˜æ¨¡å¼</h4> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621143523960.png" alt="image-20220621143523960" style="zoom:40%;"> <blockquote><ul><li><code>é™æ€VLAN</code> æ˜“äºé…ç½®å’Œç®¡ç†ï¼Œéå¸¸é€‚åˆç”¨äºéœ€è¦æ§åˆ¶æ‰€æœ‰ç”¨æˆ·ç§»åŠ¨çš„ç½‘ç»œç¯å¢ƒ; æ˜¯åˆ›å»ºVLANæœ€å¸¸ç”¨çš„æ–¹æ³•ï¼Œå…¶åŸå› ä¹‹ä¸€æ˜¯é™æ€VLANæœ€å®‰å…¨ã€‚</li> <li><code>åŠ¨æ€VLAN</code> é€šè¿‡ä½¿ç”¨<strong>VLANç®¡ç†ç­–ç•¥æœåŠ¡å™¨(VMPS)</strong>ï¼Œå¯æ ¹æ®ç¡¬ä»¶(MAC)åœ°å€ã€åè®®ç”šè‡³åˆ›å»ºåŠ¨æ€VLAN çš„åº”ç”¨ç¨‹åºæ¥ç¡®å®šæ‰€è¿æ¥çš„äº¤æ¢æœºç«¯å£æ‰€å±çš„VLANã€‚VMPSæ•°æ®åº“å°†MACåœ°å€æ˜ å°„åˆ°VLANã€‚åœ¨åŒä¸€å°äº¤æ¢æœºä¸­ï¼Œå¯ä»¥åŒæ—¶æœ‰åŠ¨æ€æ¥å…¥ç«¯å£å’Œä¸­ç»§ç«¯å£ï¼Œä½†åŠ¨æ€æ¥å…¥ç«¯å£åªèƒ½è¿æ¥åˆ°ç»ˆç«¯æˆ–é›†çº¿å™¨ï¼Œè€Œä¸èƒ½è¿æ¥åˆ°å…¶ä»–äº¤æ¢æœº!</li></ul></blockquote> <h4 id="vlan-id"><a href="#vlan-id" class="header-anchor">#</a> VLAN ID</h4> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621153512606.png" alt="image-20220621153512606" style="zoom:43%;"> <blockquote><h5 id="categories"><a href="#categories" class="header-anchor">#</a> Categories:</h5> <ul><li>ç¼–å·1 ~ 1005çš„VLANä¸º <strong>Normal VLANs</strong>: <em>VLAN 1</em>, <em>VLAN 1002~1005</em> exist by default and cannot be deleted.</li> <li>ç¼–å·1006~4094çš„VLANç§°ä¸º <strong>Extended VLANs</strong>;</li></ul></blockquote> <blockquote><h6 id="vlan-1çš„ç‰¹æ€§"><a href="#vlan-1çš„ç‰¹æ€§" class="header-anchor">#</a> VLAN 1çš„ç‰¹æ€§:</h6> <ul><li>VLAN 1 æ˜¯ä¸€ä¸ªç®¡ç†VLAN(ç®¡ç†æ•°æ®æµï¼Œå¦‚CDPï¼Œ PAgPã€LACPï¼Œ DTPå’ŒVTP), è™½ç„¶ä¹Ÿå¯å°†å…¶ç”¨äºå·¥ä½œç»„, ä½†æ€ç§‘å»ºè®®åªå°†å…¶ç”¨äºç®¡ç†;</li> <li>VLAN 1 æ˜¯é»˜è®¤çš„Native VLAN, ä¸èƒ½è¢«ä¿®æ”¹ã€åˆ é™¤æˆ–é‡å‘½å;</li> <li>é»˜è®¤æƒ…å†µä¸‹, æ‰€æœ‰çš„äº¤æ¢æœºç«¯å£éƒ½å±äºVLAN 1;</li></ul></blockquote> <h4 id="åœ¨äº¤æ¢ç¯å¢ƒä¸­-å­˜åœ¨ä¸‰ç§ç±»å‹çš„ç«¯å£"><a href="#åœ¨äº¤æ¢ç¯å¢ƒä¸­-å­˜åœ¨ä¸‰ç§ç±»å‹çš„ç«¯å£" class="header-anchor">#</a> åœ¨äº¤æ¢ç¯å¢ƒä¸­ï¼Œå­˜åœ¨ä¸‰ç§ç±»å‹çš„ç«¯å£:</h4> <blockquote><h6 id="access-port"><a href="#access-port" class="header-anchor">#</a> Access port:</h6> <ul><li><p>An access port is a switchport which belongs to a single VLAN, and usually connects to end hosts like PCs.</p></li> <li><p><strong>An access port belongs to and carries the traffic of only one VLAN</strong>.</p></li> <li><p>Traffic is both received and sent in <strong>native formats with no VLAN tagging</strong> whatsoever. Anything arriving on an access port is simply assumed to belong to the VLAN assigned to the port.</p> <ul><li><p>ä¸<code>Access Port</code>ç›¸è¿çš„è®¾å¤‡æ²¡æœ‰VLANæˆå‘˜èµ„æ ¼çš„æ¦‚å¿µï¼Œåªæ˜¯è®¤ä¸ºè‡ªå·±æ˜¯æŸä¸ªå¹¿æ’­åŸŸçš„ä¸€å‘˜, æ²¡æœ‰å…¨å±€æ„è¯†ï¼Œæ ¹æœ¬ä¸äº†è§£ç‰©ç†ç½‘ç»œæ‹“æ‰‘ã€‚</p></li> <li><p>å°†å¸§è½¬å‘ç»™ä¸<code>Access Port</code>ç›¸è¿çš„ç»ˆç«¯è®¾å¤‡å‰ï¼Œäº¤æ¢æœºå°†åˆ é™¤æ‰€æœ‰çš„VLANä¿¡æ¯ã€‚</p> <blockquote><p>So, what do you think will happen if an access port receives a <em>tagged packet, like IEEE 802.1Q tagged</em>?</p> <ul><li>Rightâ€”<em>that packet would simply be dropped</em>. But why? Well, because an access port doesnâ€™t look at the source address, so tagged traffic can be forwarded and received only on trunk ports.</li></ul></blockquote></li></ul></li></ul> <h6 id="voice-access-ports"><a href="#voice-access-ports" class="header-anchor">#</a> Voice access ports:</h6> <ul><li>è¿™æ˜¯ä¸€ç§ç‰¹æ®Šçš„<code>Access port</code>; å‰é¢ä¸€ç›´è¯´æ¥å…¥ç«¯å£åªèƒ½å±äºä¸€ä¸ªVLANï¼Œä½†è¿™ç§è¯´æ³•ä¸å®Œå…¨æ­£ç¡®ã€‚å½“å‰ï¼Œå¤§å¤šæ•°äº¤æ¢æœºéƒ½å…è®¸å°†æ¥å…¥ç«¯å£åˆ†é…ç»™å¦ä¸€ä¸ªVLANï¼Œä»¥ä¾¿ä¼ è¾“è¯­éŸ³æ•°æ®æµï¼Œè¿™ç§VLANè¢«ç§°ä¸ºè¯­éŸ³VLANã€‚è¯­éŸ³VLANè¿‡å»è¢«ç§°ä¸ºè¾…åŠ©VLANï¼Œå®ƒå¯ä»¥ä¸æ•°æ®VLANé‡å ï¼Œå…è®¸åŒä¸€ä¸ªç«¯å£åŒæ—¶ä¼ è¾“è¯­éŸ³å’Œæ•°æ®ã€‚è™½ç„¶ä»æŠ€æœ¯ä¸Šè¯´ï¼Œè¿™å±äºä¸åŒç±»å‹çš„é“¾è·¯ï¼Œä½†å®ƒä»ç„¶åªæ˜¯ä¸€ç§æ¥å…¥ç«¯å£ï¼Œåªæ˜¯èƒ½å¤Ÿé…ç›´çš„åŒæ—¶ä¸ºè¯­éŸ³VLAN å’Œæ•°æ®VLANä¼ è¾“æ•°æ®æµã€‚è¿™è®©ä½ èƒ½å¤Ÿå°†ç”µè¯å’ŒPCåŒæ—¶è¿æ¥åˆ°åŒä¸€ä¸ªäº¤æ¢æœºæ£‰å£ï¼Œå¹¶è®©å®ƒä»¬å±äºä¸åŒçš„VLANã€‚åœ¨æœ¬ç« åé¢çš„11.8èŠ‚ï¼Œå°†è¯¦ç»†ä»‹ç»è¯­éŸ³VLANã€‚</li></ul> <h6 id="trunk-port"><a href="#trunk-port" class="header-anchor">#</a> Trunk port:</h6> <ul><li><p>Trunk ports can carry multiple VLANs over a single interface; ç”¨äº<strong>äº¤æ¢æœºä¹‹é—´</strong>ã€<strong>äº¤æ¢æœºå’Œè·¯ç”±å™¨ä¹‹é—´</strong>, <strong>äº¤æ¢æœºå’ŒæœåŠ¡å™¨</strong>ä¹‹é—´ï¼Œå®ƒåŒæ—¶ä¸ºå¤šä¸ª(1-4094ä¸ªï¼Œä½†é™¤éä½¿ç”¨æ‰©å±•VLANï¼Œå¦åˆ™æœ€å¤šä¸º1005ä¸ª)VLANä¼ è¾“æ•°æ®æµã€‚</p> <ul><li><p>å¯è®©ä¸€ä¸ªç«¯å£åŒæ—¶å±äºä¼—å¤šä¸åŒçš„VLAN, æ¯”å¦‚å¯è®©åŒä¸€å°æœåŠ¡å™¨å±äºä¸¤ä¸ªä¸åŒçš„å¹¿æ’­åŸŸï¼Œè¿™æ ·ç”¨æˆ·æ— éœ€é€šè¿‡ç¬¬3å±‚è®¾å¤‡(è·¯ç”±å™¨)å°±èƒ½ç™»å½•æˆ–è®¿é—®å®ƒ;</p></li> <li><p>å¦ä¸€ä¸ªä¼˜ç‚¹è¡¨ç°åœ¨äº¤æ¢æœºä¹‹é—´çš„Trunkè¿æ¥ã€‚ä¸­ç»§é“¾è·¯å¯ä¼ è¾“æ¥è‡ªå¤šä¸ªVLANçš„å¸§ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202207101256426.png" alt="image-20220710125650266" style="zoom:80%;"></li></ul></li></ul></blockquote> <blockquote><ul><li>äº¤æ¢æœºç«¯å£æ˜¯ç¬¬äºŒå±‚æ¥å£, è¿™ç§æ¥å£ä¸ç‰©ç†ç«¯å£ç›¸å…³è”;</li> <li>äº¤æ¢æœºç«¯å£ä¸º<code>access port</code>æ—¶, åªèƒ½å±äºä¸€ä¸ªVLAN; è€Œä¸º<code>trunk port</code>æ—¶, å±äºæ‰€æœ‰çš„VLANs;</li> <li>å¯æ‰‹å·¥å°†ç«¯å£é…ç½®ä¸º<code>access port</code>æˆ–<code>trunk port</code>, ä¹Ÿå¯åœ¨æ¯ä¸ªç«¯å£ä¸Šè¿è¡ŒDTPåè®®, DTPé€šè¿‡ä¸é“¾è·¯å¦ä¸€ç«¯çš„ç«¯å£åå•†æ¥è®¾ç½®ç«¯å£æ¨¡å¼</li></ul></blockquote> <h3 id="two-trunking-tagging-protocols"><a href="#two-trunking-tagging-protocols" class="header-anchor">#</a> Two Trunking(tagging) Protocols</h3> <h4 id="dot1q"><a href="#dot1q" class="header-anchor">#</a> dot1q:</h4> <blockquote><ul><li>IEEE 802.1Q, A.S.A dot1q æ˜¯IEEEåˆ¶å®šçš„ industry standard protocolï¼Œå®ƒåœ¨Ethernet Frameä¸­æ’å…¥ä¸€ä¸ªå­—æ®µTagã€‚</li> <li>802.1Q has a feature called the <strong>native VLAN</strong>. (ISL does not have this feature.)</li> <li>The native VLAN Is <em>VLAN 1 by default on all trunk ports</em>, however this can be manually configured on <strong>each trunk port</strong>.</li> <li>The switch does not add an 802.1q tag to <em>frames in the native VLAN</em>.</li> <li>When a switch receives an untagged frame on a trunk port, it assumes the frame belongs to the native VLAN. <strong>So, itâ€™s very important that the native VLAN matches for the switches on the same Trunk Link!</strong></li></ul> <h6 id="vlan-tagging"><a href="#vlan-tagging" class="header-anchor">#</a> VLAN Tagging</h6> <ul><li><p>Switches will â€˜tagâ€™ all frames that they send over a trunk link. This allows the receiving switch to know which VLAN the frame belongs to.</p> <ul><li>Trunk Ports = tagged ports;</li></ul></li> <li><p>Access Ports = untagged ports;</p></li> <li><p>This frame identification method uniquely assigns a user-defined VLAN ID to each frame. Sometimes people refer to it as a <strong>VLAN ID</strong>.</p></li> <li><p><strong>Trunk ports will support tagged and untagged traffic simultaneously (if you are using 802.1Q trunking protocol</strong>).</p> <blockquote><p>The trunk port is assigned a default Port VLAN ID (PVID) for a VLAN on which all untagged traffic will travel. This VLAN is also called the <strong>native VLAN</strong> and is always <strong>VLAN 1</strong> by default (but it can be changed to any VLAN number).</p></blockquote></li></ul> <h6 id="here-s-how-it-works"><a href="#here-s-how-it-works" class="header-anchor">#</a> Hereâ€™s how it works:</h6> <ul><li><p>Once within the switch fabric, each switch that the frame reaches must first identify the VLAN ID from the frame tag. It then finds out what to do with the frame by looking at the information in whatâ€™s known as the <strong>filter table</strong>. If the frame reaches a switch that has another trunked link, the frame will be forwarded out the trunk-link port.
â€‹</p></li> <li><p>Once the frame reaches an exit thatâ€™s determined by the <strong>forward/filter table</strong> to be an <strong>access link</strong> matching the frameâ€™s VLAN ID, the switch will remove the VLAN identifier. This is so the destination device can receive the frames without being required to understand their VLAN identification information.</p></li></ul> <h6 id="_802-1q-tagç»“æ„"><a href="#_802-1q-tagç»“æ„" class="header-anchor">#</a> 802.1Q Tagç»“æ„</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303300053536.png" alt="image-20220621184009736" style="zoom:53%;"> <ul><li><p>**FCS(Frame Check Sum)**å°†é‡æ–°è®¡ç®—;</p></li> <li><p><strong>802.1Q Tag</strong> çš„å¤§å° 4 Bytes, consists of two main fields: :</p> <ul><li><em>Tag Protocol Identifier(TPID)</em>: 16 bits, always set to a value of <strong>0x8100</strong>, which indicates that the frame is <strong>802.1Q-tagged</strong>.</li> <li><em>Tag Control Information(TCI)</em> <ul><li><strong>PCP(Priority Code Point)</strong>: 3 bits, Used for <strong>CoS(Class of Service)</strong>, which prioritizes important traffic in congested networks;</li> <li><strong>DEI(Drop Eligible indicator)</strong>: 1 bit, Used to indicates frames that can be dropped if the network is congested, which makes sure more important network traffic gets through;</li> <li><strong>VLAN ID</strong>: 12 bits(2^12^ = 4096, range of 0 ~ 4095), identifies the VLAN which the frame belongs to;</li></ul></li></ul></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220111900.png" alt="image-20230322011132707" style="zoom:22%;"></blockquote> <h4 id="isl"><a href="#isl" class="header-anchor">#</a> ISL:</h4> <blockquote><ul><li><p>(Inter-Switch Link), æ€ç§‘proprietaryåè®®, <strong>Deprecated!</strong></p></li> <li><p>äº¤æ¢æœºé—´é“¾è·¯(ISL)æ˜¯ä¸€ç§æ˜¾å¼æ ‡è®°æ–¹æ³•ï¼Œå®ƒåœ¨ä»¥å¤ªç½‘å¸§ä¸­æ·»åŠ VLANä¿¡æ¯ã€‚è¿™äº›æ ‡è®°ä¿¡æ¯å…è®¸åˆ©ç”¨å¤–éƒ¨æ ‡è®°æ–¹æ³•åœ¨ä¸­ç»§é“¾è·¯ä¸Šå¤šè·¯å¤ç”¨å¤šä¸ªVLANçš„æ•°æ®æµï¼Œä»è€Œè®©äº¤æ¢æœºç¡®å®šé€šè¿‡ä¸­ç»§é“¾è·¯æ”¶åˆ°çš„å¸§å±äºå“ªä¸ªVLAN ã€‚</p></li> <li><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™æ˜¯ä¸€ç§æ€ç§‘ä¸“ç”¨åè®®ï¼Œåªèƒ½ç”¨äº<strong>FastEthernet</strong>å’Œ<strong>GigabitEthernet</strong>é“¾è·¯ã€‚ISLå¯ç”¨äºäº¤æ¢æœºç«¯å£ã€è·¯ç”±å™¨æ¥å£å’ŒæœåŠ¡å™¨æ¥å£å¡ã€‚</p></li> <li><p>æ€ç§‘çš„ä¸“æœ‰åè®®ISL, ä½†æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜, æ‰€ä»¥æ€ç§‘é€æ¸å¼ƒç”¨äº†!</p> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621183600780.png" alt="image-20220621183600780" style="zoom:40%;"></li></ul></blockquote> <h3 id="äº¤æ¢æœºç«¯å£ç±»å‹-dtp"><a href="#äº¤æ¢æœºç«¯å£ç±»å‹-dtp" class="header-anchor">#</a> äº¤æ¢æœºç«¯å£ç±»å‹ &amp; DTP:</h3> <blockquote><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport mode ?</span>
access        Set trunking mode to ACCESS unconditionally
dot1q-tunnel  <span class="token builtin class-name">set</span> trunking mode to TUNNEL unconditionally
dynamic       Set trunking mode to dynamically negotiate access or trunk mode
private-vlan  Set the mode to private-vlan <span class="token function">host</span> or promiscuous
trunk         Set trunking mode to TRUNK unconditionally
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><p><code>switchport mode access</code>: forces the interface on the SW into <strong>Access Port</strong> mode;</p></li> <li><p><code>switchport mode trunk</code>: forces the interface on the SW into <strong>Trunk Port</strong> mode;</p></li> <li><p><code>switchport nonegotiate</code>: Disable DTP on the interfaces on Cisco Switches. <code>switchport mode access</code> <em>can also prevent the interface from generating DTP frames</em>.</p></li></ul></blockquote> <h4 id="dtp"><a href="#dtp" class="header-anchor">#</a> DTP</h4> <ul><li>(Dynamic Trunking Protocol), <strong>Cisco proprietary</strong> protocol</li> <li>allows <strong>switches with each other</strong> to negotiate the status of their switchports to be either <strong>Access Ports</strong> or <strong>Trunk Ports</strong>, instead of manual configuration.</li> <li>DTP is enabled by default on all Cisco switch interfaces.</li> <li>DTP can be exploited by attackers. For security purposes, manual configuration is recommended. <strong>DTP should be disabled on all switchports.</strong></li> <li>æŸ¥çœ‹æŒ‡å®šç«¯å£çš„DTPçŠ¶æ€: <code>show interfaces f0/1 switchport</code></li></ul> <blockquote><ul><li><code>switchport mode dynamic auto</code>: This mode makes the interface able to convert the link to a trunk link. The interface becomes a trunk interface if the neighboring interface is set to
<ul><li><strong>trunk</strong>;</li> <li><strong>dynamic desirable</strong>;</li></ul></li> <li><code>switchport mode dynamic desirable</code>: This one makes the interface <strong>actively</strong> attempt to convert the link to a trunk link. The interface becomes a trunk interface if the neighboring interface is set to
<ul><li><strong>trunk</strong>;</li> <li><strong>dynamic desirable</strong>;</li> <li><strong>dynamic auto</strong>;</li></ul></li></ul> <blockquote><ul><li>On older switches, <code>switchport mode dynamic desirable</code> is the default administrative mode.</li> <li>On newer switches, <code>switchport mode dynamic auto</code> is the default administrative mode.</li></ul></blockquote> <h6 id="summary"><a href="#summary" class="header-anchor">#</a> Summary:</h6> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303240018613.png" alt="image-20230324001845430"></p></blockquote> <blockquote><h5 id="è¡¥å……1"><a href="#è¡¥å……1" class="header-anchor">#</a> è¡¥å……1:</h5> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303230550406.png" alt="image-20230323055016098" style="zoom:36%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303230546146.png" alt="image-20230323054612807" style="zoom:34%;"> <h5 id="è¡¥å……2"><a href="#è¡¥å……2" class="header-anchor">#</a> è¡¥å……2:</h5> <ul><li>Switches that support both 802.1Q and ISL trunk encapsulations can use DTP to negotiate the encapsulation they will use.</li> <li>This negotiation is enabled by default, as the default trunk encapsulation mode is: <code>switchport trunk encapsulation negotiate</code></li> <li>ISL is favored over 802.1Q, so if both switches support ISL it will be selected.</li> <li>DTP frames are sent in VLAN1 when using ISL, or in the native VLAN when using 802.1Q (the default native VLAN is VLAN1, however).</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303230606773.png" alt="image-20230323060653449" style="zoom:45%;"></blockquote> <h3 id="vlançš„åŸºæœ¬é…ç½®"><a href="#vlançš„åŸºæœ¬é…ç½®" class="header-anchor">#</a> VLANçš„åŸºæœ¬é…ç½®</h3> <h4 id="vlançš„æŸ¥çœ‹-åˆ›å»º-é‡å‘½å-åˆ é™¤"><a href="#vlançš„æŸ¥çœ‹-åˆ›å»º-é‡å‘½å-åˆ é™¤" class="header-anchor">#</a> VLANçš„æŸ¥çœ‹, åˆ›å»º, é‡å‘½å, åˆ é™¤</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># æŸ¥çœ‹vlané…ç½®</span>
SW1<span class="token comment"># show vlan brief   #  shows the access ports assigned to each VLAN </span>

<span class="token comment"># åˆ›å»º VLAN</span>
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#vlan 2  # åˆ›å»º VLAN 2</span>
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#vlan 3-10   # è¿ç»­åœ°åˆ›å»º ç¼–å·ä¸º 3~10, ä¸€å…±8ä¸ª VLAN</span>
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#vlan 11,13,15,17  # åˆ›å»ºæŒ‡å®šç¼–å·çš„ VLAN</span>

SW1<span class="token punctuation">(</span>config-vlan<span class="token punctuation">)</span><span class="token comment">#name VLAN_NAME    # è‡ªå®šä¹‰ å½“å‰VLANçš„åå­—</span>
SW1<span class="token punctuation">(</span>config-vlan<span class="token punctuation">)</span><span class="token comment">#end</span>

SW1<span class="token comment">#</span>

<span class="token comment"># åˆ é™¤æŒ‡å®šçš„VLAN, ä¹Ÿæ”¯æŒæ‰¹é‡åˆ é™¤</span>
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#no vlan 3-10,11,13,15,17   </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="access-modeå¹¶åˆ†é…ç»™æŒ‡å®šçš„vlan"><a href="#access-modeå¹¶åˆ†é…ç»™æŒ‡å®šçš„vlan" class="header-anchor">#</a> Access Modeå¹¶åˆ†é…ç»™æŒ‡å®šçš„VLAN</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int e0/0</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport ?</span>
  access         Set access mode characteristics of the interface  <span class="token comment"># æ‰¿è½½å•ä¸ªVLAN</span>
  autostate      Include or exclude this port from vlan <span class="token function">link</span> up calculation
  dot1q          Set interface dot1q properties
  <span class="token function">host</span>           Set port <span class="token function">host</span>
  mode           Set trunking mode of the interface
  nonegotiate    Device will not engage <span class="token keyword">in</span> negotiation protocol on this interface
  port-security  Security related <span class="token builtin class-name">command</span> 
  private-vlan   Set the private VLAN configuration
  protected      Configure an interface to be a protected port
  trunk          Set trunking characteristics of the interface  <span class="token comment"># æ‰¿è½½å¤šä¸ªVLANçš„æ•°æ®</span>
  voice          Voice appliance attributes
  <span class="token operator">&lt;</span>cr<span class="token operator">&gt;</span>
 
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport mode access</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport access vlan 2  # å°†å½“å‰çš„æ¥å£é…ç½®åˆ°æŒ‡å®šçš„VLAN</span>
% Access VLAN does not exist. Creating vlan <span class="token number">2</span>    <span class="token comment"># è‹¥VLANä¸å­˜åœ¨æ—¶, ä¼šè‡ªåŠ¨åˆ›å»º</span>

SW1<span class="token comment">#show vlan brief   </span>
    VLAN Name                             Status    Ports
    ---- -------------------------------- --------- -------------------------------
    <span class="token number">1</span>    default                          active    Et0/1, Et0/2, Et0/3
    <span class="token number">2</span>    CCNA                             active    Et0/0
    <span class="token number">1002</span> fddi-default                     act/unsup 
    <span class="token number">1003</span> token-ring-default               act/unsup 
    <span class="token number">1004</span> fddinet-default                  act/unsup 
    <span class="token number">1005</span> trnet-default                    act/unsup 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h4 id="ä¸€æ¬¡æ€§è®¾ç½®å¤šä¸ªæ¥å£åŠ å…¥åŒä¸€ä¸ªvlan"><a href="#ä¸€æ¬¡æ€§è®¾ç½®å¤šä¸ªæ¥å£åŠ å…¥åŒä¸€ä¸ªvlan" class="header-anchor">#</a> ä¸€æ¬¡æ€§è®¾ç½®å¤šä¸ªæ¥å£åŠ å…¥åŒä¸€ä¸ªVLAN:</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># interface range g0/0 - 3</span>

SW2<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment"># switchport mode access</span>

SW2<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment"># switchport access vlan 3</span>
% Access VLAN does not exist. Creating vlan <span class="token number">3</span>

SW2<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment"># end</span>
SW2<span class="token comment">#show vlan brief</span>
    VLAN Name                             Status    Ports
    ---- -------------------------------- --------- -------------------------------
    <span class="token number">1</span>    default                          active    
    <span class="token number">2</span>    VLAN0002                         active    
    <span class="token number">3</span>    VLAN0003                         active    Et0/0, Et0/1, Et0/2, Et0/3

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="trunk-configuration"><a href="#trunk-configuration" class="header-anchor">#</a> Trunk Configuration</h3> <blockquote><p>äº¤æ¢æœºä¸Šæ‰¿è½½å¤šä¸ªVLAN, åˆ™å½“äº¤æ¢æœºä¸ äº¤æ¢æœºæˆ–è€…è·¯ç”±å™¨ ä¹‹é—´çš„è¿æ¥éœ€è¦å°†æ¥å£è®¾ç½®ä¸º <code>Trunkæ¨¡å¼</code>;</p></blockquote> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621183139837.png" alt="image-20220621183139837" style="zoom:40%;"> <h5 id="æŸ¥çœ‹äº¤æ¢æœºçš„trunkç«¯å£"><a href="#æŸ¥çœ‹äº¤æ¢æœºçš„trunkç«¯å£" class="header-anchor">#</a> æŸ¥çœ‹äº¤æ¢æœºçš„Trunkç«¯å£:</h5> <p><code>show interfaces trunk</code>: shows the trunk ports that allow each VLAN.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220153542.png" alt="image-20230322015334342" style="zoom:45%;"> <blockquote><ul><li>Mode <strong>on</strong>: means that the interface was manually configured as a trunk.</li> <li><strong>VLANs allowed on the trunk</strong>: By the default, ALL VLANs, 1 to 4094, are allowed on the trunk.</li> <li><strong>VLANs allowed and active in management domain</strong>: åœ¨äº¤æ¢æœºä¸Šçš„ <strong>å­˜åœ¨çš„(VLAN 1æˆ–è€…åˆ›å»ºçš„) å¹¶ä¸” æ”¾è¡Œ(allowed)çš„VLAN</strong></li></ul></blockquote> <h5 id="é…ç½®ç«¯å£ä¸ºtrunk-mode"><a href="#é…ç½®ç«¯å£ä¸ºtrunk-mode" class="header-anchor">#</a> é…ç½®ç«¯å£ä¸ºTrunk mode</h5> <blockquote><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220149153.png" alt="image-20230322014956875" style="zoom:38%;"> <ul><li><p>Many modern switches do not support Ciscoâ€™s ISL at all. They only support 802.10 (dot1q)</p></li> <li><p>However, switches that do support both (like the one Iâ€™m using in this example) have a trunk
encapsulation of â€˜Autoâ€™ by default.</p></li> <li><p>To manually configure the interface as a trunk port, you must first set the encapsulation to
802.1Q or ISL. On switches that only support 802.1Q, this is not necessary.</p></li></ul></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 1.é…ç½® Trunk çš„å°è£…æ–¹å¼(ä½¿ç”¨çš„åè®®):</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk encapsulation ?</span>
  dot1q      Interface uses only <span class="token number">802</span>.1q trunking encapsulation when trunking
  isl        Interface uses only ISL trunking encapsulation when trunking
  negotiate  Device will negotiate trunking encapsulation with peer on
             interface      
 
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk encapsulation dot1q </span>

<span class="token comment"># 2.å¼€å¯æ¥å£çš„Trunkæ¨¡å¼:</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport mode trunk </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="é™å®štrunkç«¯å£æ”¯æŒçš„vlan"><a href="#é™å®štrunkç«¯å£æ”¯æŒçš„vlan" class="header-anchor">#</a> é™å®šTrunkç«¯å£æ”¯æŒçš„VLAN</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>S1<span class="token comment"># config t</span>
S1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># int f0/1</span>
S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># switchport trunk allowed vlan ?</span>
   WORD  VLAN IDs of the allowed VLANs when this port is <span class="token keyword">in</span> trunking mode
   <span class="token function">add</span>  <span class="token function">add</span> VLANs to the current list
   all  all VLANs
   except  all VLANs except the following
   none  no VLANs
   remove  remove VLANs from the current list

S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># switchport trunk allowed vlan 10, 30    # Only VLAN 10 &amp; 30 are allowed</span>

S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># switchport trunk allowed vlan add 20</span>

S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># switchport trunk allowed vlan remove ?</span>
WORD VLAN IDs of disallowed VLANS when this port is <span class="token keyword">in</span> trunking mode
S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># switchport trunk allowed vlan remove 10</span>

<span class="token comment"># å°†VLAN æ’é™¤åœ¨å¤–åï¼Œè¦æ¢å¤åˆ°é»˜è®¤è®¾ç½®ï¼Œå¯ä½¿ç”¨ä¸‹è¿°å‘½ä»¤:</span>
S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># switchport trunk allowed vlan all</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h5 id="ä¿®æ”¹æŒ‡å®šç«¯å£çš„native-vlan"><a href="#ä¿®æ”¹æŒ‡å®šç«¯å£çš„native-vlan" class="header-anchor">#</a> ä¿®æ”¹æŒ‡å®šç«¯å£çš„Native Vlan</h5> <blockquote><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>S1<span class="token comment">#config t</span>
S1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int f0/1</span>
S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk ?</span>
    allowed Set allowed VLAN characteristics when interface is <span class="token keyword">in</span> trunking mode
    native Set trunking native characteristics when interface is <span class="token keyword">in</span> trunking mode
    pruning Set pruning VLAN characteristics when interface is <span class="token keyword">in</span> trunking mode

S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk native vlan ?</span>
<span class="token operator">&lt;</span><span class="token number">1</span>-409<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span> VLAN ID of the native VLAN when this port is <span class="token keyword">in</span> trunking mode

S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk native vlan 1001</span>
S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#^Z</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>For security purposes, it is best to change the native VLAN to an unused VLAN. (network security will be explained more in-depth later in the course)</li></ul> <p><strong>Make sure the native VLAN matches on between switches!</strong></p></blockquote> <h5 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="header-anchor">#</a> æ¡ˆä¾‹:</h5> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220222811.png" alt="image-20230322022222534" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220225536.png" alt="image-20230322022559320" style="zoom:30%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220226687.png" alt="image-20230322022629492" style="zoom:32%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220222775.png" alt="image-20230322022255421" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220224794.png" alt="image-20230322022434499" style="zoom:39%;"> <h4 id="router-on-a-stick-roas"><a href="#router-on-a-stick-roas" class="header-anchor">#</a> Router on a Stick(ROAS)</h4> <blockquote><p>ROAS - is the method of inter-VLAN routing</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220222811.png" alt="image-20230322022222534" style="zoom:33%;"> <ul><li>As the picture above shown, there is only a <em>single physical interface</em> connecting the router and the switch, we can actually divide this one physical interface on the router into three separate <strong>Sub-interfaces</strong>.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220233773.png" alt="image-20230322023331353" style="zoom:36%;"> <ul><li>The next command after that is <code>encapsulation dot1q VLAN_ID</code>,
<ul><li>Router will treat any arriving frames tagged with the specified VLAN number as if they arrived on this sub interface.</li> <li>If a frame tagged with VLAN10 arrives, R1 will behave as if it arrived on interface G0/0.10;</li> <li>It will also tag all frames leaving this subinterface with VLAN10 using dot1q.</li></ul></li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220249387.png" alt="image-20230322024907946" style="zoom:33%;"> <h3 id="routing-methods-of-inter-vlans"><a href="#routing-methods-of-inter-vlans" class="header-anchor">#</a> Routing methods of inter-VLANs</h3> <p>å¦‚æœè¦è®©ä¸åŒVLANä¸­çš„ä¸»æœº(æˆ–å…¶ä»–æœ‰IPåœ°å€çš„è®¾å¤‡)èƒ½å¤Ÿå½¼æ­¤é€šä¿¡ï¼Œå°±å¿…é¡»ä½¿ç”¨ç¬¬3å±‚è®¾å¤‡æ¥æä¾›è·¯ç”±é€‰æ‹©åŠŸèƒ½ã€‚</p> <h4 id="ä½¿ç”¨è·¯ç”±å™¨çš„å¤šä¸ªæ¥å£"><a href="#ä½¿ç”¨è·¯ç”±å™¨çš„å¤šä¸ªæ¥å£" class="header-anchor">#</a> ä½¿ç”¨è·¯ç”±å™¨çš„å¤šä¸ªæ¥å£</h4> <p><img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202207101449355.png" alt="image-20220710144905201"></p> <blockquote><ul><li>æ¯ä¸ªè·¯ç”±å™¨æ¥å£éƒ½è¿æ¥äº†ä¸€æ¡æ¥å…¥é“¾è·¯ï¼Œè¿™æ„å‘³ç€æ¯ä¸ªè·¯ç”±å™¨æ¥å£çš„IPåœ°å€éƒ½å°†æˆä¸ºç›¸åº”VLANä¸­æ¯å°ä¸»æœºçš„é»˜è®¤ç½‘å…³åœ°å€ã€‚</li></ul></blockquote> <h4 id="å•è‡‚è·¯ç”±-roas"><a href="#å•è‡‚è·¯ç”±-roas" class="header-anchor">#</a> å•è‡‚è·¯ç”± ROAS</h4> <blockquote><ul><li><p><strong>Router on a Stick</strong> is used to provide <strong>Inter-VLAN ip routing</strong> between multiple VLANs using a single interface on the router.</p></li> <li><p>The switch interface is configured as a regular trunk.</p></li> <li><p>The router interface is configured using subinterfaces. You configure the VLAN tag and IP address on each subinterface. å¯¹äºæ¯ä¸ªVLANä¸­çš„ä¸»æœºï¼Œéƒ½éœ€è¦ç»™å®ƒä»¬åˆ†é…ç›¸åº”å­ç½‘ä¸­çš„åœ°å€ï¼Œè€Œé»˜è®¤ç½‘å…³ä¸ºç›¸åº”è·¯ç”±å™¨å­æ¥å£çš„IPåœ°å€ã€‚</p></li> <li><p>The router will behave as if frames arriving with a certain VLAN tag have arrived on the subinterface configured with that VLAN tag.</p></li> <li><p>The router will tag frames sent out of each subinterface with the VLAN tag configured on the subinterface.</p></li> <li><p>è·¯ç”±å™¨çš„ç‰©ç†æ¥å£å¯ä»¥<em>è™šæ‹Ÿå‡º42.9äº¿(2^32^)ä¸ªå­æ¥å£</em>, å¯ä»¥åœ¨ä¸‰å±‚è¿›è¡Œä¸åŒVLANçš„æ•°æ®äº¤æ¢;</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R3<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int e0/0.?</span>
<span class="token operator">&lt;</span><span class="token number">0</span>-429496729<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>  Ethernet interface number
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></blockquote> <h5 id="å•è‡‚è·¯ç”±çš„åŸºæœ¬é…ç½®"><a href="#å•è‡‚è·¯ç”±çš„åŸºæœ¬é…ç½®" class="header-anchor">#</a> å•è‡‚è·¯ç”±çš„åŸºæœ¬é…ç½®</h5> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621233022548.png" alt="image-20220621233022548" style="zoom:40%;"> <h5 id="native-vlan-on-a-router-roas"><a href="#native-vlan-on-a-router-roas" class="header-anchor">#</a> Native VLAN on a Router(ROAS)</h5> <blockquote><p>There are 2 methods of configuring the native VLAN on a router:</p> <ul><li><p>Use the command <code>encapsulation dot1g vlan-id native</code> on the router <strong>sub-interface</strong>;</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303221959455.png" alt="image-20230322195930236" style="zoom:25%;"></li> <li><p>Configure the IP address for the native VLAN on the routerâ€™s physical interface</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222003058.png" alt="image-20230322200352839" style="zoom:25%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222004760.png" alt="image-20230322200453462" style="zoom:29%;"></li></ul></blockquote> <h5 id="æ¡ˆä¾‹-2"><a href="#æ¡ˆä¾‹-2" class="header-anchor">#</a> æ¡ˆä¾‹:</h5> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303221919883.png" alt="image-20230322191920750"></p> <blockquote><ol><li><p>Configure the switch interfaces connected to PCs as access ports in the correct VLAN.</p></li> <li><p>Configure an unused VLAN as the native VLAN.</p></li></ol> <p>â€‹    <strong>Make sure all necessary VLANs exist on each switch!</strong></p> <ol start="3"><li>Configure the connection between SW2 and R1 using 'router on a stick'.</li></ol> <p>â€‹    Assign the last usable address of each subnet to R1's subinterfaces.</p> <ol start="4"><li>Test connectivity by ping command between PCs.  All PCs should be able to reach each other.</li></ol></blockquote> <h6 id="sw1-configuration"><a href="#sw1-configuration" class="header-anchor">#</a> SW1 Configuration</h6> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW1<span class="token comment">#conf t</span>
Enter configuration commands, one per line.  End with CNTL/Z.
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int ran f0/1-2</span>
SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#switchport mode access </span>
SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#switchport access vlan 10</span>
% Access VLAN does not exist. Creating vlan <span class="token number">10</span>

SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#int ran f0/3-4</span>
SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#switchport mode access </span>
SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#switchport access vlan 30</span>
% Access VLAN does not exist. Creating vlan <span class="token number">30</span>

SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#</span>
SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#int g0/1</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport mode trunk </span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#</span>
%LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/1, changed state to down
%LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/1, changed state to up

SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#sw trunk allowed vlan 10,30</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#sw tr native vlan 1001</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#exit</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h6 id="sw2-configuration"><a href="#sw2-configuration" class="header-anchor">#</a> SW2 Configuration</h6> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#int g0/1</span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport mode trunk </span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk native vlan 1001</span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk allowed vlan 10,30</span>

SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#int f0/1</span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport mode access </span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport access vlan 20</span>
% Access VLAN does not exist. Creating vlan <span class="token number">20</span>

SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#int range f0/2-3</span>
SW2<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#switchport mode access </span>
SW2<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#sw access vlan 10</span>
% Access VLAN does not exist. Creating vlan <span class="token number">10</span>

SW2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int g0/2</span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport mode trunk </span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk allowed vlan 10,20,30</span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk native vlan 1001</span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#exit</span>
SW2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h6 id="r1-configuration"><a href="#r1-configuration" class="header-anchor">#</a> R1 Configuration</h6> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int g0/0</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#no shutdown</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#</span>
%LINK-5-CHANGED: Interface GigabitEthernet0/0, changed state to up
%LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/0, changed state to up

R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#int g0/0.10</span>
R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#encapsulation dot1Q 10</span>
R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#ip address 10.0.0.62 255.255.255.192</span>

R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#int g0/0.20</span>
R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#encapsulation dot1Q 20</span>
R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#ip address 10.0.0.126 255.255.255.192</span>

R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#int g0/0.30</span>
R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#encapsulation dot1Q 30</span>
R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#ip address 10.0.0.190 255.255.255.192</span>
R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#end</span>
R1<span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h6 id="å¦‚ä¸Šé…ç½®å-å‘ç°vlan10ä¸vlan20çš„pcä¹‹é—´å¯ä»¥ç›¸äº’pingé€š-ä½†æ˜¯éƒ½æ— æ³•pingé€švlan30çš„pc-åŸå› ä½•åœ¨"><a href="#å¦‚ä¸Šé…ç½®å-å‘ç°vlan10ä¸vlan20çš„pcä¹‹é—´å¯ä»¥ç›¸äº’pingé€š-ä½†æ˜¯éƒ½æ— æ³•pingé€švlan30çš„pc-åŸå› ä½•åœ¨" class="header-anchor">#</a> å¦‚ä¸Šé…ç½®å, å‘ç°VLAN10ä¸VLAN20çš„PCä¹‹é—´å¯ä»¥ç›¸äº’Pingé€š, ä½†æ˜¯éƒ½æ— æ³•pingé€šVLAN30çš„PC, åŸå› ä½•åœ¨?</h6> <blockquote><p>é—®é¢˜å°±å‡ºåœ¨SW2! è™½ç„¶SW2çš„ g0/1 çš„ allowed VLAN æ”¾è¡Œäº† VLAN 30, ä½†æ˜¯å…¶æœ¬èº«å¹¶æœªåˆ›å»ºè¿‡ VLAN 30, å¯¼è‡´SW2å¯ä»¥æ”¶åˆ°VLAN 30çš„Ethernet Frame, ä½†æ˜¯å¹¶ä¸çŸ¥é“æ€ä¹ˆå¤„ç†, è€Œæ˜¯ç›´æ¥ä¸¢å¼ƒ.</p> <blockquote><p>æ³¨æ„: <strong>Make sure all necessary VLANs exist on each switch!</strong></p></blockquote> <h6 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="header-anchor">#</a> è§£å†³æ–¹æ³•:</h6> <p><strong>åœ¨SW2ä¸Šåˆ›å»º VLAN 30</strong>:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#vlan 30</span>
SW2<span class="token punctuation">(</span>config-vlan<span class="token punctuation">)</span><span class="token comment">#exit</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW2<span class="token comment">#show vlan brief</span>
VLAN Name                             Status    Ports
---- -------------------------------- --------- -------------------------------
<span class="token number">1</span>    default                          active    Fa0/4, Fa0/5, Fa0/6, Fa0/7
                                                Fa0/8, Fa0/9, Fa0/10, Fa0/11
                                                Fa0/12, Fa0/13, Fa0/14, Fa0/15
                                                Fa0/16, Fa0/17, Fa0/18, Fa0/19
                                                Fa0/20, Fa0/21, Fa0/22, Fa0/23
                                                Fa0/24
<span class="token number">10</span>   VLAN0010                         active    Fa0/2, Fa0/3
<span class="token number">20</span>   VLAN0020                         active    Fa0/1
<span class="token number">30</span>   VLAN0030                         active   <span class="token comment"># important! Make sure all necessary VLANs exist on each switch!</span>

SW2<span class="token comment">#sh interfaces trunk </span>
Port        Mode         Encapsulation  Status        Native vlan
Gig0/1      on           <span class="token number">802</span>.1q         trunking      <span class="token number">1001</span>
Gig0/2      on           <span class="token number">802</span>.1q         trunking      <span class="token number">1</span>

Port        Vlans allowed on trunk
Gig0/1      <span class="token number">10,30</span>
Gig0/2      <span class="token number">10,20</span>,30

Port        Vlans allowed and active <span class="token keyword">in</span> management domain
Gig0/1      <span class="token number">10,30</span>  <span class="token comment"># åˆ›å»º VLAN 30 å, å°±å¯ä»¥å‘ç° 30 å­˜åœ¨äº management domain äº†</span>
Gig0/2      <span class="token number">10,20</span>,30

Port        Vlans <span class="token keyword">in</span> spanning tree forwarding state and not pruned
Gig0/1      <span class="token number">10,30</span>
Gig0/2      <span class="token number">10,20</span>,30
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h4 id="ä½¿ç”¨layer-3-switch"><a href="#ä½¿ç”¨layer-3-switch" class="header-anchor">#</a> ä½¿ç”¨Layer 3 Switch</h4> <blockquote><ul><li><strong>ROAS</strong> is efficient in terms of the number of interfaces, just one, but in a busy network all of the traffic going to the router and back to the switch can cause network congestion.</li> <li><strong>So, in large networks, a <code>multilayer switch</code> is the preferred method of inter-VLAN routing.</strong></li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222008224.png" alt="image-20230322200853971" style="zoom:20%;"> <blockquote><h5 id="layer-3-äº¤æ¢æœº"><a href="#layer-3-äº¤æ¢æœº" class="header-anchor">#</a> Layer-3 äº¤æ¢æœº</h5> <ul><li><p>åˆç§°ä¸º <strong>Multi-layer Switch</strong>ï¼Œå¦‚Cisco 3560äº¤æ¢æœºæˆ– 6500ç­‰é«˜ç«¯äº¤æ¢æœºã€‚</p></li> <li><p>A multilayer switch is capable of both <strong>switching</strong> AND <strong>routing</strong>;</p></li> <li><p>IP addresses can be assigned to its interfaces, like a router.</p></li> <li><p>You can create <strong>virtual interfaces</strong> for each VLAN, and assign IP addresses to those interfaces.</p></li> <li><p>You can configure routes on it, just like a router.</p></li> <li><p>It can be used for inter-VLAN routing.</p></li></ul></blockquote> <h5 id="inter-vlan-routing-via-svi"><a href="#inter-vlan-routing-via-svi" class="header-anchor">#</a> Inter-VLAN Routing via SVI</h5> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222026704.png" alt="image-20230322202607365" style="zoom:33%;"> <blockquote><ul><li><strong>SVIs (Switch Virtual Interface)</strong> are the <strong>virtual (VLAN) interfaces</strong> you can assign IP addresses to in a multilayer switch.</li> <li>SVI is a special virtual Interface on the Layer-3 Switch, can be checked via <code>show interfaces brief</code>. Normally they will be at the bottom at the interface list.</li> <li>After configuration, each PC in its VLAN will use the SVI (NOT the router) as their gateway address.</li></ul> <h6 id="requirements-for-an-svi-to-be-up-up"><a href="#requirements-for-an-svi-to-be-up-up" class="header-anchor">#</a> Requirements for an SVI to be UP/UP:</h6> <ol><li>The specific VLAN must exist on the switch; The VLAN must not be shutdown. (You can enter VLAN configuration mode, and disable the VLAN with the <code>SHUTDOWN</code> command.)</li> <li>The switch must have <strong>at least one access port in the VLAN</strong> in an <strong>up/up</strong> state, AND/OR one <strong>trunk port</strong> that allows the VLAN that is in an <strong>up/up</strong> state.</li> <li>The SVI must not be shutdown (SVIs are disabled by default)</li></ol></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222030079.png" alt="image-20230322203027759" style="zoom:33%;"> <h6 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h6> <p>Step 1. å°†ROASè·¯ç”±å™¨çš„è™šæ‹Ÿç«¯å£æ¸…é™¤, æ¢å¤ç‰©ç†æ¥å£çš„é»˜è®¤è®¾ç½®</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222032350.png" alt="image-20230322203229969" style="zoom:33%;"> <blockquote><ul><li>Although we have successfully deleted the subinterfaces, they will remain here with a â€˜deletedâ€™ status unless we reload the router.</li> <li><code>default interface Interface_ID</code>: Reset an interface to its default configuration;</li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222034898.png" alt="image-20230322203418727" style="zoom:33%;"> <hr> <p>Step 2. æ¢å¤å•è‡‚è·¯ç”±çš„å¦ä¸€ç«¯çš„ä¸‰å±‚äº¤æ¢æœºçš„æ¥å£ä¸ºé»˜è®¤é…ç½®; å¼€å¯ <code>ip routing</code>çš„åŠŸèƒ½; å°†å…¶æ¥å£è®¾ç½®ä¸º<code>routed port</code>, å¹¶ç»‘å®šIPåœ°å€</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222035093.png" alt="image-20230322203523756" style="zoom:33%;"> <blockquote><ul><li><code>SW(config)# ip routing</code> enables <strong>Layer 3 IP routing function</strong> on the switch;</li> <li><code>SW(config-if)# no switchport</code> configures the interface on a switch as <strong>routed port</strong>, not Layer-2 port/Switchport any more. After that, you can assign an IP address on the routed port.</li></ul></blockquote> <hr> <p>Step 3. åœ¨ä¸‰å±‚äº¤æ¢æœºä¸Šé…ç½®Default RouteæŒ‡å‘è·¯ç”±å™¨</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222040055.png" alt="image-20230322204019886" style="zoom:35%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222041288.png" alt="image-20230322204133996" style="zoom:37%;"> <hr> <p>Step 4. åœ¨ä¸‰å±‚äº¤æ¢æœºä¸Šåˆ›å»º SVI, é…ç½®IPåœ°å€å¹¶<code>no shutdown</code>;</p> <blockquote><h6 id="åˆ›å»º-svi-on-the-layer-3-switch"><a href="#åˆ›å»º-svi-on-the-layer-3-switch" class="header-anchor">#</a> åˆ›å»º SVI on the Layer-3 switch:</h6> <ol><li>ç¡®ä¿ <code>SW(config)# ip routing</code>å·²ç»æ‰§è¡Œ, å¼€å¯äº† Layer-3 ip routing åŠŸèƒ½</li> <li><code>SW(config)# interface vlan VLAN_ID</code>: å³å¯åˆ›å»º SVI; ç„¶åå°±å¯ä»¥æŒ‡å®š IP åœ°å€äº†;</li> <li>é»˜è®¤SVIæ˜¯ shutdwon çŠ¶æ€, æŒ‡å®šIPåœ°å€å, éœ€è¦æ‰§è¡Œ <code>SW(config-if)#no shutdown</code></li></ol></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222042214.png" alt="image-20230322204246840" style="zoom:28%;"> <h3 id="vtp"><a href="#vtp" class="header-anchor">#</a> VTP</h3> <blockquote><ul><li><p>stands for (VLAN Trunking Protocol), <strong>Cisco proprietary protocol</strong> that allows you to configure VLANs on a central VTP server switch, and other switches (VTP clients) will synchronize their VLAN database to the server.</p></li> <li><p>The basic goals of VLAN Trunking Protocol (VTP) are to <strong>manage all configured VLANs across a switched internetwork and to maintain consistency</strong> throughout that network. VTP allows you to add, delete, and rename VLANsâ€”information that is then propagated to all other switches in the VTP domain.</p></li> <li><p>There are three VTP versions: 1, 2, and 3.</p> <blockquote><p>VTP V2 is not much different than VTP V1. The major difference is that VTP V2 introduces support for Token Ring VLANs. If you use Token Ring VLANs, you must enable VTP V2. Otherwise, there is no reason to use VTP V2. <em>VTP V3 is beyond the scope of CCNA.</em></p></blockquote></li> <li><p>Note that VTP only syncs the VLAN database, VTP does not automatically assign interfaces to VLANs. You still have to configure the interfaces on each switch separately, for example <code>switchport access vlan 10</code>, etc.</p></li> <li><p>It is rarely used, and it is recommended that you do not use it.</p></li></ul></blockquote> <blockquote><p>Hereâ€™s a list of some of the <strong>cool features</strong> VTP has to offer:</p> <ul><li>Consistent VLAN configuration across all switches in the network;</li> <li>VLAN trunking over mixed networks, such as Ethernet to ATM LANE or even FDDI;</li> <li>Accurate tracking and monitoring of VLANs;</li> <li>Dynamic reporting of added VLANs to all switches in the VTP domain;</li> <li>Adding VLANs using Plug and Play(ä»¥å³æ’å³ç”¨çš„æ–¹å¼);</li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621195238427.png" alt="image-20220621195238427" style="zoom:40%;"> <blockquote><p>VTP(VLAN Trunking Protocol): (æ€ç§‘ä¸“æœ‰åè®®), åœ¨å¤šä¸ªäº¤æ¢æœºä¹‹é—´åŒæ­¥VLANé…ç½®ä¿¡æ¯çš„åè®®,</p> <ul><li>é€šè¿‡ä¸€ä¸ªå…±æœ‰çš„ç®¡ç†åŸŸ, ç»´æŒæ‰€æœ‰äº¤æ¢æœºçš„VLANé…ç½®(å€ŸåŠ©ä¿®è®¢å· Configuration Revision number)çš„ä¸€è‡´æ€§;</li> <li>äº¤æ¢æœºé—´äº’ç›¸çš„æ¥å£è¦è®¾ç½®ä¸ºTrunk mode, å³VTPåªèƒ½åœ¨<em>Trunk Link</em>ä¼ æ’­ VTP advertisement;</li> <li>æ”¯æŒæ··åˆçš„ä»‹è´¨ä¸»å¹²è¿æ¥(Fast Ethernet, FDDI, ATM)</li></ul></blockquote> <h4 id="äº¤æ¢æœºçš„ä¸‰ç§vtpæ¨¡å¼"><a href="#äº¤æ¢æœºçš„ä¸‰ç§vtpæ¨¡å¼" class="header-anchor">#</a> äº¤æ¢æœºçš„ä¸‰ç§VTPæ¨¡å¼</h4> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621195404942.png" alt="image-20220621195404942" style="zoom:40%;"> <blockquote><ul><li><p>==Server== mode:</p> <ul><li><strong>default</strong> mode for all Catalyst switches;</li> <li>at least one server exists in your VTP domain to <strong>propagate</strong> VLAN information throughout that domain;</li> <li><strong>can add/modify/delete</strong> VLANs;</li> <li>VLAN database <strong>stored in NV-RAM</strong>(Non-volatile RAM) on the switch.</li> <li>Will increase the <strong>revision number</strong> every time a VLAN is added/modified/deleted.</li> <li>Will advertise the latest version of the VLAN database on trunk interfaces, and the VTP clients will synchronize their VLAN database to it.</li> <li>VTP servers also function as <em>VTP clients</em>. Therefore, a VTP server will synchronize to another VTP server with a higher revision number.</li></ul></li> <li><p>==Client== mode:</p> <ul><li><p>receive and forward VTP advertisements;</p> <ul><li><p>Will synchronize their VLAN database to the server with the highest revision number in their VTP domain;</p></li> <li><p>Will advertise their VLAN database, and forward VTP advertisements to other clients over their trunk ports.</p></li></ul></li> <li><p><strong>canâ€™t add/modify/delete</strong> VLANs.</p></li> <li><p>Do not store the VLAN database in NVRAM. (in VTPv3, they do)</p></li></ul></li> <li><p>==Transparent== mode:</p> <ul><li>donâ€™t participate in the VTP domain or sync its VLAN database, but theyâ€™ll <strong>still forward VTP advertisements that are in the same domain as it</strong> through trunk ports.</li> <li><strong>can create/modify/delete</strong> VLANs because they keep their own database â€” one they keep secret from the other switches.</li> <li>Despite being kept in NVRAM, the VLAN database in transparent mode is actually only locally significant.</li> <li>The whole purpose of transparent mode is to <strong>allow remote switches to receive the VLAN database from a VTP server-configured switch through a switch that is not participating in the same VLAN assignments</strong>.</li></ul></li></ul></blockquote> <blockquote><p>Note:</p> <ul><li><strong>VTP version_1 &amp; version_2 only learns about normal-range VLANs, with VLAN IDs 1 to 1005</strong>; <em>VLANs with IDs greater than 1005 are called extended-range VLANs and theyâ€™re not stored in the VLAN database</em>.</li> <li>Changing the <strong>VTP domain</strong> to an <strong>unused domain</strong> will reset the revision number to 0.</li> <li>Changing the <strong>VTP mode to transparent</strong> will also reset the revision number to 0.</li> <li><strong>Remember, Switch in transparent mode within a different domain will NOT forward the VTP advertisements to other switches.</strong></li></ul></blockquote> <h4 id="vtpçš„è¿è¡Œæ¨¡å¼"><a href="#vtpçš„è¿è¡Œæ¨¡å¼" class="header-anchor">#</a> VTPçš„è¿è¡Œæ¨¡å¼</h4> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621195839843.png" alt="image-20220621195839843" style="zoom:40%;"> <blockquote><p>å¤šå°äº¤æ¢æœºé…ç½®VTPï¼Œå¿…é¡»æ»¡è¶³å¦‚ä¸‹ä¸‰é¡¹è¦æ±‚:</p> <ul><li>äº¤æ¢æœºçš„VTP domain nameè¦ç›¸åŒ;</li> <li>å…¶ä¸­ä¸€å°äº¤æ¢æœºè¦é…ç½®ä¸ºVTP Server;(äº‹å®ä¸Šï¼Œæ€ç§‘å»ºè®®è®©æ‰€æœ‰äº¤æ¢æœºéƒ½å¤„äºVTPæœåŠ¡å™¨æ¨¡å¼)</li> <li>VTP passwordè¦ä¸€è‡´(å¦‚æœä½¿ç”¨äº†çš„è¯)ã€‚</li></ul></blockquote> <h4 id="vtpçš„åŸºæœ¬é…ç½®"><a href="#vtpçš„åŸºæœ¬é…ç½®" class="header-anchor">#</a> VTPçš„åŸºæœ¬é…ç½®</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># vtp version ?  # 1, 2, 3</span>
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># vtp mode ?</span>
  client       Set the device to client mode.
  off          Set the device to off mode.
  server       Set the device to server mode.
  transparent  Set the device to transparent mode.
  
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># vtp domain VTPåŸŸå    # è®¾ç½®VTPåŸŸå</span>
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># vtp password VTPå¯†ç   # å¯ä¸é…ç½®VTPå¯†ç , ä½†æ˜¯é…ç½®äº†çš„è¯, A switch will reject any VTP advertisement if the password doesnâ€™t match.</span>


SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># vtp pruning</span>


SW1<span class="token comment"># show vtp password</span>
SW1<span class="token comment"># show vtp status   # æŸ¥çœ‹ VTP çš„é…ç½®</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>==Tips==:</p> <ul><li>æ‰€æœ‰æ€ç§‘äº¤æ¢æœºé»˜è®¤çš„VTPæ¨¡å¼æ˜¯ Server;</li></ul> <ol start="2"><li>VTPçš„åŸŸåå’Œå¯†ç å‡å¯¹å¤§å°å†™æ•æ„Ÿ;</li> <li>A switch will reject any VTP advertisement if the password doesnâ€™t match.</li></ol> <ul><li>VTP pruning é»˜è®¤æ˜¯å…³é—­çš„;</li> <li><strong>If a switch with no VTP domain (domain NULL) receives a VTP advertisement with a VTP domain name, it will automatically join that VTP domain.</strong></li> <li>If a switch receives a VTP advertisement in the same VTP domain with a higher revision number, it will update it's VLAN database to match.</li></ul> <blockquote><h6 id="one-danger-of-vtp"><a href="#one-danger-of-vtp" class="header-anchor">#</a> One danger of VTP:</h6> <ul><li>If you connect an <em>old switch with a higher revision number</em> to your network (and <em>the VTP domain name matches</em>), all switches in the domain will sync their VLAN database to that switch, which could cause all of the hosts on your network to instantly lose connectivity.</li></ul> <p><strong>This is one reason why VTP is usually not used in modern networks.</strong></p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303232334911.png" alt="image-20230323233433569" style="zoom:30%;"> <ul><li><p>if youâ€™re going to plug an old switch with a high revision number into a network, that uses VTP, make sure to reset the revision number with one of these methods first:</p> <ul><li><p>Changing the <strong>VTP domain</strong> to an unused domain will reset the revision number to 0.</p></li> <li><p>Changing the <strong>VTP mode to transparent</strong> will also reset the revision number to 0.</p></li></ul> <p>After that, change it back to the same VTP domain OR VTP mode into Client</p></li></ul></blockquote></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R2<span class="token comment">#show vtp status</span>
VTP Version capable             <span class="token builtin class-name">:</span> <span class="token number">1</span> to <span class="token number">3</span>
VTP version running             <span class="token builtin class-name">:</span> <span class="token number">1</span>
VTP Domain Name                 <span class="token builtin class-name">:</span> CCNA-1
VTP Pruning Mode                <span class="token builtin class-name">:</span> Disabled
VTP Traps Generation            <span class="token builtin class-name">:</span> Disabled
Device ID                       <span class="token builtin class-name">:</span> aabb.cc80.2000
Configuration last modified by <span class="token number">0.0</span>.0.0 at <span class="token number">6</span>-21-22 <span class="token number">21</span>:17:01

Feature VLAN:
--------------
VTP Operating Mode                <span class="token builtin class-name">:</span> Server
Maximum VLANs supported locally   <span class="token builtin class-name">:</span> <span class="token number">1005</span>  <span class="token comment"># VTP version 1 &amp; 2 don't support Extended VLAN range(1006~4094)</span>
Number of existing VLANs          <span class="token builtin class-name">:</span> <span class="token number">15</span>
Configuration Revision            <span class="token builtin class-name">:</span> <span class="token number">5</span>     <span class="token comment"># æ­¤ä¸º ä¿®è®¢å·</span>
MD5 digest                        <span class="token builtin class-name">:</span> 0x1F 0x23 0x1C 0x58 0xCB 0xA7 0x43 0x03 
                                    0x6F 0x6E 0x10 0x54 0x1E 0x91 0xAC 0xEC 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="vtp-pruning"><a href="#vtp-pruning" class="header-anchor">#</a> VTP pruning</h4> <blockquote><ul><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ VLANçš„æ•°æ®æµ éƒ½å¯é€šè¿‡Trunk Linkè¿›è¡Œä¼ è¾“;</li> <li>VTP Pruningå¯ä»¥è‡ªåŠ¨ä¿®å‰ªå¼€ä¸å‚ä¸VLANé…ç½®åŒæ­¥çš„äº¤æ¢æœºé“¾è·¯; VTP gives you a way to preserve bandwidth by configuring it to reduce the amount of broadcasts, multicasts, and unicast packets. This is called <strong>pruning</strong>. Switches enabled for VTP pruning send broadcasts only to <em>trunk links</em> that actually must have the information.</li> <li>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰äº¤æ¢æœºéƒ½ç¦ç”¨äº†VTPä¿®å‰ª; åœ¨VTPæœåŠ¡å™¨ä¸Šå¯ç”¨ä¿®å‰ªåï¼Œå°†åœ¨æ•´ä¸ªVTPåŸŸä¸­å¯ç”¨å®ƒã€‚</li> <li>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¿®å‰ªå°†ç”¨äºVLAN 2 ~ 1001, ä½†å¯¹VLAN 1ä¸ä¼šä¿®å‰ªï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªé»˜è®¤çš„ Native VLAN.</li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621232836287.png" alt="image-20220621232836287" style="zoom:50%;"> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW1<span class="token comment">#config t</span>
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int f0/1</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk ?</span>
    allowed Set allowed VLAN characteristics when interface is
    <span class="token keyword">in</span> trunking mode
    native Set trunking native characteristics when interface
    is <span class="token keyword">in</span> trunking mode
    pruning Set pruning VLAN characteristics when interface is
    <span class="token keyword">in</span> trunking mode
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk pruning ?</span>
    vlan Set VLANs enabled <span class="token keyword">for</span> pruning when interface is <span class="token keyword">in</span> trunking mode
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk pruning vlan 3-4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io/edit/main/docs/40.ç½‘ç»œè¿ç»´/05.CCNA/10.CCNAçŸ¥è¯†ç¬”è®°/10.Switching_VLAN.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘æ­¤é¡µ</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">last Updated:</span> <span class="time">2023/06/08, 22:42:49</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/9876fd/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Cisco IOS CLI</div></a> <a href="/pages/778234/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Switching_STP</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/9876fd/" class="prev">Cisco IOS CLI</a></span> <span class="next"><a href="/pages/778234/">Switching_STP</a>â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/32db2d/"><div>
            Layer 3 Forwarding
            <!----></div></a> <span class="date">06-07</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/6b8f16/"><div>
            Layer 2 Forwarding
            <!----></div></a> <span class="date">06-06</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/fe5ceb/"><div>
            Virtual Routing and Forwarding
            <!----></div></a> <span class="date">05-16</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/Jonas-Wolfxin" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/Jonas-Wolfxin" title="Gitee" target="_blank" class="iconfont icon-gitee"></a><a href="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202206100005451.jpg" title="Wechat: @Jonas_Wolfxin" target="_blank" class="iconfont icon-weixin"></a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=1914303043&amp;site=qq&amp;menu=yes" title="QQ: 1914303043" target="_blank" class="iconfont icon-QQ"></a><a href="mailto:wolfxin@outlook.com" title="è”ç³»æˆ‘" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2021-2023
    <span>Jonas Wolfxin's Blog</span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div><div></div><div></div><!----><!----><APlayer audio="" fixed="true" mini="true" theme="#b7daff" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div></div></div></div>
    <script src="/assets/js/app.d858ddbb.js" defer></script><script src="/assets/js/2.309e711a.js" defer></script><script src="/assets/js/133.c996494c.js" defer></script><script src="/assets/js/16.acd3428d.js" defer></script><script src="/assets/js/8.5b4b6c67.js" defer></script><script src="/assets/js/10.58f97cc7.js" defer></script><script src="/assets/js/17.0b7a5267.js" defer></script>
  </body>
</html>
