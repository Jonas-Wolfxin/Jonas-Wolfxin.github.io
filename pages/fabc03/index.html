<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Switching_VLAN | Jonas Wolfxin Blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <noscript><meta http-equiv="refresh" content="0; url=https://www.youngkbt.cn/noscript/"><style>.theme-vdoing-content { display:none }</noscript>
    <script>var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?267c5680c2ffb468ca29c45ffe6801da"; 
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
          })();
          </script>
    <meta name="description" content="Jonas Wolfxin个人博客, VuePress搭建, 使用了 Vdoing 主题, 学习Java, Web, 框架, 微服务, 工具, 前端等相关知识, 记录生活和技术路程, 同时分享编程技巧。">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="Jonas Wolfxin个人博客, VuePress搭建, 学习Java、Web、框架、微服务、工具、前端等相关知识, 记录生活和技术路程。">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.7d3fc896.css" as="style"><link rel="preload" href="/assets/js/app.d858ddbb.js" as="script"><link rel="preload" href="/assets/js/2.309e711a.js" as="script"><link rel="preload" href="/assets/js/133.c996494c.js" as="script"><link rel="preload" href="/assets/js/16.acd3428d.js" as="script"><link rel="preload" href="/assets/js/8.5b4b6c67.js" as="script"><link rel="preload" href="/assets/js/10.58f97cc7.js" as="script"><link rel="preload" href="/assets/js/17.0b7a5267.js" as="script"><link rel="prefetch" href="/assets/js/100.a245150c.js"><link rel="prefetch" href="/assets/js/101.dc21b366.js"><link rel="prefetch" href="/assets/js/102.d5a6dfd2.js"><link rel="prefetch" href="/assets/js/103.7675e438.js"><link rel="prefetch" href="/assets/js/104.08bff44e.js"><link rel="prefetch" href="/assets/js/105.8bf552ad.js"><link rel="prefetch" href="/assets/js/106.b3388dcc.js"><link rel="prefetch" href="/assets/js/107.708d16a8.js"><link rel="prefetch" href="/assets/js/108.8d67c3a1.js"><link rel="prefetch" href="/assets/js/109.adb072ef.js"><link rel="prefetch" href="/assets/js/11.1cff9f55.js"><link rel="prefetch" href="/assets/js/110.6a33e945.js"><link rel="prefetch" href="/assets/js/111.5b6daef7.js"><link rel="prefetch" href="/assets/js/112.30fa856b.js"><link rel="prefetch" href="/assets/js/113.2bea19a6.js"><link rel="prefetch" href="/assets/js/114.78693b98.js"><link rel="prefetch" href="/assets/js/115.24b2f36f.js"><link rel="prefetch" href="/assets/js/116.121c60d7.js"><link rel="prefetch" href="/assets/js/117.c2a343f1.js"><link rel="prefetch" href="/assets/js/118.4f472067.js"><link rel="prefetch" href="/assets/js/119.24255046.js"><link rel="prefetch" href="/assets/js/12.bca3c221.js"><link rel="prefetch" href="/assets/js/120.c049d4ee.js"><link rel="prefetch" href="/assets/js/121.27c7097d.js"><link rel="prefetch" href="/assets/js/122.89ae0c7e.js"><link rel="prefetch" href="/assets/js/123.92ff168d.js"><link rel="prefetch" href="/assets/js/124.42567e10.js"><link rel="prefetch" href="/assets/js/125.3bd92459.js"><link rel="prefetch" href="/assets/js/126.ce3b5ff1.js"><link rel="prefetch" href="/assets/js/127.62073e16.js"><link rel="prefetch" href="/assets/js/128.1e61e62d.js"><link rel="prefetch" href="/assets/js/129.1abfd9a0.js"><link rel="prefetch" href="/assets/js/13.fd509ce7.js"><link rel="prefetch" href="/assets/js/130.fd10656f.js"><link rel="prefetch" href="/assets/js/131.739a70c7.js"><link rel="prefetch" href="/assets/js/132.aead2e49.js"><link rel="prefetch" href="/assets/js/134.3f032f05.js"><link rel="prefetch" href="/assets/js/135.c35c5612.js"><link rel="prefetch" href="/assets/js/136.b1a52d43.js"><link rel="prefetch" href="/assets/js/137.f6c998f0.js"><link rel="prefetch" href="/assets/js/138.5165a511.js"><link rel="prefetch" href="/assets/js/139.84e0898b.js"><link rel="prefetch" href="/assets/js/14.9a0c9450.js"><link rel="prefetch" href="/assets/js/140.f85c3c58.js"><link rel="prefetch" href="/assets/js/141.1b18b352.js"><link rel="prefetch" href="/assets/js/142.61b694c2.js"><link rel="prefetch" href="/assets/js/143.ca56fc45.js"><link rel="prefetch" href="/assets/js/144.634fc96a.js"><link rel="prefetch" href="/assets/js/145.7db28ded.js"><link rel="prefetch" href="/assets/js/146.0e801c74.js"><link rel="prefetch" href="/assets/js/147.26faa263.js"><link rel="prefetch" href="/assets/js/148.927832d5.js"><link rel="prefetch" href="/assets/js/149.8755eb42.js"><link rel="prefetch" href="/assets/js/15.d3755cc5.js"><link rel="prefetch" href="/assets/js/150.906609e5.js"><link rel="prefetch" href="/assets/js/151.7a52439b.js"><link rel="prefetch" href="/assets/js/152.c822b1fb.js"><link rel="prefetch" href="/assets/js/153.593575cc.js"><link rel="prefetch" href="/assets/js/154.2a16d8e7.js"><link rel="prefetch" href="/assets/js/155.6a18c733.js"><link rel="prefetch" href="/assets/js/156.bb65d909.js"><link rel="prefetch" href="/assets/js/157.862f6419.js"><link rel="prefetch" href="/assets/js/158.db76ed26.js"><link rel="prefetch" href="/assets/js/159.0f0b1ee8.js"><link rel="prefetch" href="/assets/js/160.8f421d08.js"><link rel="prefetch" href="/assets/js/161.4a521888.js"><link rel="prefetch" href="/assets/js/162.601dbfca.js"><link rel="prefetch" href="/assets/js/163.d76b166d.js"><link rel="prefetch" href="/assets/js/164.99b00d17.js"><link rel="prefetch" href="/assets/js/165.7809f82c.js"><link rel="prefetch" href="/assets/js/166.b29e508c.js"><link rel="prefetch" href="/assets/js/167.71af6bb1.js"><link rel="prefetch" href="/assets/js/168.aad10cfc.js"><link rel="prefetch" href="/assets/js/169.d807fd76.js"><link rel="prefetch" href="/assets/js/170.8cd1462a.js"><link rel="prefetch" href="/assets/js/171.ecbf63cf.js"><link rel="prefetch" href="/assets/js/172.e75cd345.js"><link rel="prefetch" href="/assets/js/173.1ab612d0.js"><link rel="prefetch" href="/assets/js/174.2366c5d2.js"><link rel="prefetch" href="/assets/js/175.50c5731b.js"><link rel="prefetch" href="/assets/js/176.ac8ad112.js"><link rel="prefetch" href="/assets/js/177.1abcf5d4.js"><link rel="prefetch" href="/assets/js/178.b937dacc.js"><link rel="prefetch" href="/assets/js/179.b6fa0b6d.js"><link rel="prefetch" href="/assets/js/18.64b7e666.js"><link rel="prefetch" href="/assets/js/180.e4a8bc36.js"><link rel="prefetch" href="/assets/js/181.b916da57.js"><link rel="prefetch" href="/assets/js/182.27a2bdb4.js"><link rel="prefetch" href="/assets/js/183.dcb4d635.js"><link rel="prefetch" href="/assets/js/184.820c8f5f.js"><link rel="prefetch" href="/assets/js/185.6654f558.js"><link rel="prefetch" href="/assets/js/186.2749179c.js"><link rel="prefetch" href="/assets/js/187.a301fd95.js"><link rel="prefetch" href="/assets/js/188.3a9e3226.js"><link rel="prefetch" href="/assets/js/189.5f2b0e83.js"><link rel="prefetch" href="/assets/js/19.7a102d25.js"><link rel="prefetch" href="/assets/js/190.76dc6e42.js"><link rel="prefetch" href="/assets/js/191.b6c01ef6.js"><link rel="prefetch" href="/assets/js/192.bd87e976.js"><link rel="prefetch" href="/assets/js/193.e3b20021.js"><link rel="prefetch" href="/assets/js/194.d83d205c.js"><link rel="prefetch" href="/assets/js/195.e53e330d.js"><link rel="prefetch" href="/assets/js/196.1fd35397.js"><link rel="prefetch" href="/assets/js/197.cb0858f8.js"><link rel="prefetch" href="/assets/js/198.651004c0.js"><link rel="prefetch" href="/assets/js/199.4a4a16ae.js"><link rel="prefetch" href="/assets/js/20.2e6fe8d4.js"><link rel="prefetch" href="/assets/js/200.0347a232.js"><link rel="prefetch" href="/assets/js/201.77c9f572.js"><link rel="prefetch" href="/assets/js/202.6f66fc82.js"><link rel="prefetch" href="/assets/js/203.c12f2fd1.js"><link rel="prefetch" href="/assets/js/204.0b74eb4e.js"><link rel="prefetch" href="/assets/js/205.82129b16.js"><link rel="prefetch" href="/assets/js/206.0240cea0.js"><link rel="prefetch" href="/assets/js/207.d2d2dd99.js"><link rel="prefetch" href="/assets/js/208.f1073a08.js"><link rel="prefetch" href="/assets/js/209.3b1e4cbe.js"><link rel="prefetch" href="/assets/js/21.179bedf0.js"><link rel="prefetch" href="/assets/js/210.b8b67413.js"><link rel="prefetch" href="/assets/js/211.455c8e40.js"><link rel="prefetch" href="/assets/js/212.8735e669.js"><link rel="prefetch" href="/assets/js/213.f77fefc5.js"><link rel="prefetch" href="/assets/js/214.97d827be.js"><link rel="prefetch" href="/assets/js/215.bc08fe35.js"><link rel="prefetch" href="/assets/js/216.fa811698.js"><link rel="prefetch" href="/assets/js/217.b965b7c6.js"><link rel="prefetch" href="/assets/js/218.6a91db8b.js"><link rel="prefetch" href="/assets/js/219.fb3d8166.js"><link rel="prefetch" href="/assets/js/22.8268ce6e.js"><link rel="prefetch" href="/assets/js/220.1577cda2.js"><link rel="prefetch" href="/assets/js/221.ceea7cea.js"><link rel="prefetch" href="/assets/js/222.3985b121.js"><link rel="prefetch" href="/assets/js/223.40f0edd0.js"><link rel="prefetch" href="/assets/js/224.bcdfffa8.js"><link rel="prefetch" href="/assets/js/225.13252b88.js"><link rel="prefetch" href="/assets/js/226.2afd6de5.js"><link rel="prefetch" href="/assets/js/227.39e5b8f1.js"><link rel="prefetch" href="/assets/js/228.f24cb5b5.js"><link rel="prefetch" href="/assets/js/229.582f76a9.js"><link rel="prefetch" href="/assets/js/23.3b76f2ef.js"><link rel="prefetch" href="/assets/js/230.50a93474.js"><link rel="prefetch" href="/assets/js/231.063e02af.js"><link rel="prefetch" href="/assets/js/232.08153e5d.js"><link rel="prefetch" href="/assets/js/233.e8a2f480.js"><link rel="prefetch" href="/assets/js/234.4e784ee0.js"><link rel="prefetch" href="/assets/js/235.fe1262b2.js"><link rel="prefetch" href="/assets/js/236.5b6a52cf.js"><link rel="prefetch" href="/assets/js/237.36fae37d.js"><link rel="prefetch" href="/assets/js/238.7369ac7a.js"><link rel="prefetch" href="/assets/js/239.7fff287f.js"><link rel="prefetch" href="/assets/js/24.7c6b119c.js"><link rel="prefetch" href="/assets/js/240.96b67d8a.js"><link rel="prefetch" href="/assets/js/241.6cca43be.js"><link rel="prefetch" href="/assets/js/242.063840f3.js"><link rel="prefetch" href="/assets/js/243.e25e2acc.js"><link rel="prefetch" href="/assets/js/244.6058b76a.js"><link rel="prefetch" href="/assets/js/245.cab0cb5f.js"><link rel="prefetch" href="/assets/js/246.38dba8a1.js"><link rel="prefetch" href="/assets/js/247.58a45597.js"><link rel="prefetch" href="/assets/js/248.5cf1ad4c.js"><link rel="prefetch" href="/assets/js/249.691356bb.js"><link rel="prefetch" href="/assets/js/25.02fab98f.js"><link rel="prefetch" href="/assets/js/250.e2c83a35.js"><link rel="prefetch" href="/assets/js/251.80aa06df.js"><link rel="prefetch" href="/assets/js/252.a3e269d1.js"><link rel="prefetch" href="/assets/js/253.d11f6725.js"><link rel="prefetch" href="/assets/js/26.76ffb425.js"><link rel="prefetch" href="/assets/js/27.ce24313c.js"><link rel="prefetch" href="/assets/js/28.d8dbc96b.js"><link rel="prefetch" href="/assets/js/29.2b3bed04.js"><link rel="prefetch" href="/assets/js/3.d6952836.js"><link rel="prefetch" href="/assets/js/30.26988c7b.js"><link rel="prefetch" href="/assets/js/31.cc5781e4.js"><link rel="prefetch" href="/assets/js/32.80d8b83b.js"><link rel="prefetch" href="/assets/js/33.d97c7068.js"><link rel="prefetch" href="/assets/js/34.962f9100.js"><link rel="prefetch" href="/assets/js/35.23d8a044.js"><link rel="prefetch" href="/assets/js/36.6d349d82.js"><link rel="prefetch" href="/assets/js/37.b08f29c8.js"><link rel="prefetch" href="/assets/js/38.8b2bd27d.js"><link rel="prefetch" href="/assets/js/39.45a0b016.js"><link rel="prefetch" href="/assets/js/4.8b22777d.js"><link rel="prefetch" href="/assets/js/40.e6f6cb43.js"><link rel="prefetch" href="/assets/js/41.c756e119.js"><link rel="prefetch" href="/assets/js/42.bbc17b0f.js"><link rel="prefetch" href="/assets/js/43.8e0ce4ca.js"><link rel="prefetch" href="/assets/js/44.b91517af.js"><link rel="prefetch" href="/assets/js/45.416dfe4d.js"><link rel="prefetch" href="/assets/js/46.c00eeb87.js"><link rel="prefetch" href="/assets/js/47.29d200b3.js"><link rel="prefetch" href="/assets/js/48.7f066ab6.js"><link rel="prefetch" href="/assets/js/49.0e010fee.js"><link rel="prefetch" href="/assets/js/5.e6781b57.js"><link rel="prefetch" href="/assets/js/50.1bb477d0.js"><link rel="prefetch" href="/assets/js/51.66468406.js"><link rel="prefetch" href="/assets/js/52.5cf7fbd0.js"><link rel="prefetch" href="/assets/js/53.d6f04354.js"><link rel="prefetch" href="/assets/js/54.59ca865c.js"><link rel="prefetch" href="/assets/js/55.fb0ad69c.js"><link rel="prefetch" href="/assets/js/56.c47a2d12.js"><link rel="prefetch" href="/assets/js/57.f5d65bb3.js"><link rel="prefetch" href="/assets/js/58.c5761ef2.js"><link rel="prefetch" href="/assets/js/59.9fe56073.js"><link rel="prefetch" href="/assets/js/6.9b07e200.js"><link rel="prefetch" href="/assets/js/60.ee1a5c93.js"><link rel="prefetch" href="/assets/js/61.ed5a91fd.js"><link rel="prefetch" href="/assets/js/62.4c69d23d.js"><link rel="prefetch" href="/assets/js/63.a396c29b.js"><link rel="prefetch" href="/assets/js/64.6f39dd9c.js"><link rel="prefetch" href="/assets/js/65.4cb24e13.js"><link rel="prefetch" href="/assets/js/66.aad4aa20.js"><link rel="prefetch" href="/assets/js/67.36e86f95.js"><link rel="prefetch" href="/assets/js/68.cbcfb2e0.js"><link rel="prefetch" href="/assets/js/69.8f5b0c08.js"><link rel="prefetch" href="/assets/js/7.4d64b8e6.js"><link rel="prefetch" href="/assets/js/70.1e7d144f.js"><link rel="prefetch" href="/assets/js/71.77fb0b43.js"><link rel="prefetch" href="/assets/js/72.bf3bb5b9.js"><link rel="prefetch" href="/assets/js/73.e059a41d.js"><link rel="prefetch" href="/assets/js/74.cae09eb3.js"><link rel="prefetch" href="/assets/js/75.f89a6d2e.js"><link rel="prefetch" href="/assets/js/76.cfb3df08.js"><link rel="prefetch" href="/assets/js/77.f4fa62e6.js"><link rel="prefetch" href="/assets/js/78.464e83f6.js"><link rel="prefetch" href="/assets/js/79.71895252.js"><link rel="prefetch" href="/assets/js/80.58d501fe.js"><link rel="prefetch" href="/assets/js/81.948adca1.js"><link rel="prefetch" href="/assets/js/82.bfd7ff16.js"><link rel="prefetch" href="/assets/js/83.3920a558.js"><link rel="prefetch" href="/assets/js/84.d5b9372a.js"><link rel="prefetch" href="/assets/js/85.3be0afac.js"><link rel="prefetch" href="/assets/js/86.29f7272d.js"><link rel="prefetch" href="/assets/js/87.93a0bc8e.js"><link rel="prefetch" href="/assets/js/88.5be81cc2.js"><link rel="prefetch" href="/assets/js/89.bc9cad5d.js"><link rel="prefetch" href="/assets/js/9.dc7a3982.js"><link rel="prefetch" href="/assets/js/90.5ba7972c.js"><link rel="prefetch" href="/assets/js/91.6ca92166.js"><link rel="prefetch" href="/assets/js/92.cb997f9f.js"><link rel="prefetch" href="/assets/js/93.941f52c6.js"><link rel="prefetch" href="/assets/js/94.c34116e0.js"><link rel="prefetch" href="/assets/js/95.0aa6895c.js"><link rel="prefetch" href="/assets/js/96.fd230ec0.js"><link rel="prefetch" href="/assets/js/97.375c63c2.js"><link rel="prefetch" href="/assets/js/98.5f4889ea.js"><link rel="prefetch" href="/assets/js/99.476bd54f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7d3fc896.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/index/logo.png" alt="Jonas Wolfxin Blog" class="logo"> <span class="site-name can-hide">Jonas Wolfxin Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home🏠</a></div><div class="nav-item"><a href="/navigation/" class="nav-link">Navigation🧭</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><a href="/front/" class="link-title">Front End</a> <span class="title" style="display:none;">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Basics</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>Frame</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/vue2/" class="nav-link">Vue2</a></li><li class="dropdown-subitem"><a href="/vue3/" class="nav-link">Vue3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Database" class="dropdown-title"><a href="/database/" class="link-title">Database</a> <span class="title" style="display:none;">Database</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/postgresql/" class="nav-link">PostgreSQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/es/" class="nav-link">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/mongodb/" class="nav-link">MongoDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/pythonstrdy/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python_basics/" class="nav-link">Python Basics</a></li><li class="dropdown-item"><!----> <a href="/python_advanced/" class="nav-link">Python Advanced</a></li><li class="dropdown-item"><!----> <a href="/python_projects/" class="nav-link">Python Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络运维" class="dropdown-title"><a href="/tool/" class="link-title">网络运维</a> <span class="title" style="display:none;">网络运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>CCNA</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/91ab17/" class="nav-link">CCNA知识</a></li><li class="dropdown-subitem"><a href="/pages/55766c/" class="nav-link">CCNA题库</a></li><li class="dropdown-subitem"><a href="/pages/f61749/" class="nav-link">Cisco NetAca</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/4f0673/" class="nav-link">Ansible</a></li><li class="dropdown-item"><h4>版本管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/docker/" class="nav-link">Docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><a href="/archives/" class="link-title">About</a> <span class="title" style="display:none;">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>This Blog</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">Archives</a></li></ul></li><li class="dropdown-item"><h4>About Me</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whell/web/" class="nav-link">Collection</a></li><li class="dropdown-subitem"><a href="/about/website/introduce/" class="nav-link">Introduction</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="星河万里" class="dropdown-title"><a href="/inGermany/" class="link-title">星河万里</a> <span class="title" style="display:none;">星河万里</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>德国驾照B级</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8a9dd0/" class="nav-link">理论准备</a></li><li class="dropdown-subitem"><a href="/pages/b79ef5/" class="nav-link">实践准备</a></li></ul></li><li class="dropdown-item"><h4>星河万里</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/bcf060/" class="nav-link">Vim操作</a></li><li class="dropdown-subitem"><a href="/pages/c11fcf/" class="nav-link">Gitemoji</a></li><li class="dropdown-subitem"><a href="/pages/055f2e/" class="nav-link">无妄经</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/message-board/" class="nav-link">MessageBoard📋</a></div> <a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202206092309359.png"> <div class="blogger-info"><h3>Jonas 林风</h3> <span>吾志所向，万夫不当；披荆斩棘，奋而继往。</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home🏠</a></div><div class="nav-item"><a href="/navigation/" class="nav-link">Navigation🧭</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><a href="/front/" class="link-title">Front End</a> <span class="title" style="display:none;">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Basics</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>Frame</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/vue2/" class="nav-link">Vue2</a></li><li class="dropdown-subitem"><a href="/vue3/" class="nav-link">Vue3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Database" class="dropdown-title"><a href="/database/" class="link-title">Database</a> <span class="title" style="display:none;">Database</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/postgresql/" class="nav-link">PostgreSQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/es/" class="nav-link">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/mongodb/" class="nav-link">MongoDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/pythonstrdy/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python_basics/" class="nav-link">Python Basics</a></li><li class="dropdown-item"><!----> <a href="/python_advanced/" class="nav-link">Python Advanced</a></li><li class="dropdown-item"><!----> <a href="/python_projects/" class="nav-link">Python Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络运维" class="dropdown-title"><a href="/tool/" class="link-title">网络运维</a> <span class="title" style="display:none;">网络运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>CCNA</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/91ab17/" class="nav-link">CCNA知识</a></li><li class="dropdown-subitem"><a href="/pages/55766c/" class="nav-link">CCNA题库</a></li><li class="dropdown-subitem"><a href="/pages/f61749/" class="nav-link">Cisco NetAca</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/4f0673/" class="nav-link">Ansible</a></li><li class="dropdown-item"><h4>版本管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/docker/" class="nav-link">Docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><a href="/archives/" class="link-title">About</a> <span class="title" style="display:none;">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>This Blog</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">Archives</a></li></ul></li><li class="dropdown-item"><h4>About Me</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whell/web/" class="nav-link">Collection</a></li><li class="dropdown-subitem"><a href="/about/website/introduce/" class="nav-link">Introduction</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="星河万里" class="dropdown-title"><a href="/inGermany/" class="link-title">星河万里</a> <span class="title" style="display:none;">星河万里</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>德国驾照B级</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8a9dd0/" class="nav-link">理论准备</a></li><li class="dropdown-subitem"><a href="/pages/b79ef5/" class="nav-link">实践准备</a></li></ul></li><li class="dropdown-item"><h4>星河万里</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/bcf060/" class="nav-link">Vim操作</a></li><li class="dropdown-subitem"><a href="/pages/c11fcf/" class="nav-link">Gitemoji</a></li><li class="dropdown-subitem"><a href="/pages/055f2e/" class="nav-link">无妄经</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/message-board/" class="nav-link">MessageBoard📋</a></div> <a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>CCNA</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>CCNA知识笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1634eb/" class="sidebar-link">网络工程师的介绍</a></li><li><a href="/pages/91ab17/" class="sidebar-link">OSI Model</a></li><li><a href="/pages/68df0c/" class="sidebar-link">IP Addressing</a></li><li><a href="/pages/0cd5e5/" class="sidebar-link">TCP/IP Suite</a></li><li><a href="/pages/32e4ca/" class="sidebar-link">Comparison-TCP Vs UDP</a></li><li><a href="/pages/9876fd/" class="sidebar-link">Cisco IOS CLI</a></li><li><a href="/pages/fabc03/" aria-current="page" class="active sidebar-link">Switching_VLAN</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/fabc03/#mac地址" class="sidebar-link">MAC地址</a></li><li class="sidebar-sub-header level2"><a href="/pages/fabc03/#ethernet-frame" class="sidebar-link">Ethernet Frame</a></li><li class="sidebar-sub-header level2"><a href="/pages/fabc03/#switch" class="sidebar-link">Switch</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#交换机的特点" class="sidebar-link">交换机的特点</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#交换机的主要功能" class="sidebar-link">交换机的主要功能</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#switch-interfaces" class="sidebar-link">Switch Interfaces</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#show-ip-interfaces-brief" class="sidebar-link">show ip interfaces brief</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#show-interfaces-status" class="sidebar-link">show interfaces status</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#configuring-interface-speed-and-duplex" class="sidebar-link">Configuring interface speed and duplex</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#shutdown-the-unused-interfaces" class="sidebar-link">shutdown the unused interfaces</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#interface-counters-errors" class="sidebar-link">Interface Counters &amp; Errors</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/fabc03/#交换的寻址过程" class="sidebar-link">交换的寻址过程</a></li><li class="sidebar-sub-header level2"><a href="/pages/fabc03/#vlan" class="sidebar-link">VLAN</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#vlan的成员模式" class="sidebar-link">VLAN的成员模式</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#vlan-id" class="sidebar-link">VLAN ID</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#在交换环境中-存在三种类型的端口" class="sidebar-link">在交换环境中，存在三种类型的端口:</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#two-trunking-tagging-protocols" class="sidebar-link">Two Trunking(tagging) Protocols</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#dot1q" class="sidebar-link">dot1q:</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#isl" class="sidebar-link">ISL:</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#交换机端口类型-dtp" class="sidebar-link">交换机端口类型 &amp; DTP:</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#dtp" class="sidebar-link">DTP</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#vlan的基本配置" class="sidebar-link">VLAN的基本配置</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#vlan的查看-创建-重命名-删除" class="sidebar-link">VLAN的查看, 创建, 重命名, 删除</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#access-mode并分配给指定的vlan" class="sidebar-link">Access Mode并分配给指定的VLAN</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#一次性设置多个接口加入同一个vlan" class="sidebar-link">一次性设置多个接口加入同一个VLAN:</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#trunk-configuration" class="sidebar-link">Trunk Configuration</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#router-on-a-stick-roas" class="sidebar-link">Router on a Stick(ROAS)</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#routing-methods-of-inter-vlans" class="sidebar-link">Routing methods of inter-VLANs</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#使用路由器的多个接口" class="sidebar-link">使用路由器的多个接口</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#单臂路由-roas" class="sidebar-link">单臂路由 ROAS</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#使用layer-3-switch" class="sidebar-link">使用Layer 3 Switch</a></li><li class="sidebar-sub-header level3"><a href="/pages/fabc03/#vtp" class="sidebar-link">VTP</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#交换机的三种vtp模式" class="sidebar-link">交换机的三种VTP模式</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#vtp的运行模式" class="sidebar-link">VTP的运行模式</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#vtp的基本配置" class="sidebar-link">VTP的基本配置</a></li><li class="sidebar-sub-header level4"><a href="/pages/fabc03/#vtp-pruning" class="sidebar-link">VTP pruning</a></li></ul></li></ul></li><li><a href="/pages/778234/" class="sidebar-link">Switching_STP</a></li><li><a href="/pages/85147b/" class="sidebar-link">Switching_EtherChannel</a></li><li><a href="/pages/087c56/" class="sidebar-link">Layer 2 Discovery Protocols</a></li><li><a href="/pages/6b8f16/" class="sidebar-link">Layer 2 Forwarding</a></li><li><a href="/pages/149f35/" class="sidebar-link">Routing_Static</a></li><li><a href="/pages/d70851/" class="sidebar-link">Dynamic Routing P1 RIP EIGRP</a></li><li><a href="/pages/c4055c/" class="sidebar-link">Dynamic Routing P2 OSPF</a></li><li><a href="/pages/32db2d/" class="sidebar-link">Layer 3 Forwarding</a></li><li><a href="/pages/fe5ceb/" class="sidebar-link">Virtual Routing and Forwarding</a></li><li><a href="/pages/bada2c/" class="sidebar-link">Layer 3 FHRPs</a></li><li><a href="/pages/81e45f/" class="sidebar-link">Security</a></li><li><a href="/pages/6bd28d/" class="sidebar-link">ACL</a></li><li><a href="/pages/7db05a/" class="sidebar-link">NAT 网络地址转换</a></li><li><a href="/pages/729891/" class="sidebar-link">LAN Architectures</a></li><li><a href="/pages/1076ba/" class="sidebar-link">WAN广域网</a></li><li><a href="/pages/441d7d/" class="sidebar-link">WLAN</a></li><li><a href="/pages/e31696/" class="sidebar-link">NTP</a></li><li><a href="/pages/c7a0a2/" class="sidebar-link">DNS</a></li><li><a href="/pages/d25cf6/" class="sidebar-link">Syslog</a></li><li><a href="/pages/c74f1d/" class="sidebar-link">Accessing the CLI of network devices</a></li><li><a href="/pages/5d3322/" class="sidebar-link">FTP TFTP</a></li><li><a href="/pages/e049f9/" class="sidebar-link">DHCP</a></li><li><a href="/pages/7ebd2e/" class="sidebar-link">SNMP</a></li><li><a href="/pages/bba118/" class="sidebar-link">Quality of service</a></li><li><a href="/pages/652496/" class="sidebar-link">Virtualization</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>CCNA题库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Cisco Networking Academy</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ansible</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>版本管理 - Maven</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开发管理 - Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>操作系统 - Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>容器部署 - Docker</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E7%BD%91%E7%BB%9C%E8%BF%90%E7%BB%B4" title="分类" data-v-06225672>网络运维</a></li><li data-v-06225672><a href="/categories/?category=CCNA" title="分类" data-v-06225672>CCNA</a></li><li data-v-06225672><a href="/categories/?category=CCNA%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B0" title="分类" data-v-06225672>CCNA知识笔记</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/Jonas-Wolfxin" target="_blank" title="作者" class="beLink" data-v-06225672>Jonas Wolfxin</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-07-13</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Switching_VLAN<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="switching"><a href="#switching" class="header-anchor">#</a> Switching</h1> <blockquote><h5 id="what-is-lan"><a href="#what-is-lan" class="header-anchor">#</a> What is LAN?</h5> <p>A Local Area Network (LAN) is a computer network that connects devices within a limited geographical area such as a home, office, or building. LANs are used to enable communication and the sharing of resources, such as printers, files, and applications, between devices that are connected to the same network.</p> <p>LANs typically use <strong>Ethernet or Wi-Fi</strong> as the physical and data-link layer protocols to provide a connection between devices. The network can be either wired, with Ethernet cables connecting devices, or wireless, using Wi-Fi to connect devices.</p> <p>LANs are commonly used in homes and small businesses, as they are relatively simple to set up and maintain. Larger networks, such as those found in corporations and universities, may use more complex networking technologies, such as <strong>Wide Area Networks (WANs)</strong> or <strong>Virtual Private Networks (VPNs)</strong>, to connect multiple LANs together.</p> <ul><li>Switches work within a LAN;</li> <li>Routers are used to connect separate LANs.</li></ul></blockquote> <h2 id="mac地址"><a href="#mac地址" class="header-anchor">#</a> MAC地址</h2> <blockquote><p>MAC (硬件)地址的长度为 <strong>48 bits</strong>(6 Bytes):</p> <ul><li>采用 <strong>12位 的 Hexadecimal Characters</strong> 表示为 4位/3组(A8BA.6C05.45ED),或者 2位/6组(A8:BA:6C:05:45:ED);</li> <li>A.K.A. Burned-in Address(BIA);</li> <li>assigned to the device when it is made:
<ul><li><strong>前24bit(3 Bytes)是OUI</strong> (Organizationally Unique Identifier ，组织唯一标识符)是由IEEE 分配给厂商的;</li> <li>后24bit(3 Bytes)是各厂商给生产的每个网卡都分配一个唯一的地址;</li></ul></li> <li>is globally unique.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303160415009.png" alt="image-20230316035259406" style="zoom:30%;"></blockquote> <h2 id="ethernet-frame"><a href="#ethernet-frame" class="header-anchor">#</a> Ethernet Frame</h2> <ul><li><p>数据链路层负责将比特合并成字节，再将字节封装成帧。在数据链路层，我们使用帧封装来自网络层的分组，以便通过特定类型的介质进行传输。</p></li> <li><p>以太网工作站的职责是，使用MAC帧格式彼此传递数据帧, 这利用CRC提供了错误检测功能，</p></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303160415108.png" alt="image-20220704231652823"></p> <blockquote><p>在Ethernet Frame中除了数据之外, header和trailer加起来一共 <strong>26 Bytes</strong>:</p> <ul><li><p><code>前导码 Preamble</code>: 前导码为 7 Bytes of 10101010，交替的0和1; Allows devices to synchronize their receiver clocks。</p></li> <li><p><code>帧起始位置分隔符(SFD, Start Frame Delimiter)</code> SFD为 1 Byte, 值为10101011; Marks the end of the preamble and the beginning of the rest of the frame.</p> <blockquote><ul><li><strong>Preamble</strong>和<em>SFD</em>在以太网帧中的作用是为了在物理层上进行<strong>同步时钟</strong>和<em>标识数据部分</em>的开始，使接收设备能够正确地接收和解析数据帧。</li> <li>通过Preamble和SFD的结合作用，接收方可以精确地同步时钟，并且识别出一个新的帧的开始位置。这样，接收方就可以正确地解析以太网帧的数据部分，从而实现数据的可靠传输。</li></ul></blockquote></li> <li><p><code>目标地址(Destination MAC Address)</code> 包含一个48 bits的值，且LSB (Least Significant Bit，最低有效位)优先。接收方根据DA 判断到来的分组是否是发送给特定节点的。目标地址可以是单播地址、广播地址或组播MAC地址。别忘了，广播地址全为1(在十六进制格式下全为F)，广播发送给所有设备，而组播只发送给网络中一组类似的节点。</p></li> <li><p><code>源地址(Source MAC Address)</code> SA是一个48位的MAC地址，用于标识传输设备，也使用LSB优先格式。在SA字段中，不能包含广播地址或组播地址。</p></li> <li><p><code>长度或类型 Length/Type</code>: 2 bytes;</p> <ul><li>802.3帧使用<strong>Length</strong>字段, 标识了数据部分的长度, 值为 <strong>1500 or less</strong>; 802.3不能标识上层协议，只能用于专用LAN，如IPX。</li> <li>而Ethenet_II帧使用<strong>Type</strong>字段标识网络层协议:
<ul><li>**IPv4(0x0800), **</li> <li>**IPv6(0x86DD), **</li> <li><strong>the ARP ethernet type is 0x0806</strong>。</li></ul></li></ul></li> <li><p><code>数据</code>: 这是网络层传递给数据链路层的帧，其长度为46-1500B 。</p></li> <li><p><code>帧校验序列(FCS, Frame Check Sequence)</code>:  4 Bytes, FCS 字段用于存储CRC(Cyclic Redundancy Check，循环冗余校验) 结果。CRC是一种数学算法，创建每个帧时都将运行它。作为接收方的主机收到帧并运行CRC时，其结果必须相同，否则，接收方将认为发生了错误，进而将帧丢弃。</p></li></ul></blockquote> <hr> <blockquote><ul><li>The preamble + SFD is usually <strong>not considered</strong> part of the Ethernet header, although it is sent with every Ethernet frame.</li> <li>Therefore the size of the Ethernet header + trailer is 18 bytes (6+6+2+4);</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303161323599.png" alt="image-20230316132344387" style="zoom:33%;"> <ul><li><p><strong>The minimum size for an Ethernet frame</strong> (Header + Payload [Packet] + Trailer) is <strong>64 bytes</strong>;</p></li> <li><p>64 bytes - 18 bytes (header + trailer size) = 46 bytes, Therefore the <strong>minimum payload (packet) size</strong> of an Ethernet Frame is <strong>46 bytes</strong></p></li> <li><p>If the payload is less than 46 bytes, <em>padding bytes</em>(these bytes are all 0s) are added, ie. 34-byte packet + 12-byte padding = 46 bytes</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303161905308.png" alt="image-20230316190532804" style="zoom:33%;"></li></ul></blockquote> <h2 id="switch"><a href="#switch" class="header-anchor">#</a> Switch</h2> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621103251967.png" alt="image-20220621103251967" style="zoom:40%;"> <h3 id="交换机的特点"><a href="#交换机的特点" class="header-anchor">#</a> 交换机的特点</h3> <blockquote><ul><li>网桥使用软件来创建和管理过滤表, 而交换机使用专用的集成电路(ASIC) 来创建并维护其过滤表;</li> <li>默认情况下, Layer2交换机的所有端口都属于一个广播域(VLAN 1);</li> <li>每个端口都是一个独立的冲突域, 为每个终端设备提供相同的带宽;</li> <li>通过检查每个接收到的数据帧的<strong>Source MAC</strong>，交换机完成对MAC地址的学习;</li> <li>对 <strong>unknown Unicast Frame</strong> 和 <strong>Broadcast Frame</strong> 进行泛洪flood;</li> <li>对 <strong>known Unicast Frame</strong> 进行定向转发;</li></ul></blockquote> <h3 id="交换机的主要功能"><a href="#交换机的主要功能" class="header-anchor">#</a> 交换机的主要功能</h3> <blockquote><h6 id="mac地址学习"><a href="#mac地址学习" class="header-anchor">#</a> MAC地址学习:</h6> <p>交换机通过检查每个接收到的数据帧的==源地址==完成对MAC地址的学习, 然后建立<code>MAC地址</code>与<code>交换机接口</code>的地址对应表<code>Forward/Filter MAC database</code>. (<strong>Dynamic MAC addresses are removed from the MAC address table after 5 minutes of inactivity!</strong> The process of addresses being cleared from the MAC address table after 5 minutes of inactivity is known as <strong>Aging</strong>);</p> <ul><li>查看MAC Address Table: <code>show mac address-table</code></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303161858682.png" alt="image-20230316185844317" style="zoom:25%;"> <ul><li>清空MAC Address Table: <code>clear mac address-table dynamic</code></li> <li>删除指定的MAC地址条目:</li> <li><code>clear mac address-table dynamic address 0c3f.b011.34ba</code>  或者</li> <li><code>clear mac address-table dynamic interface gi0/0</code></li></ul> <h6 id="转发和泛洪数据帧-frame"><a href="#转发和泛洪数据帧-frame" class="header-anchor">#</a> 转发和泛洪数据帧(Frame):</h6> <p>当交换机的接口接收到一个数据帧时，交换机就将帧中携带的目的地址和<code>Forward/Filter MAC database</code>中的记录进行比较:</p> <ul><li><strong>known Unicast</strong> frame -&gt; <em>Forward</em>: 如果目的硬件地址是已知的，即已经被列入到MAC表中，则该帧只被发送到指定的输出接口。交换机不会将此帧发送到除目的地接口之外的任何其他接口。这一过程叫做 帧过滤;</li> <li><strong>unknown Unicast</strong> frame -&gt; <em>Flood</em>: 如果<code>Forward/Filter MAC database</code>中没有目标方的MAC地址，那么此数据帧将会向除接收此帧接口之外的所有其他活动接口上<strong>泛洪</strong>出去。
<ul><li>具有指定MAC地址的设备会<em>处理并响应</em>被泛洪的数据帧，则交换机就会用此设备的位置(接口)信息来更新MAC地址表。</li> <li>不具有指定MAC地址的设备在接收被泛洪的数据帧后,会直接<em>丢弃</em>.</li></ul></li> <li><strong>Brodcast</strong> frame -&gt; Flood: have a destination address of <em>FFFF.FFFF.FFFF</em>, 此数据帧将会向除接收此帧接口之外的所有其他活动接口上<strong>泛洪</strong>出去。
<ul><li>符合条件的设备会<em>处理并响应</em>被泛洪的数据帧，则交换机就会用此设备的位置(接口)信息来更新MAC地址表。</li> <li>不符合条件的设备在接收被泛洪的数据帧后,会直接<em>丢弃</em>.</li></ul></li></ul> <h6 id="二层环路避免"><a href="#二层环路避免" class="header-anchor">#</a> 二层环路避免:</h6> <p>通过STP避免在数据链路层由于交换机之间的冗余物理链路而形成的环路; (TTL的计算中的hop是指路由器间的跳转, 即三层的跳转, 对2层及以下是透明的)</p> <ul><li>路由选择协议(如 RIP) 可以防止在<strong>网络层</strong>形成网络环路。</li> <li>然而，对于<strong>因交换机之间存在冗余物理链路而在数据链路层上形成的环路</strong>，路由选择协议无能为力。网络传播的数据帧会在所有冗余链路上同时被泛洪开来，这会导致<code>广播风暴</code>和其他严重的问题。这就是开发生成树协议的原因所在，可以防止在第2层交换式网络中形成环路。</li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202207081721321.png" alt="image-20220708172156171" style="zoom:80%;"> <h3 id="switch-interfaces"><a href="#switch-interfaces" class="header-anchor">#</a> Switch Interfaces</h3> <h4 id="show-ip-interfaces-brief"><a href="#show-ip-interfaces-brief" class="header-anchor">#</a> <code>show ip interfaces brief</code></h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303181558612.png" alt="image-20230318155858388" style="zoom:37%;"> <blockquote><ul><li><p>Router interfaces have the <code>shutdown</code> command applied by default = will be in the <strong>administratively down/down</strong> State by default;</p></li> <li><p>Switch interfaces <strong>do NOT</strong> have the <code>shutdown</code> command applied by default =</p> <ul><li><p>will be in the <strong>up/up</strong> State if connected to another device OR</p></li> <li><p>in the <strong>down/down</strong> State if not connected to another device</p></li></ul></li></ul></blockquote> <h4 id="show-interfaces-status"><a href="#show-interfaces-status" class="header-anchor">#</a> <code>show interfaces status</code></h4> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303181559757.png" alt="image-20230318155941567"></p> <blockquote><ul><li><strong>Name field</strong>: is actually the description of the port.</li> <li><strong>Status field</strong>:
<ul><li><em>connected</em></li> <li><em>notconnected</em></li> <li><em>disabled</em>: After setting <code>shutdown</code> on the ports, the Status field would be changed to <strong>disabled</strong>.</li></ul></li> <li><strong>Vlan field</strong>: Take note of the fact that the interface connected to the other switch, is a trunk interface.</li> <li><strong>Duplex field</strong>:  Duplex is auto by default on Cisco switches, meaning it will auto-negotiate with the neighboring device and use full-duplex if possible.
<ul><li><em>Half duplex</em>: The device cannot send and receive data at the same time. If it is receiving a frame, it must wait before sending a frame.
<ul><li>使用Hub集线器连接的网络都是半双工网络;</li> <li>半双工接口与全双工接口之间的连接, 也会以半双工方式运行.</li></ul></li> <li><em>full-duplex</em>: The device can send and receive data at the same time. It does not have to wait.</li></ul></li> <li><strong>Speed field</strong>: which is also auto by default. <strong>Auto</strong> means they are able to auto-negotiate with the device they are connected to and use the fastest speed both devices are capable of.</li></ul></blockquote> <h4 id="configuring-interface-speed-and-duplex"><a href="#configuring-interface-speed-and-duplex" class="header-anchor">#</a> Configuring interface speed and duplex</h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303181612983.png" alt="image-20230318161215621" style="zoom:30%;"> <blockquote><h5 id="speed-duplex-auto-negotiation"><a href="#speed-duplex-auto-negotiation" class="header-anchor">#</a> Speed/Duplex Auto-negotiation</h5> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303181651830.png" alt="image-20230318165139506" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303181653572.png" alt="image-20230318165346312" style="zoom:33%;"></blockquote> <blockquote><h5 id="csma-cd-mechanism-in-half-duplex-network"><a href="#csma-cd-mechanism-in-half-duplex-network" class="header-anchor">#</a> CSMA/CD Mechanism in ==Half-duplex== network</h5> <ul><li><p>Ethernet devices use <strong>CSMA/CD</strong> to detect and prevent collisions on <em>half-duplex</em> interfaces.</p></li> <li><p><code>半双工以太网</code>使用<code>CSMA/CD</code> (Carrier Sense Multiple Access with Collision Detection ，载波侦听多路访问/冲突检测)，这是一种帮助设备均衡地共享带宽的协议，可避免两台设备同时在网络介质上传输数据。同一冲突域内, 多个节点同时传输分组时，将发生冲突，而开发CSMA/CD就旨在避免这种问题:</p> <ul><li>Before sending frames, devices ‘listen’ to the collision domain until they detect that other devices are not sending.</li></ul> <ul><li>If a collision does occur, the device sends a <strong>jamming signal(阻塞信号)</strong> to inform the other devices that a collision happened.</li></ul> <ul><li>Each device will wait a <em>random period</em> of time before sending frames again.</li></ul> <ul><li>The process repeats.</li></ul></li> <li><p>在<code>半双工以太网</code>中发生冲突后，将出现如下情况:
1. 拥堵信号告诉所有设备发生了冲突;
2. 冲突发生后进行随机延迟并重传;
3. 以太网网段中的每台设备都暂停传输，直到定时器到期后，所有主机的传输优先级都相同。</p></li> <li><p>CSMA/CD 网络持续发生严重冲突时，将导致如下后果:</p> <ul><li>延迟;</li> <li>低吞吐量;</li> <li>拥塞。</li></ul></li></ul></blockquote> <blockquote><p>最后，请牢记如下要点:</p> <ul><li><strong>在Full-duplex模式下，不会发生冲突;</strong> Full-Duplex transmission means that both devices and send data at the same time, and no problems like collisions will occur because they use separate wires to transmit and receive data.</li> <li>集线器属于<em>Layer 1- Physical Layer</em>的网络设备,已经基本淘汰; 除集线器外，几乎其他所有设备都可在全双工模式下运行。</li> <li>半双工以太网只有一个<strong>冲突域(Collision Domain)</strong>，其有效吞吐量比全双工以太网低得多。</li> <li>在全双工以太网中，交换机的每个端口都对应一个独立的冲突域，且有效吞性量更高。</li></ul></blockquote> <h4 id="shutdown-the-unused-interfaces"><a href="#shutdown-the-unused-interfaces" class="header-anchor">#</a> shutdown the unused interfaces</h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303181613678.png" alt="image-20230318161356308" style="zoom:50%;"> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># interface range f0/5 - 8, f0/10-11</span>
SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment"># shutdown </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="interface-counters-errors"><a href="#interface-counters-errors" class="header-anchor">#</a> Interface Counters &amp; Errors</h4> <p>The <em>switch and router</em> will take count of some of these things and you can view them with the <code>show interfaces</code> command.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303181702365.png" alt="image-20230318170220044" style="zoom:38%;"> <blockquote><p>Interface Counters:</p> <ul><li><strong>total number of packets received on the interface</strong>,</li> <li><strong>the total number of bytes in those packets</strong>;</li></ul> <p>Interface Errors:</p> <ul><li><strong>runts</strong>: Frames that are smaller than the minimum frame size (64 bytes);</li> <li><strong>giants</strong>: Frames that are larger than the maximum frame size (1518 bytes);</li> <li><strong>CRC</strong>: Frames that failed the CRC check (in the Ethernet FCS trailer);</li> <li><strong>frame</strong>: Frames that have an Incorrect format (due to an error);</li> <li><strong>Input errors</strong>: Total of various counters, such as the above four;</li> <li><strong>Output errors</strong>: Frames the switch tried to send, but failed due to an error</li></ul></blockquote> <h2 id="交换的寻址过程"><a href="#交换的寻址过程" class="header-anchor">#</a> 交换的寻址过程</h2> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621140831792.png" alt="image-20220621140831792" style="zoom:40%;"> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621141319943.png" alt="image-20220621141319943" style="zoom:40%;"> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621141355454.png" alt="image-20220621141355454" style="zoom:40%;"> <hr> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303161800854.png" alt="image-20230316180045420" style="zoom:33%;"> <ol><li>The user entered the IP address 192.168.1.3 as the destination, but PC1 has to discover PC3’s MAC address by itself;</li> <li>So, PC1 wants to send this Ethernet frame to PC3, but first it has to learn PC3’s MAC address;</li> <li>To do so, it uses <strong>ARP</strong>.</li></ol> <h2 id="vlan"><a href="#vlan" class="header-anchor">#</a> VLAN</h2> <h3 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h3> <blockquote><h5 id="what-is-lan-2"><a href="#what-is-lan-2" class="header-anchor">#</a> What is LAN?</h5> <ul><li>A LAN is a <strong>single broadcast domain</strong>, including all devices in that broadcast domain.</li></ul> <h5 id="what-is-broadcast-domain"><a href="#what-is-broadcast-domain" class="header-anchor">#</a> What is Broadcast Domain?</h5> <ul><li>A broadcast domain is the group of devices which will receive a <strong>broadcast frame</strong> (destination MAC FFFF.FFFF.FFFF) sent by any one of the members.</li></ul></blockquote> <blockquote><h5 id="what-is-vlan"><a href="#what-is-vlan" class="header-anchor">#</a> What is VLAN?</h5> <p>在纯粹的交换型互联网络中, 如何划分广播域呢? 答案是创建VLAN(虚拟局域网)。 VLAN是一个网络用户和网络资源的逻辑编组, 它们与管理者定义的交换机端口相连。 通过在交换机上创建VLAN, 可以指定交换机端口为不同的子网提供服务, 从而在二层交换型网络(广播域)中创建更小的广播域.</p> <ul><li><p>默认情况下, 交换机的所有接口都同属一个广播域;</p></li> <li><p>VLANs are configured on switches on a per-interface basis.</p></li> <li><p>VLAN技术可以把交换机的接口在<em>数据链路层</em>上将整个广播域(LAN)划分成若干个VLAN, logically separate end hosts at Layer 2;</p></li> <li><p>划分后,VLAN之间是互相隔离的, <em>VLAN之间在二层设备上无法互相通信, 必须经由三层设备(路由器)才可以互通</em>; Switches DO NOT forward traffic between VLANs, including broadcast/unknown unicast traffic.</p></li></ul> <h5 id="benefits-of-vlan"><a href="#benefits-of-vlan" class="header-anchor">#</a> Benefits of VLAN:</h5> <ul><li><strong>Performance</strong>: Lots of unnecessary broadcast traffic can reduce network performance;</li> <li><strong>Security</strong>: Even within the same office, you want to limit who has access to what. You can apply security policies on a router/firewall. Because this is one LAN, PCs can reach each other directly, without traffic passing through the router. So, even if you configure security policies, they won't have any effect.</li></ul> <h6 id="vlan的典型应用场景"><a href="#vlan的典型应用场景" class="header-anchor">#</a> VLAN的典型应用场景:</h6> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621141811827.png" alt="image-20220621141811827" style="zoom:40%;"></blockquote> <h4 id="vlan的成员模式"><a href="#vlan的成员模式" class="header-anchor">#</a> VLAN的成员模式</h4> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621143523960.png" alt="image-20220621143523960" style="zoom:40%;"> <blockquote><ul><li><code>静态VLAN</code> 易于配置和管理，非常适合用于需要控制所有用户移动的网络环境; 是创建VLAN最常用的方法，其原因之一是静态VLAN最安全。</li> <li><code>动态VLAN</code> 通过使用<strong>VLAN管理策略服务器(VMPS)</strong>，可根据硬件(MAC)地址、协议甚至创建动态VLAN 的应用程序来确定所连接的交换机端口所属的VLAN。VMPS数据库将MAC地址映射到VLAN。在同一台交换机中，可以同时有动态接入端口和中继端口，但动态接入端口只能连接到终端或集线器，而不能连接到其他交换机!</li></ul></blockquote> <h4 id="vlan-id"><a href="#vlan-id" class="header-anchor">#</a> VLAN ID</h4> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621153512606.png" alt="image-20220621153512606" style="zoom:43%;"> <blockquote><h5 id="categories"><a href="#categories" class="header-anchor">#</a> Categories:</h5> <ul><li>编号1 ~ 1005的VLAN为 <strong>Normal VLANs</strong>: <em>VLAN 1</em>, <em>VLAN 1002~1005</em> exist by default and cannot be deleted.</li> <li>编号1006~4094的VLAN称为 <strong>Extended VLANs</strong>;</li></ul></blockquote> <blockquote><h6 id="vlan-1的特性"><a href="#vlan-1的特性" class="header-anchor">#</a> VLAN 1的特性:</h6> <ul><li>VLAN 1 是一个管理VLAN(管理数据流，如CDP， PAgP、LACP， DTP和VTP), 虽然也可将其用于工作组, 但思科建议只将其用于管理;</li> <li>VLAN 1 是默认的Native VLAN, 不能被修改、删除或重命名;</li> <li>默认情况下, 所有的交换机端口都属于VLAN 1;</li></ul></blockquote> <h4 id="在交换环境中-存在三种类型的端口"><a href="#在交换环境中-存在三种类型的端口" class="header-anchor">#</a> 在交换环境中，存在三种类型的端口:</h4> <blockquote><h6 id="access-port"><a href="#access-port" class="header-anchor">#</a> Access port:</h6> <ul><li><p>An access port is a switchport which belongs to a single VLAN, and usually connects to end hosts like PCs.</p></li> <li><p><strong>An access port belongs to and carries the traffic of only one VLAN</strong>.</p></li> <li><p>Traffic is both received and sent in <strong>native formats with no VLAN tagging</strong> whatsoever. Anything arriving on an access port is simply assumed to belong to the VLAN assigned to the port.</p> <ul><li><p>与<code>Access Port</code>相连的设备没有VLAN成员资格的概念，只是认为自己是某个广播域的一员, 没有全局意识，根本不了解物理网络拓扑。</p></li> <li><p>将帧转发给与<code>Access Port</code>相连的终端设备前，交换机将删除所有的VLAN信息。</p> <blockquote><p>So, what do you think will happen if an access port receives a <em>tagged packet, like IEEE 802.1Q tagged</em>?</p> <ul><li>Right—<em>that packet would simply be dropped</em>. But why? Well, because an access port doesn’t look at the source address, so tagged traffic can be forwarded and received only on trunk ports.</li></ul></blockquote></li></ul></li></ul> <h6 id="voice-access-ports"><a href="#voice-access-ports" class="header-anchor">#</a> Voice access ports:</h6> <ul><li>这是一种特殊的<code>Access port</code>; 前面一直说接入端口只能属于一个VLAN，但这种说法不完全正确。当前，大多数交换机都允许将接入端口分配给另一个VLAN，以便传输语音数据流，这种VLAN被称为语音VLAN。语音VLAN过去被称为辅助VLAN，它可以与数据VLAN重叠，允许同一个端口同时传输语音和数据。虽然从技术上说，这属于不同类型的链路，但它仍然只是一种接入端口，只是能够配直的同时为语音VLAN 和数据VLAN传输数据流。这让你能够将电话和PC同时连接到同一个交换机棉口，并让它们属于不同的VLAN。在本章后面的11.8节，将详细介绍语音VLAN。</li></ul> <h6 id="trunk-port"><a href="#trunk-port" class="header-anchor">#</a> Trunk port:</h6> <ul><li><p>Trunk ports can carry multiple VLANs over a single interface; 用于<strong>交换机之间</strong>、<strong>交换机和路由器之间</strong>, <strong>交换机和服务器</strong>之间，它同时为多个(1-4094个，但除非使用扩展VLAN，否则最多为1005个)VLAN传输数据流。</p> <ul><li><p>可让一个端口同时属于众多不同的VLAN, 比如可让同一台服务器属于两个不同的广播域，这样用户无需通过第3层设备(路由器)就能登录或访问它;</p></li> <li><p>另一个优点表现在交换机之间的Trunk连接。中继链路可传输来自多个VLAN的帧。</p> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202207101256426.png" alt="image-20220710125650266" style="zoom:80%;"></li></ul></li></ul></blockquote> <blockquote><ul><li>交换机端口是第二层接口, 这种接口与物理端口相关联;</li> <li>交换机端口为<code>access port</code>时, 只能属于一个VLAN; 而为<code>trunk port</code>时, 属于所有的VLANs;</li> <li>可手工将端口配置为<code>access port</code>或<code>trunk port</code>, 也可在每个端口上运行DTP协议, DTP通过与链路另一端的端口协商来设置端口模式</li></ul></blockquote> <h3 id="two-trunking-tagging-protocols"><a href="#two-trunking-tagging-protocols" class="header-anchor">#</a> Two Trunking(tagging) Protocols</h3> <h4 id="dot1q"><a href="#dot1q" class="header-anchor">#</a> dot1q:</h4> <blockquote><ul><li>IEEE 802.1Q, A.S.A dot1q 是IEEE制定的 industry standard protocol，它在Ethernet Frame中插入一个字段Tag。</li> <li>802.1Q has a feature called the <strong>native VLAN</strong>. (ISL does not have this feature.)</li> <li>The native VLAN Is <em>VLAN 1 by default on all trunk ports</em>, however this can be manually configured on <strong>each trunk port</strong>.</li> <li>The switch does not add an 802.1q tag to <em>frames in the native VLAN</em>.</li> <li>When a switch receives an untagged frame on a trunk port, it assumes the frame belongs to the native VLAN. <strong>So, it’s very important that the native VLAN matches for the switches on the same Trunk Link!</strong></li></ul> <h6 id="vlan-tagging"><a href="#vlan-tagging" class="header-anchor">#</a> VLAN Tagging</h6> <ul><li><p>Switches will ‘tag’ all frames that they send over a trunk link. This allows the receiving switch to know which VLAN the frame belongs to.</p> <ul><li>Trunk Ports = tagged ports;</li></ul></li> <li><p>Access Ports = untagged ports;</p></li> <li><p>This frame identification method uniquely assigns a user-defined VLAN ID to each frame. Sometimes people refer to it as a <strong>VLAN ID</strong>.</p></li> <li><p><strong>Trunk ports will support tagged and untagged traffic simultaneously (if you are using 802.1Q trunking protocol</strong>).</p> <blockquote><p>The trunk port is assigned a default Port VLAN ID (PVID) for a VLAN on which all untagged traffic will travel. This VLAN is also called the <strong>native VLAN</strong> and is always <strong>VLAN 1</strong> by default (but it can be changed to any VLAN number).</p></blockquote></li></ul> <h6 id="here-s-how-it-works"><a href="#here-s-how-it-works" class="header-anchor">#</a> Here’s how it works:</h6> <ul><li><p>Once within the switch fabric, each switch that the frame reaches must first identify the VLAN ID from the frame tag. It then finds out what to do with the frame by looking at the information in what’s known as the <strong>filter table</strong>. If the frame reaches a switch that has another trunked link, the frame will be forwarded out the trunk-link port.
​</p></li> <li><p>Once the frame reaches an exit that’s determined by the <strong>forward/filter table</strong> to be an <strong>access link</strong> matching the frame’s VLAN ID, the switch will remove the VLAN identifier. This is so the destination device can receive the frames without being required to understand their VLAN identification information.</p></li></ul> <h6 id="_802-1q-tag结构"><a href="#_802-1q-tag结构" class="header-anchor">#</a> 802.1Q Tag结构</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303300053536.png" alt="image-20220621184009736" style="zoom:53%;"> <ul><li><p>**FCS(Frame Check Sum)**将重新计算;</p></li> <li><p><strong>802.1Q Tag</strong> 的大小 4 Bytes, consists of two main fields: :</p> <ul><li><em>Tag Protocol Identifier(TPID)</em>: 16 bits, always set to a value of <strong>0x8100</strong>, which indicates that the frame is <strong>802.1Q-tagged</strong>.</li> <li><em>Tag Control Information(TCI)</em> <ul><li><strong>PCP(Priority Code Point)</strong>: 3 bits, Used for <strong>CoS(Class of Service)</strong>, which prioritizes important traffic in congested networks;</li> <li><strong>DEI(Drop Eligible indicator)</strong>: 1 bit, Used to indicates frames that can be dropped if the network is congested, which makes sure more important network traffic gets through;</li> <li><strong>VLAN ID</strong>: 12 bits(2^12^ = 4096, range of 0 ~ 4095), identifies the VLAN which the frame belongs to;</li></ul></li></ul></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220111900.png" alt="image-20230322011132707" style="zoom:22%;"></blockquote> <h4 id="isl"><a href="#isl" class="header-anchor">#</a> ISL:</h4> <blockquote><ul><li><p>(Inter-Switch Link), 思科proprietary协议, <strong>Deprecated!</strong></p></li> <li><p>交换机间链路(ISL)是一种显式标记方法，它在以太网帧中添加VLAN信息。这些标记信息允许利用外部标记方法在中继链路上多路复用多个VLAN的数据流，从而让交换机确定通过中继链路收到的帧属于哪个VLAN 。</p></li> <li><p>需要注意的是，这是一种思科专用协议，只能用于<strong>FastEthernet</strong>和<strong>GigabitEthernet</strong>链路。ISL可用于交换机端口、路由器接口和服务器接口卡。</p></li> <li><p>思科的专有协议ISL, 但是存在一些问题, 所以思科逐渐弃用了!</p> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621183600780.png" alt="image-20220621183600780" style="zoom:40%;"></li></ul></blockquote> <h3 id="交换机端口类型-dtp"><a href="#交换机端口类型-dtp" class="header-anchor">#</a> 交换机端口类型 &amp; DTP:</h3> <blockquote><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport mode ?</span>
access        Set trunking mode to ACCESS unconditionally
dot1q-tunnel  <span class="token builtin class-name">set</span> trunking mode to TUNNEL unconditionally
dynamic       Set trunking mode to dynamically negotiate access or trunk mode
private-vlan  Set the mode to private-vlan <span class="token function">host</span> or promiscuous
trunk         Set trunking mode to TRUNK unconditionally
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><p><code>switchport mode access</code>: forces the interface on the SW into <strong>Access Port</strong> mode;</p></li> <li><p><code>switchport mode trunk</code>: forces the interface on the SW into <strong>Trunk Port</strong> mode;</p></li> <li><p><code>switchport nonegotiate</code>: Disable DTP on the interfaces on Cisco Switches. <code>switchport mode access</code> <em>can also prevent the interface from generating DTP frames</em>.</p></li></ul></blockquote> <h4 id="dtp"><a href="#dtp" class="header-anchor">#</a> DTP</h4> <ul><li>(Dynamic Trunking Protocol), <strong>Cisco proprietary</strong> protocol</li> <li>allows <strong>switches with each other</strong> to negotiate the status of their switchports to be either <strong>Access Ports</strong> or <strong>Trunk Ports</strong>, instead of manual configuration.</li> <li>DTP is enabled by default on all Cisco switch interfaces.</li> <li>DTP can be exploited by attackers. For security purposes, manual configuration is recommended. <strong>DTP should be disabled on all switchports.</strong></li> <li>查看指定端口的DTP状态: <code>show interfaces f0/1 switchport</code></li></ul> <blockquote><ul><li><code>switchport mode dynamic auto</code>: This mode makes the interface able to convert the link to a trunk link. The interface becomes a trunk interface if the neighboring interface is set to
<ul><li><strong>trunk</strong>;</li> <li><strong>dynamic desirable</strong>;</li></ul></li> <li><code>switchport mode dynamic desirable</code>: This one makes the interface <strong>actively</strong> attempt to convert the link to a trunk link. The interface becomes a trunk interface if the neighboring interface is set to
<ul><li><strong>trunk</strong>;</li> <li><strong>dynamic desirable</strong>;</li> <li><strong>dynamic auto</strong>;</li></ul></li></ul> <blockquote><ul><li>On older switches, <code>switchport mode dynamic desirable</code> is the default administrative mode.</li> <li>On newer switches, <code>switchport mode dynamic auto</code> is the default administrative mode.</li></ul></blockquote> <h6 id="summary"><a href="#summary" class="header-anchor">#</a> Summary:</h6> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303240018613.png" alt="image-20230324001845430"></p></blockquote> <blockquote><h5 id="补充1"><a href="#补充1" class="header-anchor">#</a> 补充1:</h5> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303230550406.png" alt="image-20230323055016098" style="zoom:36%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303230546146.png" alt="image-20230323054612807" style="zoom:34%;"> <h5 id="补充2"><a href="#补充2" class="header-anchor">#</a> 补充2:</h5> <ul><li>Switches that support both 802.1Q and ISL trunk encapsulations can use DTP to negotiate the encapsulation they will use.</li> <li>This negotiation is enabled by default, as the default trunk encapsulation mode is: <code>switchport trunk encapsulation negotiate</code></li> <li>ISL is favored over 802.1Q, so if both switches support ISL it will be selected.</li> <li>DTP frames are sent in VLAN1 when using ISL, or in the native VLAN when using 802.1Q (the default native VLAN is VLAN1, however).</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303230606773.png" alt="image-20230323060653449" style="zoom:45%;"></blockquote> <h3 id="vlan的基本配置"><a href="#vlan的基本配置" class="header-anchor">#</a> VLAN的基本配置</h3> <h4 id="vlan的查看-创建-重命名-删除"><a href="#vlan的查看-创建-重命名-删除" class="header-anchor">#</a> VLAN的查看, 创建, 重命名, 删除</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 查看vlan配置</span>
SW1<span class="token comment"># show vlan brief   #  shows the access ports assigned to each VLAN </span>

<span class="token comment"># 创建 VLAN</span>
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#vlan 2  # 创建 VLAN 2</span>
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#vlan 3-10   # 连续地创建 编号为 3~10, 一共8个 VLAN</span>
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#vlan 11,13,15,17  # 创建指定编号的 VLAN</span>

SW1<span class="token punctuation">(</span>config-vlan<span class="token punctuation">)</span><span class="token comment">#name VLAN_NAME    # 自定义 当前VLAN的名字</span>
SW1<span class="token punctuation">(</span>config-vlan<span class="token punctuation">)</span><span class="token comment">#end</span>

SW1<span class="token comment">#</span>

<span class="token comment"># 删除指定的VLAN, 也支持批量删除</span>
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#no vlan 3-10,11,13,15,17   </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="access-mode并分配给指定的vlan"><a href="#access-mode并分配给指定的vlan" class="header-anchor">#</a> Access Mode并分配给指定的VLAN</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int e0/0</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport ?</span>
  access         Set access mode characteristics of the interface  <span class="token comment"># 承载单个VLAN</span>
  autostate      Include or exclude this port from vlan <span class="token function">link</span> up calculation
  dot1q          Set interface dot1q properties
  <span class="token function">host</span>           Set port <span class="token function">host</span>
  mode           Set trunking mode of the interface
  nonegotiate    Device will not engage <span class="token keyword">in</span> negotiation protocol on this interface
  port-security  Security related <span class="token builtin class-name">command</span> 
  private-vlan   Set the private VLAN configuration
  protected      Configure an interface to be a protected port
  trunk          Set trunking characteristics of the interface  <span class="token comment"># 承载多个VLAN的数据</span>
  voice          Voice appliance attributes
  <span class="token operator">&lt;</span>cr<span class="token operator">&gt;</span>
 
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport mode access</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport access vlan 2  # 将当前的接口配置到指定的VLAN</span>
% Access VLAN does not exist. Creating vlan <span class="token number">2</span>    <span class="token comment"># 若VLAN不存在时, 会自动创建</span>

SW1<span class="token comment">#show vlan brief   </span>
    VLAN Name                             Status    Ports
    ---- -------------------------------- --------- -------------------------------
    <span class="token number">1</span>    default                          active    Et0/1, Et0/2, Et0/3
    <span class="token number">2</span>    CCNA                             active    Et0/0
    <span class="token number">1002</span> fddi-default                     act/unsup 
    <span class="token number">1003</span> token-ring-default               act/unsup 
    <span class="token number">1004</span> fddinet-default                  act/unsup 
    <span class="token number">1005</span> trnet-default                    act/unsup 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h4 id="一次性设置多个接口加入同一个vlan"><a href="#一次性设置多个接口加入同一个vlan" class="header-anchor">#</a> 一次性设置多个接口加入同一个VLAN:</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># interface range g0/0 - 3</span>

SW2<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment"># switchport mode access</span>

SW2<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment"># switchport access vlan 3</span>
% Access VLAN does not exist. Creating vlan <span class="token number">3</span>

SW2<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment"># end</span>
SW2<span class="token comment">#show vlan brief</span>
    VLAN Name                             Status    Ports
    ---- -------------------------------- --------- -------------------------------
    <span class="token number">1</span>    default                          active    
    <span class="token number">2</span>    VLAN0002                         active    
    <span class="token number">3</span>    VLAN0003                         active    Et0/0, Et0/1, Et0/2, Et0/3

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="trunk-configuration"><a href="#trunk-configuration" class="header-anchor">#</a> Trunk Configuration</h3> <blockquote><p>交换机上承载多个VLAN, 则当交换机与 交换机或者路由器 之间的连接需要将接口设置为 <code>Trunk模式</code>;</p></blockquote> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621183139837.png" alt="image-20220621183139837" style="zoom:40%;"> <h5 id="查看交换机的trunk端口"><a href="#查看交换机的trunk端口" class="header-anchor">#</a> 查看交换机的Trunk端口:</h5> <p><code>show interfaces trunk</code>: shows the trunk ports that allow each VLAN.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220153542.png" alt="image-20230322015334342" style="zoom:45%;"> <blockquote><ul><li>Mode <strong>on</strong>: means that the interface was manually configured as a trunk.</li> <li><strong>VLANs allowed on the trunk</strong>: By the default, ALL VLANs, 1 to 4094, are allowed on the trunk.</li> <li><strong>VLANs allowed and active in management domain</strong>: 在交换机上的 <strong>存在的(VLAN 1或者创建的) 并且 放行(allowed)的VLAN</strong></li></ul></blockquote> <h5 id="配置端口为trunk-mode"><a href="#配置端口为trunk-mode" class="header-anchor">#</a> 配置端口为Trunk mode</h5> <blockquote><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220149153.png" alt="image-20230322014956875" style="zoom:38%;"> <ul><li><p>Many modern switches do not support Cisco’s ISL at all. They only support 802.10 (dot1q)</p></li> <li><p>However, switches that do support both (like the one I’m using in this example) have a trunk
encapsulation of ‘Auto’ by default.</p></li> <li><p>To manually configure the interface as a trunk port, you must first set the encapsulation to
802.1Q or ISL. On switches that only support 802.1Q, this is not necessary.</p></li></ul></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 1.配置 Trunk 的封装方式(使用的协议):</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk encapsulation ?</span>
  dot1q      Interface uses only <span class="token number">802</span>.1q trunking encapsulation when trunking
  isl        Interface uses only ISL trunking encapsulation when trunking
  negotiate  Device will negotiate trunking encapsulation with peer on
             interface      
 
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk encapsulation dot1q </span>

<span class="token comment"># 2.开启接口的Trunk模式:</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport mode trunk </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="限定trunk端口支持的vlan"><a href="#限定trunk端口支持的vlan" class="header-anchor">#</a> 限定Trunk端口支持的VLAN</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>S1<span class="token comment"># config t</span>
S1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># int f0/1</span>
S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># switchport trunk allowed vlan ?</span>
   WORD  VLAN IDs of the allowed VLANs when this port is <span class="token keyword">in</span> trunking mode
   <span class="token function">add</span>  <span class="token function">add</span> VLANs to the current list
   all  all VLANs
   except  all VLANs except the following
   none  no VLANs
   remove  remove VLANs from the current list

S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># switchport trunk allowed vlan 10, 30    # Only VLAN 10 &amp; 30 are allowed</span>

S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># switchport trunk allowed vlan add 20</span>

S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># switchport trunk allowed vlan remove ?</span>
WORD VLAN IDs of disallowed VLANS when this port is <span class="token keyword">in</span> trunking mode
S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># switchport trunk allowed vlan remove 10</span>

<span class="token comment"># 将VLAN 排除在外后，要恢复到默认设置，可使用下述命令:</span>
S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># switchport trunk allowed vlan all</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h5 id="修改指定端口的native-vlan"><a href="#修改指定端口的native-vlan" class="header-anchor">#</a> 修改指定端口的Native Vlan</h5> <blockquote><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>S1<span class="token comment">#config t</span>
S1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int f0/1</span>
S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk ?</span>
    allowed Set allowed VLAN characteristics when interface is <span class="token keyword">in</span> trunking mode
    native Set trunking native characteristics when interface is <span class="token keyword">in</span> trunking mode
    pruning Set pruning VLAN characteristics when interface is <span class="token keyword">in</span> trunking mode

S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk native vlan ?</span>
<span class="token operator">&lt;</span><span class="token number">1</span>-409<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span> VLAN ID of the native VLAN when this port is <span class="token keyword">in</span> trunking mode

S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk native vlan 1001</span>
S1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#^Z</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>For security purposes, it is best to change the native VLAN to an unused VLAN. (network security will be explained more in-depth later in the course)</li></ul> <p><strong>Make sure the native VLAN matches on between switches!</strong></p></blockquote> <h5 id="案例"><a href="#案例" class="header-anchor">#</a> 案例:</h5> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220222811.png" alt="image-20230322022222534" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220225536.png" alt="image-20230322022559320" style="zoom:30%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220226687.png" alt="image-20230322022629492" style="zoom:32%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220222775.png" alt="image-20230322022255421" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220224794.png" alt="image-20230322022434499" style="zoom:39%;"> <h4 id="router-on-a-stick-roas"><a href="#router-on-a-stick-roas" class="header-anchor">#</a> Router on a Stick(ROAS)</h4> <blockquote><p>ROAS - is the method of inter-VLAN routing</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220222811.png" alt="image-20230322022222534" style="zoom:33%;"> <ul><li>As the picture above shown, there is only a <em>single physical interface</em> connecting the router and the switch, we can actually divide this one physical interface on the router into three separate <strong>Sub-interfaces</strong>.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220233773.png" alt="image-20230322023331353" style="zoom:36%;"> <ul><li>The next command after that is <code>encapsulation dot1q VLAN_ID</code>,
<ul><li>Router will treat any arriving frames tagged with the specified VLAN number as if they arrived on this sub interface.</li> <li>If a frame tagged with VLAN10 arrives, R1 will behave as if it arrived on interface G0/0.10;</li> <li>It will also tag all frames leaving this subinterface with VLAN10 using dot1q.</li></ul></li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303220249387.png" alt="image-20230322024907946" style="zoom:33%;"> <h3 id="routing-methods-of-inter-vlans"><a href="#routing-methods-of-inter-vlans" class="header-anchor">#</a> Routing methods of inter-VLANs</h3> <p>如果要让不同VLAN中的主机(或其他有IP地址的设备)能够彼此通信，就必须使用第3层设备来提供路由选择功能。</p> <h4 id="使用路由器的多个接口"><a href="#使用路由器的多个接口" class="header-anchor">#</a> 使用路由器的多个接口</h4> <p><img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202207101449355.png" alt="image-20220710144905201"></p> <blockquote><ul><li>每个路由器接口都连接了一条接入链路，这意味着每个路由器接口的IP地址都将成为相应VLAN中每台主机的默认网关地址。</li></ul></blockquote> <h4 id="单臂路由-roas"><a href="#单臂路由-roas" class="header-anchor">#</a> 单臂路由 ROAS</h4> <blockquote><ul><li><p><strong>Router on a Stick</strong> is used to provide <strong>Inter-VLAN ip routing</strong> between multiple VLANs using a single interface on the router.</p></li> <li><p>The switch interface is configured as a regular trunk.</p></li> <li><p>The router interface is configured using subinterfaces. You configure the VLAN tag and IP address on each subinterface. 对于每个VLAN中的主机，都需要给它们分配相应子网中的地址，而默认网关为相应路由器子接口的IP地址。</p></li> <li><p>The router will behave as if frames arriving with a certain VLAN tag have arrived on the subinterface configured with that VLAN tag.</p></li> <li><p>The router will tag frames sent out of each subinterface with the VLAN tag configured on the subinterface.</p></li> <li><p>路由器的物理接口可以<em>虚拟出42.9亿(2^32^)个子接口</em>, 可以在三层进行不同VLAN的数据交换;</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R3<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int e0/0.?</span>
<span class="token operator">&lt;</span><span class="token number">0</span>-429496729<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>  Ethernet interface number
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></blockquote> <h5 id="单臂路由的基本配置"><a href="#单臂路由的基本配置" class="header-anchor">#</a> 单臂路由的基本配置</h5> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621233022548.png" alt="image-20220621233022548" style="zoom:40%;"> <h5 id="native-vlan-on-a-router-roas"><a href="#native-vlan-on-a-router-roas" class="header-anchor">#</a> Native VLAN on a Router(ROAS)</h5> <blockquote><p>There are 2 methods of configuring the native VLAN on a router:</p> <ul><li><p>Use the command <code>encapsulation dot1g vlan-id native</code> on the router <strong>sub-interface</strong>;</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303221959455.png" alt="image-20230322195930236" style="zoom:25%;"></li> <li><p>Configure the IP address for the native VLAN on the router’s physical interface</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222003058.png" alt="image-20230322200352839" style="zoom:25%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222004760.png" alt="image-20230322200453462" style="zoom:29%;"></li></ul></blockquote> <h5 id="案例-2"><a href="#案例-2" class="header-anchor">#</a> 案例:</h5> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303221919883.png" alt="image-20230322191920750"></p> <blockquote><ol><li><p>Configure the switch interfaces connected to PCs as access ports in the correct VLAN.</p></li> <li><p>Configure an unused VLAN as the native VLAN.</p></li></ol> <p>​    <strong>Make sure all necessary VLANs exist on each switch!</strong></p> <ol start="3"><li>Configure the connection between SW2 and R1 using 'router on a stick'.</li></ol> <p>​    Assign the last usable address of each subnet to R1's subinterfaces.</p> <ol start="4"><li>Test connectivity by ping command between PCs.  All PCs should be able to reach each other.</li></ol></blockquote> <h6 id="sw1-configuration"><a href="#sw1-configuration" class="header-anchor">#</a> SW1 Configuration</h6> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW1<span class="token comment">#conf t</span>
Enter configuration commands, one per line.  End with CNTL/Z.
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int ran f0/1-2</span>
SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#switchport mode access </span>
SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#switchport access vlan 10</span>
% Access VLAN does not exist. Creating vlan <span class="token number">10</span>

SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#int ran f0/3-4</span>
SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#switchport mode access </span>
SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#switchport access vlan 30</span>
% Access VLAN does not exist. Creating vlan <span class="token number">30</span>

SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#</span>
SW1<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#int g0/1</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport mode trunk </span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#</span>
%LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/1, changed state to down
%LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/1, changed state to up

SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#sw trunk allowed vlan 10,30</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#sw tr native vlan 1001</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#exit</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h6 id="sw2-configuration"><a href="#sw2-configuration" class="header-anchor">#</a> SW2 Configuration</h6> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#int g0/1</span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport mode trunk </span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk native vlan 1001</span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk allowed vlan 10,30</span>

SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#int f0/1</span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport mode access </span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport access vlan 20</span>
% Access VLAN does not exist. Creating vlan <span class="token number">20</span>

SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#int range f0/2-3</span>
SW2<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#switchport mode access </span>
SW2<span class="token punctuation">(</span>config-if-range<span class="token punctuation">)</span><span class="token comment">#sw access vlan 10</span>
% Access VLAN does not exist. Creating vlan <span class="token number">10</span>

SW2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int g0/2</span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport mode trunk </span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk allowed vlan 10,20,30</span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk native vlan 1001</span>
SW2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#exit</span>
SW2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h6 id="r1-configuration"><a href="#r1-configuration" class="header-anchor">#</a> R1 Configuration</h6> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int g0/0</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#no shutdown</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#</span>
%LINK-5-CHANGED: Interface GigabitEthernet0/0, changed state to up
%LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/0, changed state to up

R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#int g0/0.10</span>
R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#encapsulation dot1Q 10</span>
R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#ip address 10.0.0.62 255.255.255.192</span>

R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#int g0/0.20</span>
R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#encapsulation dot1Q 20</span>
R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#ip address 10.0.0.126 255.255.255.192</span>

R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#int g0/0.30</span>
R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#encapsulation dot1Q 30</span>
R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#ip address 10.0.0.190 255.255.255.192</span>
R1<span class="token punctuation">(</span>config-subif<span class="token punctuation">)</span><span class="token comment">#end</span>
R1<span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h6 id="如上配置后-发现vlan10与vlan20的pc之间可以相互ping通-但是都无法ping通vlan30的pc-原因何在"><a href="#如上配置后-发现vlan10与vlan20的pc之间可以相互ping通-但是都无法ping通vlan30的pc-原因何在" class="header-anchor">#</a> 如上配置后, 发现VLAN10与VLAN20的PC之间可以相互Ping通, 但是都无法ping通VLAN30的PC, 原因何在?</h6> <blockquote><p>问题就出在SW2! 虽然SW2的 g0/1 的 allowed VLAN 放行了 VLAN 30, 但是其本身并未创建过 VLAN 30, 导致SW2可以收到VLAN 30的Ethernet Frame, 但是并不知道怎么处理, 而是直接丢弃.</p> <blockquote><p>注意: <strong>Make sure all necessary VLANs exist on each switch!</strong></p></blockquote> <h6 id="解决方法"><a href="#解决方法" class="header-anchor">#</a> 解决方法:</h6> <p><strong>在SW2上创建 VLAN 30</strong>:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#vlan 30</span>
SW2<span class="token punctuation">(</span>config-vlan<span class="token punctuation">)</span><span class="token comment">#exit</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW2<span class="token comment">#show vlan brief</span>
VLAN Name                             Status    Ports
---- -------------------------------- --------- -------------------------------
<span class="token number">1</span>    default                          active    Fa0/4, Fa0/5, Fa0/6, Fa0/7
                                                Fa0/8, Fa0/9, Fa0/10, Fa0/11
                                                Fa0/12, Fa0/13, Fa0/14, Fa0/15
                                                Fa0/16, Fa0/17, Fa0/18, Fa0/19
                                                Fa0/20, Fa0/21, Fa0/22, Fa0/23
                                                Fa0/24
<span class="token number">10</span>   VLAN0010                         active    Fa0/2, Fa0/3
<span class="token number">20</span>   VLAN0020                         active    Fa0/1
<span class="token number">30</span>   VLAN0030                         active   <span class="token comment"># important! Make sure all necessary VLANs exist on each switch!</span>

SW2<span class="token comment">#sh interfaces trunk </span>
Port        Mode         Encapsulation  Status        Native vlan
Gig0/1      on           <span class="token number">802</span>.1q         trunking      <span class="token number">1001</span>
Gig0/2      on           <span class="token number">802</span>.1q         trunking      <span class="token number">1</span>

Port        Vlans allowed on trunk
Gig0/1      <span class="token number">10,30</span>
Gig0/2      <span class="token number">10,20</span>,30

Port        Vlans allowed and active <span class="token keyword">in</span> management domain
Gig0/1      <span class="token number">10,30</span>  <span class="token comment"># 创建 VLAN 30 后, 就可以发现 30 存在于 management domain 了</span>
Gig0/2      <span class="token number">10,20</span>,30

Port        Vlans <span class="token keyword">in</span> spanning tree forwarding state and not pruned
Gig0/1      <span class="token number">10,30</span>
Gig0/2      <span class="token number">10,20</span>,30
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h4 id="使用layer-3-switch"><a href="#使用layer-3-switch" class="header-anchor">#</a> 使用Layer 3 Switch</h4> <blockquote><ul><li><strong>ROAS</strong> is efficient in terms of the number of interfaces, just one, but in a busy network all of the traffic going to the router and back to the switch can cause network congestion.</li> <li><strong>So, in large networks, a <code>multilayer switch</code> is the preferred method of inter-VLAN routing.</strong></li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222008224.png" alt="image-20230322200853971" style="zoom:20%;"> <blockquote><h5 id="layer-3-交换机"><a href="#layer-3-交换机" class="header-anchor">#</a> Layer-3 交换机</h5> <ul><li><p>又称为 <strong>Multi-layer Switch</strong>，如Cisco 3560交换机或 6500等高端交换机。</p></li> <li><p>A multilayer switch is capable of both <strong>switching</strong> AND <strong>routing</strong>;</p></li> <li><p>IP addresses can be assigned to its interfaces, like a router.</p></li> <li><p>You can create <strong>virtual interfaces</strong> for each VLAN, and assign IP addresses to those interfaces.</p></li> <li><p>You can configure routes on it, just like a router.</p></li> <li><p>It can be used for inter-VLAN routing.</p></li></ul></blockquote> <h5 id="inter-vlan-routing-via-svi"><a href="#inter-vlan-routing-via-svi" class="header-anchor">#</a> Inter-VLAN Routing via SVI</h5> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222026704.png" alt="image-20230322202607365" style="zoom:33%;"> <blockquote><ul><li><strong>SVIs (Switch Virtual Interface)</strong> are the <strong>virtual (VLAN) interfaces</strong> you can assign IP addresses to in a multilayer switch.</li> <li>SVI is a special virtual Interface on the Layer-3 Switch, can be checked via <code>show interfaces brief</code>. Normally they will be at the bottom at the interface list.</li> <li>After configuration, each PC in its VLAN will use the SVI (NOT the router) as their gateway address.</li></ul> <h6 id="requirements-for-an-svi-to-be-up-up"><a href="#requirements-for-an-svi-to-be-up-up" class="header-anchor">#</a> Requirements for an SVI to be UP/UP:</h6> <ol><li>The specific VLAN must exist on the switch; The VLAN must not be shutdown. (You can enter VLAN configuration mode, and disable the VLAN with the <code>SHUTDOWN</code> command.)</li> <li>The switch must have <strong>at least one access port in the VLAN</strong> in an <strong>up/up</strong> state, AND/OR one <strong>trunk port</strong> that allows the VLAN that is in an <strong>up/up</strong> state.</li> <li>The SVI must not be shutdown (SVIs are disabled by default)</li></ol></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222030079.png" alt="image-20230322203027759" style="zoom:33%;"> <h6 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h6> <p>Step 1. 将ROAS路由器的虚拟端口清除, 恢复物理接口的默认设置</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222032350.png" alt="image-20230322203229969" style="zoom:33%;"> <blockquote><ul><li>Although we have successfully deleted the subinterfaces, they will remain here with a ‘deleted’ status unless we reload the router.</li> <li><code>default interface Interface_ID</code>: Reset an interface to its default configuration;</li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222034898.png" alt="image-20230322203418727" style="zoom:33%;"> <hr> <p>Step 2. 恢复单臂路由的另一端的三层交换机的接口为默认配置; 开启 <code>ip routing</code>的功能; 将其接口设置为<code>routed port</code>, 并绑定IP地址</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222035093.png" alt="image-20230322203523756" style="zoom:33%;"> <blockquote><ul><li><code>SW(config)# ip routing</code> enables <strong>Layer 3 IP routing function</strong> on the switch;</li> <li><code>SW(config-if)# no switchport</code> configures the interface on a switch as <strong>routed port</strong>, not Layer-2 port/Switchport any more. After that, you can assign an IP address on the routed port.</li></ul></blockquote> <hr> <p>Step 3. 在三层交换机上配置Default Route指向路由器</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222040055.png" alt="image-20230322204019886" style="zoom:35%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222041288.png" alt="image-20230322204133996" style="zoom:37%;"> <hr> <p>Step 4. 在三层交换机上创建 SVI, 配置IP地址并<code>no shutdown</code>;</p> <blockquote><h6 id="创建-svi-on-the-layer-3-switch"><a href="#创建-svi-on-the-layer-3-switch" class="header-anchor">#</a> 创建 SVI on the Layer-3 switch:</h6> <ol><li>确保 <code>SW(config)# ip routing</code>已经执行, 开启了 Layer-3 ip routing 功能</li> <li><code>SW(config)# interface vlan VLAN_ID</code>: 即可创建 SVI; 然后就可以指定 IP 地址了;</li> <li>默认SVI是 shutdwon 状态, 指定IP地址后, 需要执行 <code>SW(config-if)#no shutdown</code></li></ol></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303222042214.png" alt="image-20230322204246840" style="zoom:28%;"> <h3 id="vtp"><a href="#vtp" class="header-anchor">#</a> VTP</h3> <blockquote><ul><li><p>stands for (VLAN Trunking Protocol), <strong>Cisco proprietary protocol</strong> that allows you to configure VLANs on a central VTP server switch, and other switches (VTP clients) will synchronize their VLAN database to the server.</p></li> <li><p>The basic goals of VLAN Trunking Protocol (VTP) are to <strong>manage all configured VLANs across a switched internetwork and to maintain consistency</strong> throughout that network. VTP allows you to add, delete, and rename VLANs—information that is then propagated to all other switches in the VTP domain.</p></li> <li><p>There are three VTP versions: 1, 2, and 3.</p> <blockquote><p>VTP V2 is not much different than VTP V1. The major difference is that VTP V2 introduces support for Token Ring VLANs. If you use Token Ring VLANs, you must enable VTP V2. Otherwise, there is no reason to use VTP V2. <em>VTP V3 is beyond the scope of CCNA.</em></p></blockquote></li> <li><p>Note that VTP only syncs the VLAN database, VTP does not automatically assign interfaces to VLANs. You still have to configure the interfaces on each switch separately, for example <code>switchport access vlan 10</code>, etc.</p></li> <li><p>It is rarely used, and it is recommended that you do not use it.</p></li></ul></blockquote> <blockquote><p>Here’s a list of some of the <strong>cool features</strong> VTP has to offer:</p> <ul><li>Consistent VLAN configuration across all switches in the network;</li> <li>VLAN trunking over mixed networks, such as Ethernet to ATM LANE or even FDDI;</li> <li>Accurate tracking and monitoring of VLANs;</li> <li>Dynamic reporting of added VLANs to all switches in the VTP domain;</li> <li>Adding VLANs using Plug and Play(以即插即用的方式);</li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621195238427.png" alt="image-20220621195238427" style="zoom:40%;"> <blockquote><p>VTP(VLAN Trunking Protocol): (思科专有协议), 在多个交换机之间同步VLAN配置信息的协议,</p> <ul><li>通过一个共有的管理域, 维持所有交换机的VLAN配置(借助修订号 Configuration Revision number)的一致性;</li> <li>交换机间互相的接口要设置为Trunk mode, 即VTP只能在<em>Trunk Link</em>传播 VTP advertisement;</li> <li>支持混合的介质主干连接(Fast Ethernet, FDDI, ATM)</li></ul></blockquote> <h4 id="交换机的三种vtp模式"><a href="#交换机的三种vtp模式" class="header-anchor">#</a> 交换机的三种VTP模式</h4> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621195404942.png" alt="image-20220621195404942" style="zoom:40%;"> <blockquote><ul><li><p>==Server== mode:</p> <ul><li><strong>default</strong> mode for all Catalyst switches;</li> <li>at least one server exists in your VTP domain to <strong>propagate</strong> VLAN information throughout that domain;</li> <li><strong>can add/modify/delete</strong> VLANs;</li> <li>VLAN database <strong>stored in NV-RAM</strong>(Non-volatile RAM) on the switch.</li> <li>Will increase the <strong>revision number</strong> every time a VLAN is added/modified/deleted.</li> <li>Will advertise the latest version of the VLAN database on trunk interfaces, and the VTP clients will synchronize their VLAN database to it.</li> <li>VTP servers also function as <em>VTP clients</em>. Therefore, a VTP server will synchronize to another VTP server with a higher revision number.</li></ul></li> <li><p>==Client== mode:</p> <ul><li><p>receive and forward VTP advertisements;</p> <ul><li><p>Will synchronize their VLAN database to the server with the highest revision number in their VTP domain;</p></li> <li><p>Will advertise their VLAN database, and forward VTP advertisements to other clients over their trunk ports.</p></li></ul></li> <li><p><strong>can’t add/modify/delete</strong> VLANs.</p></li> <li><p>Do not store the VLAN database in NVRAM. (in VTPv3, they do)</p></li></ul></li> <li><p>==Transparent== mode:</p> <ul><li>don’t participate in the VTP domain or sync its VLAN database, but they’ll <strong>still forward VTP advertisements that are in the same domain as it</strong> through trunk ports.</li> <li><strong>can create/modify/delete</strong> VLANs because they keep their own database — one they keep secret from the other switches.</li> <li>Despite being kept in NVRAM, the VLAN database in transparent mode is actually only locally significant.</li> <li>The whole purpose of transparent mode is to <strong>allow remote switches to receive the VLAN database from a VTP server-configured switch through a switch that is not participating in the same VLAN assignments</strong>.</li></ul></li></ul></blockquote> <blockquote><p>Note:</p> <ul><li><strong>VTP version_1 &amp; version_2 only learns about normal-range VLANs, with VLAN IDs 1 to 1005</strong>; <em>VLANs with IDs greater than 1005 are called extended-range VLANs and they’re not stored in the VLAN database</em>.</li> <li>Changing the <strong>VTP domain</strong> to an <strong>unused domain</strong> will reset the revision number to 0.</li> <li>Changing the <strong>VTP mode to transparent</strong> will also reset the revision number to 0.</li> <li><strong>Remember, Switch in transparent mode within a different domain will NOT forward the VTP advertisements to other switches.</strong></li></ul></blockquote> <h4 id="vtp的运行模式"><a href="#vtp的运行模式" class="header-anchor">#</a> VTP的运行模式</h4> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621195839843.png" alt="image-20220621195839843" style="zoom:40%;"> <blockquote><p>多台交换机配置VTP，必须满足如下三项要求:</p> <ul><li>交换机的VTP domain name要相同;</li> <li>其中一台交换机要配置为VTP Server;(事实上，思科建议让所有交换机都处于VTP服务器模式)</li> <li>VTP password要一致(如果使用了的话)。</li></ul></blockquote> <h4 id="vtp的基本配置"><a href="#vtp的基本配置" class="header-anchor">#</a> VTP的基本配置</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># vtp version ?  # 1, 2, 3</span>
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># vtp mode ?</span>
  client       Set the device to client mode.
  off          Set the device to off mode.
  server       Set the device to server mode.
  transparent  Set the device to transparent mode.
  
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># vtp domain VTP域名    # 设置VTP域名</span>
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># vtp password VTP密码  # 可不配置VTP密码, 但是配置了的话, A switch will reject any VTP advertisement if the password doesn’t match.</span>


SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># vtp pruning</span>


SW1<span class="token comment"># show vtp password</span>
SW1<span class="token comment"># show vtp status   # 查看 VTP 的配置</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>==Tips==:</p> <ul><li>所有思科交换机默认的VTP模式是 Server;</li></ul> <ol start="2"><li>VTP的域名和密码均对大小写敏感;</li> <li>A switch will reject any VTP advertisement if the password doesn’t match.</li></ol> <ul><li>VTP pruning 默认是关闭的;</li> <li><strong>If a switch with no VTP domain (domain NULL) receives a VTP advertisement with a VTP domain name, it will automatically join that VTP domain.</strong></li> <li>If a switch receives a VTP advertisement in the same VTP domain with a higher revision number, it will update it's VLAN database to match.</li></ul> <blockquote><h6 id="one-danger-of-vtp"><a href="#one-danger-of-vtp" class="header-anchor">#</a> One danger of VTP:</h6> <ul><li>If you connect an <em>old switch with a higher revision number</em> to your network (and <em>the VTP domain name matches</em>), all switches in the domain will sync their VLAN database to that switch, which could cause all of the hosts on your network to instantly lose connectivity.</li></ul> <p><strong>This is one reason why VTP is usually not used in modern networks.</strong></p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303232334911.png" alt="image-20230323233433569" style="zoom:30%;"> <ul><li><p>if you’re going to plug an old switch with a high revision number into a network, that uses VTP, make sure to reset the revision number with one of these methods first:</p> <ul><li><p>Changing the <strong>VTP domain</strong> to an unused domain will reset the revision number to 0.</p></li> <li><p>Changing the <strong>VTP mode to transparent</strong> will also reset the revision number to 0.</p></li></ul> <p>After that, change it back to the same VTP domain OR VTP mode into Client</p></li></ul></blockquote></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R2<span class="token comment">#show vtp status</span>
VTP Version capable             <span class="token builtin class-name">:</span> <span class="token number">1</span> to <span class="token number">3</span>
VTP version running             <span class="token builtin class-name">:</span> <span class="token number">1</span>
VTP Domain Name                 <span class="token builtin class-name">:</span> CCNA-1
VTP Pruning Mode                <span class="token builtin class-name">:</span> Disabled
VTP Traps Generation            <span class="token builtin class-name">:</span> Disabled
Device ID                       <span class="token builtin class-name">:</span> aabb.cc80.2000
Configuration last modified by <span class="token number">0.0</span>.0.0 at <span class="token number">6</span>-21-22 <span class="token number">21</span>:17:01

Feature VLAN:
--------------
VTP Operating Mode                <span class="token builtin class-name">:</span> Server
Maximum VLANs supported locally   <span class="token builtin class-name">:</span> <span class="token number">1005</span>  <span class="token comment"># VTP version 1 &amp; 2 don't support Extended VLAN range(1006~4094)</span>
Number of existing VLANs          <span class="token builtin class-name">:</span> <span class="token number">15</span>
Configuration Revision            <span class="token builtin class-name">:</span> <span class="token number">5</span>     <span class="token comment"># 此为 修订号</span>
MD5 digest                        <span class="token builtin class-name">:</span> 0x1F 0x23 0x1C 0x58 0xCB 0xA7 0x43 0x03 
                                    0x6F 0x6E 0x10 0x54 0x1E 0x91 0xAC 0xEC 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="vtp-pruning"><a href="#vtp-pruning" class="header-anchor">#</a> VTP pruning</h4> <blockquote><ul><li>默认情况下，所有 VLAN的数据流 都可通过Trunk Link进行传输;</li> <li>VTP Pruning可以自动修剪开不参与VLAN配置同步的交换机链路; VTP gives you a way to preserve bandwidth by configuring it to reduce the amount of broadcasts, multicasts, and unicast packets. This is called <strong>pruning</strong>. Switches enabled for VTP pruning send broadcasts only to <em>trunk links</em> that actually must have the information.</li> <li>默认情况下，所有交换机都禁用了VTP修剪; 在VTP服务器上启用修剪后，将在整个VTP域中启用它。</li> <li>默认情况下，修剪将用于VLAN 2 ~ 1001, 但对VLAN 1不会修剪，因为它是一个默认的 Native VLAN.</li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220621232836287.png" alt="image-20220621232836287" style="zoom:50%;"> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>SW1<span class="token comment">#config t</span>
SW1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int f0/1</span>
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk ?</span>
    allowed Set allowed VLAN characteristics when interface is
    <span class="token keyword">in</span> trunking mode
    native Set trunking native characteristics when interface
    is <span class="token keyword">in</span> trunking mode
    pruning Set pruning VLAN characteristics when interface is
    <span class="token keyword">in</span> trunking mode
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk pruning ?</span>
    vlan Set VLANs enabled <span class="token keyword">for</span> pruning when interface is <span class="token keyword">in</span> trunking mode
SW1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#switchport trunk pruning vlan 3-4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io/edit/main/docs/40.网络运维/05.CCNA/10.CCNA知识笔记/10.Switching_VLAN.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">last Updated:</span> <span class="time">2023/06/08, 22:42:49</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/9876fd/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Cisco IOS CLI</div></a> <a href="/pages/778234/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Switching_STP</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/9876fd/" class="prev">Cisco IOS CLI</a></span> <span class="next"><a href="/pages/778234/">Switching_STP</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/32db2d/"><div>
            Layer 3 Forwarding
            <!----></div></a> <span class="date">06-07</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/6b8f16/"><div>
            Layer 2 Forwarding
            <!----></div></a> <span class="date">06-06</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/fe5ceb/"><div>
            Virtual Routing and Forwarding
            <!----></div></a> <span class="date">05-16</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/Jonas-Wolfxin" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/Jonas-Wolfxin" title="Gitee" target="_blank" class="iconfont icon-gitee"></a><a href="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202206100005451.jpg" title="Wechat: @Jonas_Wolfxin" target="_blank" class="iconfont icon-weixin"></a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=1914303043&amp;site=qq&amp;menu=yes" title="QQ: 1914303043" target="_blank" class="iconfont icon-QQ"></a><a href="mailto:wolfxin@outlook.com" title="联系我" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2023
    <span>Jonas Wolfxin's Blog</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div><div></div><div></div><!----><!----><APlayer audio="" fixed="true" mini="true" theme="#b7daff" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div></div></div></div>
    <script src="/assets/js/app.d858ddbb.js" defer></script><script src="/assets/js/2.309e711a.js" defer></script><script src="/assets/js/133.c996494c.js" defer></script><script src="/assets/js/16.acd3428d.js" defer></script><script src="/assets/js/8.5b4b6c67.js" defer></script><script src="/assets/js/10.58f97cc7.js" defer></script><script src="/assets/js/17.0b7a5267.js" defer></script>
  </body>
</html>
