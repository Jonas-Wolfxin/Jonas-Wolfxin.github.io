<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>IP Addressing | Jonas Wolfxin Blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <noscript><meta http-equiv="refresh" content="0; url=https://www.youngkbt.cn/noscript/"><style>.theme-vdoing-content { display:none }</noscript>
    <script>var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?267c5680c2ffb468ca29c45ffe6801da"; 
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
          })();
          </script>
    <meta name="description" content="Jonas Wolfxin个人博客, VuePress搭建, 使用了 Vdoing 主题, 学习Java, Web, 框架, 微服务, 工具, 前端等相关知识, 记录生活和技术路程, 同时分享编程技巧。">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="Jonas Wolfxin个人博客, VuePress搭建, 学习Java、Web、框架、微服务、工具、前端等相关知识, 记录生活和技术路程。">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.7d3fc896.css" as="style"><link rel="preload" href="/assets/js/app.d858ddbb.js" as="script"><link rel="preload" href="/assets/js/2.309e711a.js" as="script"><link rel="preload" href="/assets/js/129.1abfd9a0.js" as="script"><link rel="preload" href="/assets/js/16.acd3428d.js" as="script"><link rel="preload" href="/assets/js/8.5b4b6c67.js" as="script"><link rel="preload" href="/assets/js/10.58f97cc7.js" as="script"><link rel="preload" href="/assets/js/17.0b7a5267.js" as="script"><link rel="prefetch" href="/assets/js/100.a245150c.js"><link rel="prefetch" href="/assets/js/101.dc21b366.js"><link rel="prefetch" href="/assets/js/102.d5a6dfd2.js"><link rel="prefetch" href="/assets/js/103.7675e438.js"><link rel="prefetch" href="/assets/js/104.08bff44e.js"><link rel="prefetch" href="/assets/js/105.8bf552ad.js"><link rel="prefetch" href="/assets/js/106.b3388dcc.js"><link rel="prefetch" href="/assets/js/107.708d16a8.js"><link rel="prefetch" href="/assets/js/108.8d67c3a1.js"><link rel="prefetch" href="/assets/js/109.adb072ef.js"><link rel="prefetch" href="/assets/js/11.1cff9f55.js"><link rel="prefetch" href="/assets/js/110.6a33e945.js"><link rel="prefetch" href="/assets/js/111.5b6daef7.js"><link rel="prefetch" href="/assets/js/112.30fa856b.js"><link rel="prefetch" href="/assets/js/113.2bea19a6.js"><link rel="prefetch" href="/assets/js/114.78693b98.js"><link rel="prefetch" href="/assets/js/115.24b2f36f.js"><link rel="prefetch" href="/assets/js/116.121c60d7.js"><link rel="prefetch" href="/assets/js/117.c2a343f1.js"><link rel="prefetch" href="/assets/js/118.4f472067.js"><link rel="prefetch" href="/assets/js/119.24255046.js"><link rel="prefetch" href="/assets/js/12.bca3c221.js"><link rel="prefetch" href="/assets/js/120.c049d4ee.js"><link rel="prefetch" href="/assets/js/121.27c7097d.js"><link rel="prefetch" href="/assets/js/122.89ae0c7e.js"><link rel="prefetch" href="/assets/js/123.92ff168d.js"><link rel="prefetch" href="/assets/js/124.42567e10.js"><link rel="prefetch" href="/assets/js/125.3bd92459.js"><link rel="prefetch" href="/assets/js/126.ce3b5ff1.js"><link rel="prefetch" href="/assets/js/127.62073e16.js"><link rel="prefetch" href="/assets/js/128.1e61e62d.js"><link rel="prefetch" href="/assets/js/13.fd509ce7.js"><link rel="prefetch" href="/assets/js/130.fd10656f.js"><link rel="prefetch" href="/assets/js/131.739a70c7.js"><link rel="prefetch" href="/assets/js/132.aead2e49.js"><link rel="prefetch" href="/assets/js/133.c996494c.js"><link rel="prefetch" href="/assets/js/134.3f032f05.js"><link rel="prefetch" href="/assets/js/135.c35c5612.js"><link rel="prefetch" href="/assets/js/136.b1a52d43.js"><link rel="prefetch" href="/assets/js/137.f6c998f0.js"><link rel="prefetch" href="/assets/js/138.5165a511.js"><link rel="prefetch" href="/assets/js/139.84e0898b.js"><link rel="prefetch" href="/assets/js/14.9a0c9450.js"><link rel="prefetch" href="/assets/js/140.f85c3c58.js"><link rel="prefetch" href="/assets/js/141.1b18b352.js"><link rel="prefetch" href="/assets/js/142.61b694c2.js"><link rel="prefetch" href="/assets/js/143.ca56fc45.js"><link rel="prefetch" href="/assets/js/144.634fc96a.js"><link rel="prefetch" href="/assets/js/145.7db28ded.js"><link rel="prefetch" href="/assets/js/146.0e801c74.js"><link rel="prefetch" href="/assets/js/147.26faa263.js"><link rel="prefetch" href="/assets/js/148.927832d5.js"><link rel="prefetch" href="/assets/js/149.8755eb42.js"><link rel="prefetch" href="/assets/js/15.d3755cc5.js"><link rel="prefetch" href="/assets/js/150.906609e5.js"><link rel="prefetch" href="/assets/js/151.7a52439b.js"><link rel="prefetch" href="/assets/js/152.c822b1fb.js"><link rel="prefetch" href="/assets/js/153.593575cc.js"><link rel="prefetch" href="/assets/js/154.2a16d8e7.js"><link rel="prefetch" href="/assets/js/155.6a18c733.js"><link rel="prefetch" href="/assets/js/156.bb65d909.js"><link rel="prefetch" href="/assets/js/157.862f6419.js"><link rel="prefetch" href="/assets/js/158.db76ed26.js"><link rel="prefetch" href="/assets/js/159.0f0b1ee8.js"><link rel="prefetch" href="/assets/js/160.8f421d08.js"><link rel="prefetch" href="/assets/js/161.4a521888.js"><link rel="prefetch" href="/assets/js/162.601dbfca.js"><link rel="prefetch" href="/assets/js/163.d76b166d.js"><link rel="prefetch" href="/assets/js/164.99b00d17.js"><link rel="prefetch" href="/assets/js/165.7809f82c.js"><link rel="prefetch" href="/assets/js/166.b29e508c.js"><link rel="prefetch" href="/assets/js/167.71af6bb1.js"><link rel="prefetch" href="/assets/js/168.aad10cfc.js"><link rel="prefetch" href="/assets/js/169.d807fd76.js"><link rel="prefetch" href="/assets/js/170.8cd1462a.js"><link rel="prefetch" href="/assets/js/171.ecbf63cf.js"><link rel="prefetch" href="/assets/js/172.e75cd345.js"><link rel="prefetch" href="/assets/js/173.1ab612d0.js"><link rel="prefetch" href="/assets/js/174.2366c5d2.js"><link rel="prefetch" href="/assets/js/175.50c5731b.js"><link rel="prefetch" href="/assets/js/176.ac8ad112.js"><link rel="prefetch" href="/assets/js/177.1abcf5d4.js"><link rel="prefetch" href="/assets/js/178.b937dacc.js"><link rel="prefetch" href="/assets/js/179.b6fa0b6d.js"><link rel="prefetch" href="/assets/js/18.64b7e666.js"><link rel="prefetch" href="/assets/js/180.e4a8bc36.js"><link rel="prefetch" href="/assets/js/181.b916da57.js"><link rel="prefetch" href="/assets/js/182.27a2bdb4.js"><link rel="prefetch" href="/assets/js/183.dcb4d635.js"><link rel="prefetch" href="/assets/js/184.820c8f5f.js"><link rel="prefetch" href="/assets/js/185.6654f558.js"><link rel="prefetch" href="/assets/js/186.2749179c.js"><link rel="prefetch" href="/assets/js/187.a301fd95.js"><link rel="prefetch" href="/assets/js/188.3a9e3226.js"><link rel="prefetch" href="/assets/js/189.5f2b0e83.js"><link rel="prefetch" href="/assets/js/19.7a102d25.js"><link rel="prefetch" href="/assets/js/190.76dc6e42.js"><link rel="prefetch" href="/assets/js/191.b6c01ef6.js"><link rel="prefetch" href="/assets/js/192.bd87e976.js"><link rel="prefetch" href="/assets/js/193.e3b20021.js"><link rel="prefetch" href="/assets/js/194.d83d205c.js"><link rel="prefetch" href="/assets/js/195.e53e330d.js"><link rel="prefetch" href="/assets/js/196.1fd35397.js"><link rel="prefetch" href="/assets/js/197.cb0858f8.js"><link rel="prefetch" href="/assets/js/198.651004c0.js"><link rel="prefetch" href="/assets/js/199.4a4a16ae.js"><link rel="prefetch" href="/assets/js/20.2e6fe8d4.js"><link rel="prefetch" href="/assets/js/200.0347a232.js"><link rel="prefetch" href="/assets/js/201.77c9f572.js"><link rel="prefetch" href="/assets/js/202.6f66fc82.js"><link rel="prefetch" href="/assets/js/203.c12f2fd1.js"><link rel="prefetch" href="/assets/js/204.0b74eb4e.js"><link rel="prefetch" href="/assets/js/205.82129b16.js"><link rel="prefetch" href="/assets/js/206.0240cea0.js"><link rel="prefetch" href="/assets/js/207.d2d2dd99.js"><link rel="prefetch" href="/assets/js/208.f1073a08.js"><link rel="prefetch" href="/assets/js/209.3b1e4cbe.js"><link rel="prefetch" href="/assets/js/21.179bedf0.js"><link rel="prefetch" href="/assets/js/210.b8b67413.js"><link rel="prefetch" href="/assets/js/211.455c8e40.js"><link rel="prefetch" href="/assets/js/212.8735e669.js"><link rel="prefetch" href="/assets/js/213.f77fefc5.js"><link rel="prefetch" href="/assets/js/214.97d827be.js"><link rel="prefetch" href="/assets/js/215.bc08fe35.js"><link rel="prefetch" href="/assets/js/216.fa811698.js"><link rel="prefetch" href="/assets/js/217.b965b7c6.js"><link rel="prefetch" href="/assets/js/218.6a91db8b.js"><link rel="prefetch" href="/assets/js/219.fb3d8166.js"><link rel="prefetch" href="/assets/js/22.8268ce6e.js"><link rel="prefetch" href="/assets/js/220.1577cda2.js"><link rel="prefetch" href="/assets/js/221.ceea7cea.js"><link rel="prefetch" href="/assets/js/222.3985b121.js"><link rel="prefetch" href="/assets/js/223.40f0edd0.js"><link rel="prefetch" href="/assets/js/224.bcdfffa8.js"><link rel="prefetch" href="/assets/js/225.13252b88.js"><link rel="prefetch" href="/assets/js/226.2afd6de5.js"><link rel="prefetch" href="/assets/js/227.39e5b8f1.js"><link rel="prefetch" href="/assets/js/228.f24cb5b5.js"><link rel="prefetch" href="/assets/js/229.582f76a9.js"><link rel="prefetch" href="/assets/js/23.3b76f2ef.js"><link rel="prefetch" href="/assets/js/230.50a93474.js"><link rel="prefetch" href="/assets/js/231.063e02af.js"><link rel="prefetch" href="/assets/js/232.08153e5d.js"><link rel="prefetch" href="/assets/js/233.e8a2f480.js"><link rel="prefetch" href="/assets/js/234.4e784ee0.js"><link rel="prefetch" href="/assets/js/235.fe1262b2.js"><link rel="prefetch" href="/assets/js/236.5b6a52cf.js"><link rel="prefetch" href="/assets/js/237.36fae37d.js"><link rel="prefetch" href="/assets/js/238.7369ac7a.js"><link rel="prefetch" href="/assets/js/239.7fff287f.js"><link rel="prefetch" href="/assets/js/24.7c6b119c.js"><link rel="prefetch" href="/assets/js/240.96b67d8a.js"><link rel="prefetch" href="/assets/js/241.6cca43be.js"><link rel="prefetch" href="/assets/js/242.063840f3.js"><link rel="prefetch" href="/assets/js/243.e25e2acc.js"><link rel="prefetch" href="/assets/js/244.6058b76a.js"><link rel="prefetch" href="/assets/js/245.cab0cb5f.js"><link rel="prefetch" href="/assets/js/246.38dba8a1.js"><link rel="prefetch" href="/assets/js/247.58a45597.js"><link rel="prefetch" href="/assets/js/248.5cf1ad4c.js"><link rel="prefetch" href="/assets/js/249.691356bb.js"><link rel="prefetch" href="/assets/js/25.02fab98f.js"><link rel="prefetch" href="/assets/js/250.e2c83a35.js"><link rel="prefetch" href="/assets/js/251.80aa06df.js"><link rel="prefetch" href="/assets/js/252.a3e269d1.js"><link rel="prefetch" href="/assets/js/253.d11f6725.js"><link rel="prefetch" href="/assets/js/26.76ffb425.js"><link rel="prefetch" href="/assets/js/27.ce24313c.js"><link rel="prefetch" href="/assets/js/28.d8dbc96b.js"><link rel="prefetch" href="/assets/js/29.2b3bed04.js"><link rel="prefetch" href="/assets/js/3.d6952836.js"><link rel="prefetch" href="/assets/js/30.26988c7b.js"><link rel="prefetch" href="/assets/js/31.cc5781e4.js"><link rel="prefetch" href="/assets/js/32.80d8b83b.js"><link rel="prefetch" href="/assets/js/33.d97c7068.js"><link rel="prefetch" href="/assets/js/34.962f9100.js"><link rel="prefetch" href="/assets/js/35.23d8a044.js"><link rel="prefetch" href="/assets/js/36.6d349d82.js"><link rel="prefetch" href="/assets/js/37.b08f29c8.js"><link rel="prefetch" href="/assets/js/38.8b2bd27d.js"><link rel="prefetch" href="/assets/js/39.45a0b016.js"><link rel="prefetch" href="/assets/js/4.8b22777d.js"><link rel="prefetch" href="/assets/js/40.e6f6cb43.js"><link rel="prefetch" href="/assets/js/41.c756e119.js"><link rel="prefetch" href="/assets/js/42.bbc17b0f.js"><link rel="prefetch" href="/assets/js/43.8e0ce4ca.js"><link rel="prefetch" href="/assets/js/44.b91517af.js"><link rel="prefetch" href="/assets/js/45.416dfe4d.js"><link rel="prefetch" href="/assets/js/46.c00eeb87.js"><link rel="prefetch" href="/assets/js/47.29d200b3.js"><link rel="prefetch" href="/assets/js/48.7f066ab6.js"><link rel="prefetch" href="/assets/js/49.0e010fee.js"><link rel="prefetch" href="/assets/js/5.e6781b57.js"><link rel="prefetch" href="/assets/js/50.1bb477d0.js"><link rel="prefetch" href="/assets/js/51.66468406.js"><link rel="prefetch" href="/assets/js/52.5cf7fbd0.js"><link rel="prefetch" href="/assets/js/53.d6f04354.js"><link rel="prefetch" href="/assets/js/54.59ca865c.js"><link rel="prefetch" href="/assets/js/55.fb0ad69c.js"><link rel="prefetch" href="/assets/js/56.c47a2d12.js"><link rel="prefetch" href="/assets/js/57.f5d65bb3.js"><link rel="prefetch" href="/assets/js/58.c5761ef2.js"><link rel="prefetch" href="/assets/js/59.9fe56073.js"><link rel="prefetch" href="/assets/js/6.9b07e200.js"><link rel="prefetch" href="/assets/js/60.ee1a5c93.js"><link rel="prefetch" href="/assets/js/61.ed5a91fd.js"><link rel="prefetch" href="/assets/js/62.4c69d23d.js"><link rel="prefetch" href="/assets/js/63.a396c29b.js"><link rel="prefetch" href="/assets/js/64.6f39dd9c.js"><link rel="prefetch" href="/assets/js/65.4cb24e13.js"><link rel="prefetch" href="/assets/js/66.aad4aa20.js"><link rel="prefetch" href="/assets/js/67.36e86f95.js"><link rel="prefetch" href="/assets/js/68.cbcfb2e0.js"><link rel="prefetch" href="/assets/js/69.8f5b0c08.js"><link rel="prefetch" href="/assets/js/7.4d64b8e6.js"><link rel="prefetch" href="/assets/js/70.1e7d144f.js"><link rel="prefetch" href="/assets/js/71.77fb0b43.js"><link rel="prefetch" href="/assets/js/72.bf3bb5b9.js"><link rel="prefetch" href="/assets/js/73.e059a41d.js"><link rel="prefetch" href="/assets/js/74.cae09eb3.js"><link rel="prefetch" href="/assets/js/75.f89a6d2e.js"><link rel="prefetch" href="/assets/js/76.cfb3df08.js"><link rel="prefetch" href="/assets/js/77.f4fa62e6.js"><link rel="prefetch" href="/assets/js/78.464e83f6.js"><link rel="prefetch" href="/assets/js/79.71895252.js"><link rel="prefetch" href="/assets/js/80.58d501fe.js"><link rel="prefetch" href="/assets/js/81.948adca1.js"><link rel="prefetch" href="/assets/js/82.bfd7ff16.js"><link rel="prefetch" href="/assets/js/83.3920a558.js"><link rel="prefetch" href="/assets/js/84.d5b9372a.js"><link rel="prefetch" href="/assets/js/85.3be0afac.js"><link rel="prefetch" href="/assets/js/86.29f7272d.js"><link rel="prefetch" href="/assets/js/87.93a0bc8e.js"><link rel="prefetch" href="/assets/js/88.5be81cc2.js"><link rel="prefetch" href="/assets/js/89.bc9cad5d.js"><link rel="prefetch" href="/assets/js/9.dc7a3982.js"><link rel="prefetch" href="/assets/js/90.5ba7972c.js"><link rel="prefetch" href="/assets/js/91.6ca92166.js"><link rel="prefetch" href="/assets/js/92.cb997f9f.js"><link rel="prefetch" href="/assets/js/93.941f52c6.js"><link rel="prefetch" href="/assets/js/94.c34116e0.js"><link rel="prefetch" href="/assets/js/95.0aa6895c.js"><link rel="prefetch" href="/assets/js/96.fd230ec0.js"><link rel="prefetch" href="/assets/js/97.375c63c2.js"><link rel="prefetch" href="/assets/js/98.5f4889ea.js"><link rel="prefetch" href="/assets/js/99.476bd54f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7d3fc896.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/index/logo.png" alt="Jonas Wolfxin Blog" class="logo"> <span class="site-name can-hide">Jonas Wolfxin Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home🏠</a></div><div class="nav-item"><a href="/navigation/" class="nav-link">Navigation🧭</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><a href="/front/" class="link-title">Front End</a> <span class="title" style="display:none;">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Basics</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>Frame</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/vue2/" class="nav-link">Vue2</a></li><li class="dropdown-subitem"><a href="/vue3/" class="nav-link">Vue3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Database" class="dropdown-title"><a href="/database/" class="link-title">Database</a> <span class="title" style="display:none;">Database</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/postgresql/" class="nav-link">PostgreSQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/es/" class="nav-link">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/mongodb/" class="nav-link">MongoDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/pythonstrdy/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python_basics/" class="nav-link">Python Basics</a></li><li class="dropdown-item"><!----> <a href="/python_advanced/" class="nav-link">Python Advanced</a></li><li class="dropdown-item"><!----> <a href="/python_projects/" class="nav-link">Python Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络运维" class="dropdown-title"><a href="/tool/" class="link-title">网络运维</a> <span class="title" style="display:none;">网络运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>CCNA</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/91ab17/" class="nav-link">CCNA知识</a></li><li class="dropdown-subitem"><a href="/pages/55766c/" class="nav-link">CCNA题库</a></li><li class="dropdown-subitem"><a href="/pages/f61749/" class="nav-link">Cisco NetAca</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/4f0673/" class="nav-link">Ansible</a></li><li class="dropdown-item"><h4>版本管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/docker/" class="nav-link">Docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><a href="/archives/" class="link-title">About</a> <span class="title" style="display:none;">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>This Blog</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">Archives</a></li></ul></li><li class="dropdown-item"><h4>About Me</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whell/web/" class="nav-link">Collection</a></li><li class="dropdown-subitem"><a href="/about/website/introduce/" class="nav-link">Introduction</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="星河万里" class="dropdown-title"><a href="/inGermany/" class="link-title">星河万里</a> <span class="title" style="display:none;">星河万里</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>德国驾照B级</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8a9dd0/" class="nav-link">理论准备</a></li><li class="dropdown-subitem"><a href="/pages/b79ef5/" class="nav-link">实践准备</a></li></ul></li><li class="dropdown-item"><h4>星河万里</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/bcf060/" class="nav-link">Vim操作</a></li><li class="dropdown-subitem"><a href="/pages/c11fcf/" class="nav-link">Gitemoji</a></li><li class="dropdown-subitem"><a href="/pages/055f2e/" class="nav-link">无妄经</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/message-board/" class="nav-link">MessageBoard📋</a></div> <a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202206092309359.png"> <div class="blogger-info"><h3>Jonas 林风</h3> <span>吾志所向，万夫不当；披荆斩棘，奋而继往。</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home🏠</a></div><div class="nav-item"><a href="/navigation/" class="nav-link">Navigation🧭</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><a href="/front/" class="link-title">Front End</a> <span class="title" style="display:none;">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Basics</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>Frame</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/vue2/" class="nav-link">Vue2</a></li><li class="dropdown-subitem"><a href="/vue3/" class="nav-link">Vue3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Database" class="dropdown-title"><a href="/database/" class="link-title">Database</a> <span class="title" style="display:none;">Database</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/postgresql/" class="nav-link">PostgreSQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/es/" class="nav-link">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/mongodb/" class="nav-link">MongoDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/pythonstrdy/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python_basics/" class="nav-link">Python Basics</a></li><li class="dropdown-item"><!----> <a href="/python_advanced/" class="nav-link">Python Advanced</a></li><li class="dropdown-item"><!----> <a href="/python_projects/" class="nav-link">Python Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络运维" class="dropdown-title"><a href="/tool/" class="link-title">网络运维</a> <span class="title" style="display:none;">网络运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>CCNA</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/91ab17/" class="nav-link">CCNA知识</a></li><li class="dropdown-subitem"><a href="/pages/55766c/" class="nav-link">CCNA题库</a></li><li class="dropdown-subitem"><a href="/pages/f61749/" class="nav-link">Cisco NetAca</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/4f0673/" class="nav-link">Ansible</a></li><li class="dropdown-item"><h4>版本管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/docker/" class="nav-link">Docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About" class="dropdown-title"><a href="/archives/" class="link-title">About</a> <span class="title" style="display:none;">About</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>This Blog</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">Archives</a></li></ul></li><li class="dropdown-item"><h4>About Me</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whell/web/" class="nav-link">Collection</a></li><li class="dropdown-subitem"><a href="/about/website/introduce/" class="nav-link">Introduction</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="星河万里" class="dropdown-title"><a href="/inGermany/" class="link-title">星河万里</a> <span class="title" style="display:none;">星河万里</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>德国驾照B级</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8a9dd0/" class="nav-link">理论准备</a></li><li class="dropdown-subitem"><a href="/pages/b79ef5/" class="nav-link">实践准备</a></li></ul></li><li class="dropdown-item"><h4>星河万里</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/bcf060/" class="nav-link">Vim操作</a></li><li class="dropdown-subitem"><a href="/pages/c11fcf/" class="nav-link">Gitemoji</a></li><li class="dropdown-subitem"><a href="/pages/055f2e/" class="nav-link">无妄经</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/message-board/" class="nav-link">MessageBoard📋</a></div> <a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>CCNA</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>CCNA知识笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1634eb/" class="sidebar-link">网络工程师的介绍</a></li><li><a href="/pages/91ab17/" class="sidebar-link">OSI Model</a></li><li><a href="/pages/68df0c/" aria-current="page" class="active sidebar-link">IP Addressing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/68df0c/#ipv4-addressing" class="sidebar-link">IPv4 Addressing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#ipv4-classes" class="sidebar-link">IPv4 Classes</a></li><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#ipv4-地址类型" class="sidebar-link">IPv4 地址类型</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#broadcast" class="sidebar-link">Broadcast</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#unicast" class="sidebar-link">Unicast</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#multi-cast" class="sidebar-link">Multi-cast</a></li><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#subnet-mask" class="sidebar-link">Subnet Mask</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#examples" class="sidebar-link">Examples</a></li><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#cidr" class="sidebar-link">CIDR</a></li><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#vlsm" class="sidebar-link">VLSM</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#vlsm-steps" class="sidebar-link">VLSM-Steps:</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#lab-练习" class="sidebar-link">Lab 练习</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#additional-practice" class="sidebar-link">Additional Practice</a></li><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#路由汇总" class="sidebar-link">路由汇总</a></li><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#configure-ip-address" class="sidebar-link">Configure IP address</a></li><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#排除-ip编址故障" class="sidebar-link">排除 IP编址故障</a></li><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#how-are-ipv4-addresses-assigned" class="sidebar-link">How are IPv4 addresses assigned?</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/68df0c/#ipv6-addressing" class="sidebar-link">IPv6 Addressing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#shorting-abbreviating-ipv6-addresses" class="sidebar-link">Shorting(abbreviating) IPv6 addresses:</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#finding-the-ipv6-prefix" class="sidebar-link">Finding the IPv6 prefix</a></li><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#ipv6的分类" class="sidebar-link">IPv6的分类</a></li><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#ndp" class="sidebar-link">NDP</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#solicited-node-multicast-address" class="sidebar-link">Solicited-Node Multicast Address</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#neighbor-discovery-protocol" class="sidebar-link">Neighbor Discovery Protocol</a></li><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#ipv6配置方式" class="sidebar-link">IPv6配置方式</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#手动配置ipv6" class="sidebar-link">手动配置IPv6</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#slaac" class="sidebar-link">SLAAC</a></li><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#ipv6-static-routing" class="sidebar-link">IPv6 Static Routing</a></li><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#ipv6-dynamic-routing-protocols" class="sidebar-link">IPv6 Dynamic Routing protocols</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#ripng" class="sidebar-link">RIPng</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#eigrpv6" class="sidebar-link">EIGRPv6</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#ospfv3" class="sidebar-link">OSPFv3</a></li><li class="sidebar-sub-header level3"><a href="/pages/68df0c/#ipv4-迁移到-ipv6" class="sidebar-link">IPv4 迁移到 IPv6</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#dual-stack双栈技术-isatap" class="sidebar-link">dual-stack双栈技术(ISATAP)</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#_6to4-隧道技术" class="sidebar-link">6to4 隧道技术</a></li><li class="sidebar-sub-header level4"><a href="/pages/68df0c/#nat-pt-转换技术" class="sidebar-link">NAT-PT 转换技术</a></li></ul></li></ul></li><li><a href="/pages/0cd5e5/" class="sidebar-link">TCP/IP Suite</a></li><li><a href="/pages/32e4ca/" class="sidebar-link">Comparison-TCP Vs UDP</a></li><li><a href="/pages/9876fd/" class="sidebar-link">Cisco IOS CLI</a></li><li><a href="/pages/fabc03/" class="sidebar-link">Switching_VLAN</a></li><li><a href="/pages/778234/" class="sidebar-link">Switching_STP</a></li><li><a href="/pages/85147b/" class="sidebar-link">Switching_EtherChannel</a></li><li><a href="/pages/087c56/" class="sidebar-link">Layer 2 Discovery Protocols</a></li><li><a href="/pages/6b8f16/" class="sidebar-link">Layer 2 Forwarding</a></li><li><a href="/pages/149f35/" class="sidebar-link">Routing_Static</a></li><li><a href="/pages/d70851/" class="sidebar-link">Dynamic Routing P1 RIP EIGRP</a></li><li><a href="/pages/c4055c/" class="sidebar-link">Dynamic Routing P2 OSPF</a></li><li><a href="/pages/32db2d/" class="sidebar-link">Layer 3 Forwarding</a></li><li><a href="/pages/fe5ceb/" class="sidebar-link">Virtual Routing and Forwarding</a></li><li><a href="/pages/bada2c/" class="sidebar-link">Layer 3 FHRPs</a></li><li><a href="/pages/81e45f/" class="sidebar-link">Security</a></li><li><a href="/pages/6bd28d/" class="sidebar-link">ACL</a></li><li><a href="/pages/7db05a/" class="sidebar-link">NAT 网络地址转换</a></li><li><a href="/pages/729891/" class="sidebar-link">LAN Architectures</a></li><li><a href="/pages/1076ba/" class="sidebar-link">WAN广域网</a></li><li><a href="/pages/441d7d/" class="sidebar-link">WLAN</a></li><li><a href="/pages/e31696/" class="sidebar-link">NTP</a></li><li><a href="/pages/c7a0a2/" class="sidebar-link">DNS</a></li><li><a href="/pages/d25cf6/" class="sidebar-link">Syslog</a></li><li><a href="/pages/c74f1d/" class="sidebar-link">Accessing the CLI of network devices</a></li><li><a href="/pages/5d3322/" class="sidebar-link">FTP TFTP</a></li><li><a href="/pages/e049f9/" class="sidebar-link">DHCP</a></li><li><a href="/pages/7ebd2e/" class="sidebar-link">SNMP</a></li><li><a href="/pages/bba118/" class="sidebar-link">Quality of service</a></li><li><a href="/pages/652496/" class="sidebar-link">Virtualization</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>CCNA题库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Cisco Networking Academy</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ansible</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>版本管理 - Maven</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开发管理 - Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>操作系统 - Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>容器部署 - Docker</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E7%BD%91%E7%BB%9C%E8%BF%90%E7%BB%B4" title="分类" data-v-06225672>网络运维</a></li><li data-v-06225672><a href="/categories/?category=CCNA" title="分类" data-v-06225672>CCNA</a></li><li data-v-06225672><a href="/categories/?category=CCNA%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B0" title="分类" data-v-06225672>CCNA知识笔记</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/Jonas-Wolfxin" target="_blank" title="作者" class="beLink" data-v-06225672>Jonas Wolfxin</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-03-31</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">IP Addressing<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="ip-addressing"><a href="#ip-addressing" class="header-anchor">#</a> IP Addressing</h1> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325549.png" alt="image-20220623091803068" style="zoom:60%;"> <h2 id="ipv4-addressing"><a href="#ipv4-addressing" class="header-anchor">#</a> IPv4 Addressing</h2> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325646.png" alt="image-20220623095637294" style="zoom:80%;"> <ul><li><p>IPv4 address 表示为 <strong>binary notation</strong>时的长度为 32bits（4个Byte, 或者 Octet）, 由于便于可读性, 一般表示为 <strong>dotted decimal notation</strong>。IPv4地址由<strong>Network portion</strong>和<strong>Host Portion</strong>组成，这取决于子网掩码(<strong>netmasks</strong> or <strong>prefix length</strong>)，可定义各种地址类：A、B、C、D 或 E。</p></li> <li><p>IPv4 地址的总数为 4 294 967 296, 即 2^32^ = 42.9亿 = 4.3 * 10^9^.</p></li></ul> <h3 id="ipv4-classes"><a href="#ipv4-classes" class="header-anchor">#</a> IPv4 Classes</h3> <blockquote><p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325018.jpeg" alt="preview"></p> <ul><li><p><strong>A类 IP/8</strong>(<em>A类IP地址的首个二进制位必须是0开头: 1~126</em>):</p> <ul><li><p>起始: (<strong>0</strong>000 0001).0.0.1   --&gt; 十进制: <code>1.0.0.1/8</code></p></li> <li><p>终止: (0111 1110).255.255.254  --&gt; 十进制: <code>126.255.255.254/8</code></p></li> <li><p>最大网络数: <strong>2^7^ -2 =126</strong>; 每个子网内最大主机数: <strong>2^24^ -2</strong></p> <blockquote><ul><li><strong>0.0.0.0/8 ~ 0.255.255.255/8</strong> 为保留地址</li> <li><strong>127.0.0.0/8 ~ 127.255.255.255/8</strong>, designated for <a href="https://en.wikipedia.org/wiki/Loopback" target="_blank" rel="noopener noreferrer">loopback<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and are used to test the ‘network stack(OSI Model, TCP/IP Model)’ of the local device.
<ul><li>127.0.0.1 等效于<strong>localhost</strong>或<strong>本机IP</strong>。 一般用于测试使用。</li> <li><code>ping 127.0.0.1</code>来测试本机TCP/IP是否正常。</li> <li><a href="http://127.0.0.1:8080" target="_blank" rel="noopener noreferrer">http://127.0.0.1:8080<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 等效 <a href="http://localhost:8080" target="_blank" rel="noopener noreferrer">http://localhost:8080<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></blockquote></li></ul></li> <li><p><strong>B类 IP/16</strong>(<em>B类IP地址的二进制位必须是10开头: 128~191</em>):</p> <ul><li><p>起始: (1000 0000).(0000 0000).0.1  --&gt; 十进制:<code>128.0.0.1/16</code></p></li> <li><p>终止: (1011 1111).(1111 1111).255.254  --&gt; 十进制: <code>191.255.255.254/16</code></p></li> <li><p>最大网络数: <strong>2^14^</strong>; 每个子网内最大主机数: <strong>2^16^ -2</strong>= 65536 - 2 =65534</p></li></ul></li> <li><p><strong>C类 IP/24</strong>(<em>C类IP地址的二进制位必须是110开头: 192~223</em>):</p> <ul><li><p>起始: (1100 0000).(0000 0000).(0000 0000).1  --&gt; 十进制: <code>192.0.0.1/24</code></p></li> <li><p>终止: (1101 1111).(1111 1111).(1111 1111).254  -&gt; <code>223.255.255.254/24</code></p></li> <li><p>最大网络数: <strong>2^21^</strong>; 每个子网内最大主机数: <strong>2^8^ -2 = 254</strong></p></li></ul></li> <li><p>D类 IP(<em>D类IP地址的二进制位必须是1110开头</em>): 作为==Multicast Addresses 组播地址==</p> <ul><li><p>起始: (1110 0000).0.0.1 --&gt; 十进制: 224.0.0.1</p></li> <li><p>终止: (1110 1111).255.255.254 --&gt; 十进制: 239.255.255.254</p></li></ul></li> <li><p>E类 IP(<em>E类IP地址的二进制位必须是1111开头</em>): 作为研究保留 ==Experimental purposes==</p> <ul><li>起始: (1111 0000).0.0.1  --&gt; 十进制: 240.0.0.1</li> <li>终止: (1111 1111).255.255.254  -&gt; 十进制: 255.255.255.254</li></ul></li></ul> <blockquote><p>“Host Portion”为全0和全1的IP地址不能指派给Host:</p> <ul><li>主机号全0表示 Network Address;</li> <li>主机号全1为 Broadcast Address. <strong>Note:</strong> <em>Any IP Broadcast Address is related to Layer 2 Broadcast Address(FFFF.FFFF.FFFF).</em></li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325902.png" alt="image-20230321004053124" style="zoom:57%;"> <h5 id="rfc1918-私有ip范围"><a href="#rfc1918-私有ip范围" class="header-anchor">#</a> <strong>RFC1918</strong> <code>私有IP范围</code></h5> <p><strong>RFC1918</strong> refers to a set of guidelines that define <strong>private IP address ranges</strong> that can be used for internal networks in private organizations. These IP addresses are not routable on the public internet and are reserved for use within private networks.</p> <p>The three private IP address ranges defined in RFC1918 are:</p> <ul><li>A类 IP: 10.0.0.0/8 (10.0.0.0 - 10.255.255.255)</li> <li>B类 IP: 172.16.0.0/12 (172.16.0.0 - 172.31.255.255)</li> <li>C类 IP: 192.168.0.0/16 (192.168.0.0 - 192.168.255.255)</li></ul> <h5 id="其他特殊ip"><a href="#其他特殊ip" class="header-anchor">#</a> 其他特殊IP</h5> <ul><li>169.254.0.0/16: 在 Windows 系统上在DCHP无法分配IP地址时, 会自动生成这个链路本地地址;</li> <li>192.0.2.0/24: 保留地址, Test-Net地址;</li> <li>127.0.0.1: 保留用于环回测试。表示当前节点，让节点能够给自己发送测试分组，而不会生成网络流量;</li> <li>所有主机位都为0时，得到的是<code>网络地址</code>;</li> <li>所有主机位都为1 时，得到的是<code>广播地址</code>;</li></ul></blockquote> <h3 id="ipv4-地址类型"><a href="#ipv4-地址类型" class="header-anchor">#</a> IPv4 地址类型</h3> <h4 id="broadcast"><a href="#broadcast" class="header-anchor">#</a> Broadcast</h4> <blockquote><ul><li><p>Broadcast messages are delivered to all devices on the local network. 广播消息是发送给广播域中所有主机的，其目标地址的主机位都为1。</p></li> <li><p>对于网络地址172.16.0.0 255.255.0.0 ，其广播地址为172.16.255.255 ---- 所有主机位都为1 。</p></li> <li><p>广播也可以是发送给所有网络中的所有主机的，例如255.255.255.255。</p> <blockquote><p>对应于第二层广播: 第2层广播也叫硬件广播，它们只在当前LAN内传输，而不会穿越LAN边界(路由器)。典型的硬件地址长6B (48位)，如45:AC:24:E3:60:A5 。使用二进制表示时，该广播地址全为1，而使用十六进制表示时全为F，即FF:FF:FF:FF:FF:FF 。</p></blockquote></li></ul></blockquote> <h4 id="unicast"><a href="#unicast" class="header-anchor">#</a> Unicast</h4> <blockquote><p>单播地址是分配给网络接口卡的IP地址，在分组中用作目标地址，换句话说，它将分组传输到特定IP的主机。</p> <p>==DHCP 客户端请求很好地说明了单播的工作原理==:</p> <ol><li>LAN中的某主机发送广播(其第2层目标地址为FF:FF:FF:FF:FF:FF，而第3层目标地址为255.255.255.255 )，在LAN中寻找DHCP服务器。</li> <li>路由器知道这是发送给DHCP服务器的广播，因为其目标端口号为67 (BootP 服务器)，因此会将该请求转发到另一个LAN中的DHCP服务器。因此，如果DHCP服务器的IP地址为172.16.10.1 ，路由器将修改该广播，将其目标地址改为172.16.10.1。为让路由器提供这种服务，你需要使用命令<code>ip helper-address</code>配置接口一一这不是默认启用的服务。</li></ol></blockquote> <h4 id="multi-cast"><a href="#multi-cast" class="header-anchor">#</a> Multi-cast</h4> <blockquote><ul><li><p>Multicast messages are delivered only to devices that have joined that specific multicast group. 组播支持点到多点通信</p></li> <li><p>组播的关键点在于，它让多个接收方能够接收消息，却不会将消息传递给广播域中的所有主机。</p></li> <li><p>组播这样工作: 将消息或数据发送给IP组播地址，路由器将分组的副本从每个这样的接口转发出去(这不同于广播，路由器不转发广播)，给订阅了该组播的主机。</p> <blockquote><p>从理论上说，指的是主机将收到发送给224.0.0.10 的组播分组(EIGRP 分组，只有运行EIGRP协议的路由器才会读取它)。广播型LAN (以太网是一种广播型多路访问LAN 技术)中的所有主机都将接收这种帧，读取其目标地址，然后马上丢弃除非它是组播组的成员。这节省了PC的处理周期，但没有节省LAN带宽。如果不小心实现，组播有时会导致严重的LAN 拥塞。</p></blockquote></li></ul></blockquote> <h3 id="subnet-mask"><a href="#subnet-mask" class="header-anchor">#</a> Subnet Mask</h3> <blockquote><p><strong>Subnet mask</strong>, 又称为 <strong>Netmask</strong>, 由连续的1和连续0两部分组成, 32bits, 可以将某个网络的网络地址表征为 <strong>Network Portion</strong> 和 <strong>Host Portion</strong> 两部分.</p> <h5 id="子网掩码的作用"><a href="#子网掩码的作用" class="header-anchor">#</a> 子网掩码的作用</h5> <ul><li>子网掩码用于将IP地址划分为 **Network portion **和 <strong>Host Portion</strong> 两部分; IP地址必须结合子网掩码才具有意义;</li> <li>子网掩码只要是<strong>连续的二进制&quot;1&quot;</strong>+<strong>连续的二进制&quot;0&quot;</strong>,就是合理的子网掩码;</li> <li>与子网掩码中二进制&quot;1&quot;对应的IP地址中的地址位,代表<strong>网络号</strong>位; 与子网掩码中二进制&quot;0&quot;对应的IP地址中的地址位,代表<strong>主机号</strong>位;</li></ul> <h5 id="标准子网掩码"><a href="#标准子网掩码" class="header-anchor">#</a> 标准子网掩码:</h5> <ul><li>A类子网: 255.0.0.0      --&gt; IP地址/8</li> <li>B类子网: 255.255.0.0    --&gt; IP地址/16</li> <li>C类子网: 255.255.255.0  --&gt; IP地址/24</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325339.png" alt="image-20210613142114029" style="zoom:30%;"> <h5 id="flsm-fixed-length-subnet-masks"><a href="#flsm-fixed-length-subnet-masks" class="header-anchor">#</a> FLSM(Fixed-Length Subnet Masks):</h5> <h6 id="定长子网掩码"><a href="#定长子网掩码" class="header-anchor">#</a> 定长子网掩码:</h6> <ul><li>A类私网: <code>10.0.0.0</code> ~ <code>10.255.255.255</code>      --&gt; IP地址/8~30</li> <li>B类私网: <code>172.16.0.0</code> ~ <code>172.31.255.255</code>    --&gt; IP地址/16~30</li> <li>C类私网: <code>192.168.0.0</code> ~ <code>192.168.255.255</code>  --&gt; IP地址/24~30</li></ul> <h5 id="vlsm-variable-length-subnet-masks"><a href="#vlsm-variable-length-subnet-masks" class="header-anchor">#</a> VLSM(Variable-Length Subnet Masks)</h5> <h6 id="变长子网掩码"><a href="#变长子网掩码" class="header-anchor">#</a> 变长子网掩码:</h6> <ul><li>A类私网: <code>10.0.0.0</code> ~ <code>10.255.255.255</code>      --&gt; IP地址/8~30</li> <li>B类私网: <code>172.16.0.0</code> ~ <code>172.31.255.255</code>    --&gt; IP地址/12~30</li> <li>C类私网: <code>192.168.0.0</code> ~ <code>192.168.255.255</code>  --&gt; IP地址/16~30</li></ul> <h6 id="划分方法"><a href="#划分方法" class="header-anchor">#</a> 划分方法:</h6> <ul><li><strong>网段地址</strong>: 对应IP地址的<strong>Host Portion</strong>位都是0; 计算方法:把IP地址与子网掩码进行<code>按位逻辑与</code>的运算,得到的IP地址就是网段地址;</li> <li><strong>广播地址</strong>: 对应IP地址的<strong>Host Portion</strong>位都是1; 计算方法: 子网掩码中二进制&quot;0&quot;的部分对应于IP地址中的位全部设为&quot;1&quot;,得到的IP地址就是广播地址;</li> <li><strong>可用的主机地址个数:</strong> 若子网掩码中的<strong>Host Portion</strong>的位数为n,则为 2^n^ -2(网络本身和广播地址各占1个IP地址);</li> <li><strong>子网个数</strong>: 此概念对应于A, B, C类子网的划分, 子网掩码中<strong>Network Portion</strong>(A(<em>有效位数-8</em>), B(<em>有效位数-12</em>), C类(<em>有效位数-16</em>))的二进制&quot;1&quot;的个数为m,则为 2^m^;</li></ul></blockquote> <blockquote><p><code>ip subnet-zero</code>: 这个命令让你能够在网络设计中使用第一个子网和最后一个子网。例如， C 类子网掩码 255.255.255.192 提供了子网64 和128 (这将在本章后面详细讨论)，但配置命令ip subnet-zero 后，将可使用子网0 、64 、128 和192。也就是说，这条命令重新划分了子网, 即让每个子网掩码提供的子网多了两个。</p></blockquote> <hr> <h4 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h4> <blockquote><h5 id="finding-the-following-items-of-a-particular-network"><a href="#finding-the-following-items-of-a-particular-network" class="header-anchor">#</a> Finding the following items of a particular network:</h5> <ul><li>maximum number of hosts,</li> <li>network address,</li> <li>broadcast address,</li> <li>first usable address,</li> <li>last usable address</li></ul></blockquote> <h5 id="示例1"><a href="#示例1" class="header-anchor">#</a> 示例1</h5> <blockquote><p>172.22.141.231/26, 该IP位于哪个网段? 该网段具有多少个可用的IP地址? 广播地址是什么?</p> <p>解答:</p> <ul><li><p><code>子网掩码</code>为26: 即网络号位为26位, 主机号位为6位, 此网段<em>可用的主机IP地址为 2^6 -2 = 62个</em></p></li> <li><p><em>子网个数</em>: 26&gt;24, 对应着 ==C类的子网划分==; 前3个字节段都是255, 是固定的. 有效段为D段 1100 0000, &quot;1&quot;的个数为 m=2,子网个数为 2^m^ = <em>4</em></p></li> <li><p>IP地址转换为二进制:  172. 22.141.1110 0111</p> <p>子网掩码转换为二进制: 255.255.255.1100 0000</p> <p><em>网段地址</em>: 将<code>IP地址</code>与<code>子网掩码</code>进行按位逻辑与运算: IP地址的 A段.B段.C段(都一样).1100 0000, 转换为十进制即 <em>172.22.141.192</em>;</p> <p><em>广播地址</em>: 将IP地址的所有主机号位都设为&quot;1&quot;: 172.22.141.(11[11 1111])即 <em>172.22.141.255</em></p></li></ul></blockquote> <h5 id="示例2"><a href="#示例2" class="header-anchor">#</a> 示例2</h5> <blockquote><img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220616171955039.png" alt="image-20220616171955039" style="zoom:40%;"></blockquote> <h5 id="示例3"><a href="#示例3" class="header-anchor">#</a> 示例3</h5> <p><img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220705184347440.png" alt="image-20220705184347440"></p> <blockquote><p>示例: 网络地址= 172.16.0.0/18,</p> <ul><li><p>子网掩码 255.255.192.0 (/18)</p></li> <li><p>多少个子网? 2^(18-16)^ =4 。</p></li> <li><p>每个子网多少台主机? 2^(32-18)^ - 2 = 16382</p></li> <li><p>有哪些合法的子网? 块大小为<code>256 - 192 = 64</code>，因此子网为0 、64 、128 和192。鉴于子网划分是在第三个字节中进行的，因此子网号实际上为0.0 、64.0 、128.0 和192札如下面所示。</p></li> <li><p>每个子网的广播地址是什么?</p></li> <li><p>合法的主机地址是什么?</p> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325422.png" alt="image-20220706123733737"></p></li></ul> <p>问题: IP地址172.16.50.10 255.255.224.0 (/19) 属于哪个子网?该子网的广播地址是多少?
答案: 256 - 224 = 32 ，因此子网为0.0 、32.0 、64.0 等。所属的子网为172.16.32.0, 而其广播地址为172.16.63.255 ，因为下一个子网为64.0 。</p></blockquote> <h5 id="示例4"><a href="#示例4" class="header-anchor">#</a> 示例4</h5> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220706123820014.png" alt="image-20220706123820014" style="zoom:90%;"> <blockquote><p>示例1: 255.255.0.0 (/16)</p> <ul><li><p>多少个子网? 2^(16-8)^ = 256 。</p></li> <li><p>每个子网的主机数? 2^(32-16)^ -2 = 65534</p></li> <li><p>有哪些合法的子网? 只考虑第二个字节。256-255= 1 ，因此子网为10.0.0.0, 10.1.0.0, 10.2.0.0, 10.3.0.0, ……, 10.255.0.0 。</p></li> <li><p>每个子网的广播地址是什么?</p></li> <li><p>合法的主机地址是什么?</p> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325958.png" alt="image-20220706124627464"></p></li></ul> <p>练习: 主机IP 地址: 10.1.3.65/23</p> <ul><li>首先，如果不知道/23 对应的子网掩码，你就回答不了这个问题。它对应的子网掩码为
255.255.254.0。这里感兴趣的字节为第三个。块大小为<code>256 - 254</code> = 2 ，因此第三个字节的子网号为0 、2 、4 、6等。在这个问题中，主机位于子网2.0 中，而下一个子网为4.0, 因此该子网的广播地址为10.1.3 .255。<code>10.1.2.1</code>-<code>10.1.3.254</code> 是该子网中合法的主机地址范围。</li></ul></blockquote> <h5 id="示例5"><a href="#示例5" class="header-anchor">#</a> 示例5</h5> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325239.png" alt="image-20230321010438399" style="zoom:25%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325614.png" alt="image-20230321010719410" style="zoom:25%;"> <h3 id="cidr"><a href="#cidr" class="header-anchor">#</a> CIDR</h3> <blockquote><ul><li><p>Classless Inter-Domain Routing(无类别域间路由);</p></li> <li><p>The IETF (Internet Engineering Task Force) introduced CIDR in 1993 to replace the ‘classful’ addressing system.</p></li> <li><p>The IPv4 address classes, such as class A, B, and C? Well, CIDR throws all them away!</p> <ul><li><p>With CIDR, the requirements of...</p> <p>Class A = /8</p> <p>Class B= /16</p> <p>Class C = /24</p> <p>..were <strong>removed</strong>.</p></li> <li><p>This allowed larger networks to be split into smaller networks, allowing greater efficiency.</p></li> <li><p>These smaller networks are called ‘<strong>subnetworks</strong>’ or ‘<strong>subnets</strong>';</p></li></ul></li></ul> <h5 id="point-to-point-network"><a href="#point-to-point-network" class="header-anchor">#</a> Point-to-Point Network:</h5> <h6 id="cidr-30"><a href="#cidr-30" class="header-anchor">#</a> CIDR(/30)</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325959.png" alt="image-20230321005233528" style="zoom:25%;"> <h6 id="better-approach-cidr-31"><a href="#better-approach-cidr-31" class="header-anchor">#</a> Better Approach: CIDR(/31)</h6> <p>A dedicated connection like this between two routers, there is actually no need for a network address or a broadcast address. So, we can break the rules in this case and assign the only two addresses in this network to our routers.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325766.png" alt="image-20230321005512386" style="zoom:25%;"> <blockquote><p>Note that, if you try this configuration on a Cisco router, you’ll get a warning like this, reminding you to make sure that this is a point-to-point link, but it is a totally valid configuration.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303210057372.png" alt="image-20230321005759169" style="zoom:28%;"></blockquote></blockquote> <h3 id="vlsm"><a href="#vlsm" class="header-anchor">#</a> VLSM</h3> <blockquote><ul><li><p>classful Routing: 所有的主机和路由器接口都使用相同的子网掩码;</p> <blockquote><p>classful addressing is important to understand, but in modern networks the concept is no longer used.</p></blockquote> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325100.png" alt="image-20220706133925715"></p></li> <li><p>如果要提高该网络地址的使用效率, 我们必须给每个路由器接口分配不同的子网掩码, 即<code>VLSM(变长子网掩码)</code>;</p> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202209221436834.png" alt="image-20220706133935771"></p> <ul><li><p>每个路由器接口上可使用长度不同的子网掩码。如果在WAN链路上使用/30. 并在各个LAN 上分别使用/27 、/28 和/29. 则WAN 链路将有两个主机地址，而各个LAN分别有30 、14和6个主机地址，这极大地提高了IP地址的利用率, 尤其是 WAN IP地址.</p></li> <li><p>通过在网络特定的区域使用连续的地址块，你可轻松地对网络进行汇总，从而最大限度地减少路由选择协议通舍的路由更新。若只需在大楼之间通告一条汇总路由就能达到相同效果，可以大大地提高效率.</p></li></ul></li></ul></blockquote> <h4 id="vlsm-steps"><a href="#vlsm-steps" class="header-anchor">#</a> VLSM-Steps:</h4> <blockquote><ol><li>the <strong>largest subnet</strong> at the start of the address space;</li> <li>Assign the <strong>second-largest subnet</strong> after it;</li> <li>Repeat the process until all subnets have been assigned</li></ol></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325325.png" alt="image-20230321015336865" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303210202244.png" alt="image-20230321020236001" style="zoom:33%;"> <h4 id="lab-练习"><a href="#lab-练习" class="header-anchor">#</a> Lab 练习</h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325170.png" alt="image-20230321125547203" style="zoom:90%;"> <blockquote><p><strong>参考答案:</strong></p> <h6 id="pc2"><a href="#pc2" class="header-anchor">#</a> PC2</h6> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303211300033.png" alt="image-20230321130010910"></p> <h6 id="pc1"><a href="#pc1" class="header-anchor">#</a> PC1</h6> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325507.png" alt="image-20230321130045202"></p> <h6 id="r1-running-config"><a href="#r1-running-config" class="header-anchor">#</a> R1 Running-config</h6> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>interface GigabitEthernet0/0
description <span class="token comment"># to PC1 #</span>
<span class="token function">ip</span> address <span class="token number">192.168</span>.5.190 <span class="token number">255.255</span>.255.192
duplex auto
speed auto
<span class="token operator">!</span>
interface GigabitEthernet0/1
description <span class="token comment"># to PC2 #</span>
<span class="token function">ip</span> address <span class="token number">192.168</span>.5.126 <span class="token number">255.255</span>.255.128
duplex auto
speed auto
<span class="token operator">!</span>
interface GigabitEthernet0/2
no <span class="token function">ip</span> address
duplex auto
speed auto
<span class="token function">shutdown</span>
<span class="token operator">!</span>
interface GigabitEthernet0/0/0
description <span class="token comment"># To R2 #</span>
<span class="token function">ip</span> address <span class="token number">192.168</span>.5.253 <span class="token number">255.255</span>.255.252

<span class="token function">ip</span> classless
<span class="token function">ip</span> route <span class="token number">192.168</span>.5.192 <span class="token number">255.255</span>.255.224 <span class="token number">192.168</span>.5.254 
<span class="token function">ip</span> route <span class="token number">192.168</span>.5.224 <span class="token number">255.255</span>.255.240 <span class="token number">192.168</span>.5.254 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h6 id="r2"><a href="#r2" class="header-anchor">#</a> R2:</h6> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>interface GigabitEthernet0/0
description <span class="token comment"># to PC3 #</span>
<span class="token function">ip</span> address <span class="token number">192.168</span>.5.222 <span class="token number">255.255</span>.255.224
duplex auto
speed auto
<span class="token operator">!</span>
interface GigabitEthernet0/1
description <span class="token comment"># to PC4 #</span>
<span class="token function">ip</span> address <span class="token number">192.168</span>.5.238 <span class="token number">255.255</span>.255.240
duplex auto
speed auto
<span class="token operator">!</span>
interface GigabitEthernet0/2
no <span class="token function">ip</span> address
duplex auto
speed auto
<span class="token function">shutdown</span>
<span class="token operator">!</span>
interface GigabitEthernet0/0/0
description <span class="token comment"># To R1 #</span>
<span class="token function">ip</span> address <span class="token number">192.168</span>.5.254 <span class="token number">255.255</span>.255.252

<span class="token function">ip</span> classless
<span class="token function">ip</span> route <span class="token number">192.168</span>.5.0 <span class="token number">255.255</span>.255.128 <span class="token number">192.168</span>.5.253 
<span class="token function">ip</span> route <span class="token number">192.168</span>.5.128 <span class="token number">255.255</span>.255.192 <span class="token number">192.168</span>.5.253
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h6 id="pc3"><a href="#pc3" class="header-anchor">#</a> PC3</h6> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325737.png" alt="image-20230321130252045"></p> <h6 id="pc4"><a href="#pc4" class="header-anchor">#</a> PC4</h6> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325888.png" alt="image-20230321130326521"></p></blockquote> <h4 id="additional-practice"><a href="#additional-practice" class="header-anchor">#</a> Additional Practice</h4> <ul><li><a href="http:/www.subnettingquestions.com/" target="_blank" rel="noopener noreferrer">http:/www.subnettingquestions.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://subnetting.org/" target="_blank" rel="noopener noreferrer">http://subnetting.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://subnettingpractice.com/" target="_blank" rel="noopener noreferrer">https://subnettingpractice.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="路由汇总"><a href="#路由汇总" class="header-anchor">#</a> 路由汇总</h3> <p>路由汇总也叫起网化(supernetting)，它以最高效的方式提供路由更新，这是通过在一个通告中通告众多路由，而不是分别通告它们来实现的。这节省了大量带宽，并最大限度地降低了路由嚣的处理负担。通过使用成块的地址(别忘了，前面列出的块大小适用于各种网络)，我们可配置汇总路由，让网络的性能得到极大改善。</p> <blockquote><ul><li><p>汇总也叫路由聚合，让路由选择协议能够用一个地址通告众多网络，旨在缩小路由器中路由选择表的规模，以节省内存，并缩短E 对路由选择表进行分析以找出前往远程网络的路径所需的时间。</p> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325111.png" alt="image-20220706141409719"></p></li></ul></blockquote> <blockquote><p>C类的CIDR</p> <p><img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220705182931790.png" alt="image-20220705182931790"></p> <p>路由聚合示例: B类</p> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220616171336269.png" alt="image-20220616171336269" style="zoom:50%;"></blockquote> <h3 id="configure-ip-address"><a href="#configure-ip-address" class="header-anchor">#</a> Configure IP address</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Router<span class="token operator">&gt;</span> <span class="token builtin class-name">enable</span>
Router<span class="token comment"># show ip interface brief   # confirm the status of each interface on the router</span>
Router<span class="token comment"># configure terminal</span>

Router<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># interface gigabitethernet 0/0</span>
Router<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># int g0/0   # 简写方法</span>

Router<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># ip address 10.255.255.254 255.0.0.0</span>
Router<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># no shutdown    # enable the interface of router</span>
Router<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># description # connected to SW1</span>

Router<span class="token comment"># show interfaces g0/0</span>

Router<span class="token comment"># show interfaces description</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>==Status==: indicate the Layer 1 status:</p> <ul><li><p><strong>administratively down</strong>: Interface has been disabled with the ‘shutdown’ command.</p> <ul><li><p>This is the default Status of Cisco router interfaces.</p></li> <li><p>Cisco switch interfaces are <strong>NOT</strong> administratively down by default.</p></li></ul></li> <li><p><strong>up</strong>: there is another device connected to the port.</p></li></ul> <p>==Protocol==: indicate the Layer 2 status:</p> <ul><li>down:</li> <li>up: for example is Ethernet functioning properly between this device and the device it's connected to.</li></ul></blockquote> <h3 id="排除-ip编址故障"><a href="#排除-ip编址故障" class="header-anchor">#</a> 排除 IP编址故障</h3> <blockquote><p>==思科推荐的故障排除步骤==:</p> <ol><li>打开命令提示符窗口，并<code>ping 127.0.0.1</code>。这是诊断(环回)地址，如果ping 操作成功，则说明IP栈初始化了。如果失败，说明IP栈出现了故障，你需要在主机上重新安装TCP/IP。</li> <li>在命令提示符窗口中， <code>ping 当前主机的IP地址</code>。如果成功，则说明网络接口卡(NIC) 正常; 如果失败，则说明NIC出现了故障。这一步成功并不意味着电缆被插入了NIC，而只意味着主机的IP协议栈能够通过LAN驱动程序与NIC通信。</li> <li>在命令提示符窗口中， <code>ping 默认网关(路由器)</code>。如果成功，说明NIC连接到了网络，能够与本地网络通信。如果失败，则说明本地物理网络出现了故障，该故障可能位于NIC到路由器之间的任何地方。</li> <li>如果第(1)步至第(3)步都成功了，请尝试<code>ping 远程服务器</code>。如果成功，你便可确定本地主机和远程服务器能够进行IP通信，且远程物理网络运行正常。</li> <li>如果第(1)步至第(4)步成功了，但用户仍不能与服务器通信，则可能存在某种名称解析问题，需要检查<code>域名系统(DNS)</code>设置。如果ping 远程服务器时失败，你便可确定存在某种远程物理网络问题，需要对服务器执行第(1)步~第(3)步操作，直到找出故障根源。</li></ol></blockquote> <blockquote><p>==基本命令==:</p> <ul><li><p><code>ping</code>: 使用<code>ICMP请求</code>和<code>应答</code>进行测试，检查网络中节点的IP栈是否已被初始化并处于活动状态。If the ping is successful, that means there is <strong>two-way reachability</strong>.</p></li> <li><p><code>traceroute</code> 使用<code>TTL超时</code>和<code>ICMP错误消息</code>，显示前往某个网络目的地时经历的路径上的所有路由器。该命令不能在windows系统中使用。</p></li> <li><p><code>show ip arp</code> 功能与arp -a 相同，但用于在思科路由器中显示ARP表;</p></li> <li><p><code>ipconfig /all</code> 只能在命令提示符窗口中使用，显示PC 的网络配置。</p></li> <li><p><code>tracert</code> 功能与traceroute 相同，是一个Microsoft Windows 命令，在思科路由器上不管用。</p></li> <li><p><code>arp -a</code> 在WindowsPC 中显示IP地址到MAC地址的映射。</p></li></ul></blockquote> <blockquote><p>==其他命令==:</p> <ul><li><p><code>debug</code>: 只可在思科IOS 特权模式下运行的、用于故障排除的命令。它常用于显示各种路由器操作的信息以及由路由器产生或接收到的与流量相关的信息，此外还包括出错信息。此命令会影响设备处理互联网络中分组的能力, <code>debug all</code>的影响会非常严重. 如果路由器的CPU使用率已经达到了50%或更高，那么再使用debug all 命令就是一个十分不明智的举动，除非你真的想看到路由器是如何崩溃的!</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Corp<span class="token comment">#debug ?</span>
    aaa AAA Authentication , Author咽ization and Accounting
    access-expresslon  Boolean access express<span class="token punctuation">;</span>on
    adjacency  adjacency
    all    Enable all debugging
    <span class="token punctuation">[</span>output cut<span class="token punctuation">]</span>
Corp<span class="token comment">#debug ip rip</span>
    RIP protocol debugging is on
Corp<span class="token comment">#</span>
    1w4d: RIP: sending v2 update to <span class="token number">224.0</span>.0.9 via SerialO/O <span class="token punctuation">(</span><span class="token number">192.168</span>.12.1<span class="token punctuation">)</span>
    1w4d: RIP: build update entr寸es
    1w4d: <span class="token number">10.10</span>.10.0/24 via <span class="token number">0.0</span>.0.0 , metr<span class="token punctuation">;</span>c <span class="token number">2</span> , tag <span class="token number">0</span>
    1w4d: <span class="token number">171.16</span>.125.0/24 via <span class="token number">0.0</span>.0.0 , metric <span class="token number">3</span>, tag <span class="token number">0</span>
    1w4d: <span class="token number">172.16</span>.12.0/24 via <span class="token number">0.0</span>.0.0 , metr<span class="token punctuation">;</span>c <span class="token number">1</span> , tag <span class="token number">0</span>
    1w4d: <span class="token number">172.16</span>.125.0/24 via <span class="token number">0.0</span>.0.0 , metric <span class="token number">3</span>, tag <span class="token number">0</span>
    1w4d: RIP: sending v2 update to <span class="token number">224.0</span>.0.9 via SerialO/2 <span class="token punctuation">(</span><span class="token number">172.16</span>.12.1<span class="token punctuation">)</span>
    1w4d: RIP: bu<span class="token punctuation">;</span>ld update entr寸es
    1w4d: <span class="token number">192.168</span>.12.0/24 <span class="token function">v</span><span class="token punctuation">;</span>a <span class="token number">0.0</span>.0.0 , metr<span class="token punctuation">;</span>c <span class="token number">1</span> , tag <span class="token number">0</span>
    1w4d: <span class="token number">192.168</span>.22.0/24 <span class="token function">v</span><span class="token punctuation">;</span>a <span class="token number">0.0</span>.0.0 , metr寸c <span class="token number">2</span> , tag <span class="token number">0</span>
    1w4d: RIP: received v2 update from <span class="token number">192.168</span>.12.2 on SerialO/O
    1w4d: <span class="token number">192.168</span>.22.0/24 via <span class="token number">0.0</span>.0.0 <span class="token keyword">in</span> <span class="token number">1</span> hops
Corp<span class="token comment">#undebug all </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li> <li><p>命令``show processes` (或show processes CpU) 用于确定指定路由器CPU利用率的工具。此外，这一命令还提供正在运行进程的列表，以及进程ID、优先权、调度程序测试(状态)、使用CPU的时间、调用次数等数据.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Corp<span class="token comment">#sh processes</span>
    CPU utilization <span class="token keyword">for</span> five seconds: <span class="token number">2</span>%/0%<span class="token punctuation">;</span> one minute: <span class="token number">0</span>%<span class="token punctuation">;</span> five minutes: <span class="token number">0</span>%
    PID QTy PC Runtime <span class="token punctuation">(</span>ms<span class="token punctuation">)</span> Invoked u5ecs 5tacks TTY Process
    <span class="token number">1</span> Cwe <span class="token number">8034470</span>。1 o <span class="token number">5804</span>/6000 o Chunk Manager
    <span class="token number">2</span> Csp 80369A88 <span class="token number">4</span> <span class="token number">1856</span> <span class="token number">2</span> <span class="token number">2616</span>/3000 <span class="token number">0</span> Load Meter
    <span class="token number">3</span> M* 。112 <span class="token number">14</span> <span class="token number">800010656</span>/12000 <span class="token number">0</span> Exec
    <span class="token number">5</span> Lst 8034FD9C <span class="token number">268246</span> <span class="token number">52101</span> <span class="token number">5148</span> <span class="token number">5768</span>/6000 o Check heaps
    <span class="token number">6</span> Cwe 80355E5ζ20 <span class="token number">3</span> <span class="token number">6666</span> <span class="token number">5704</span>/6000 o Pool Manager
    <span class="token number">7</span> Mst 802AC3C4 。2 o <span class="token number">5580</span>/6000 o Timers
    <span class="token punctuation">[</span>output cut<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ul></blockquote> <h3 id="how-are-ipv4-addresses-assigned"><a href="#how-are-ipv4-addresses-assigned" class="header-anchor">#</a> How are IPv4 addresses assigned?</h3> <blockquote><ul><li>IPv4 address assignments are controlled by IANA(Internet Assigned Numbers Authority).</li> <li>IANA distributes IPv4 address space to various RIRs(Regional Internet Registries), which then assign them to companies that need them.
<ul><li>For example, an Internet service provider would ask its local RIR to assign it IP addresses which can then be used by its customers.</li></ul></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304031647242.png" alt="image-20230403164714993" style="zoom:33%;"></blockquote> <hr> <blockquote><h6 id="关于数的进制"><a href="#关于数的进制" class="header-anchor">#</a> 关于数的进制:</h6> <ul><li>Binary / Base 2 / 0b: 二进制,</li> <li>Decimal / Base 10 / 0d: 十进制</li> <li>Hexadecimal / Base 16 / 0x: 十六进制,
<ul><li>each hexadecimal digit contains <strong>4 bits binary</strong>;</li></ul></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304031618116.png" alt="image-20230403161828875" style="zoom:33%;"></blockquote> <hr> <h2 id="ipv6-addressing"><a href="#ipv6-addressing" class="header-anchor">#</a> IPv6 Addressing</h2> <blockquote><h5 id="why-ipv6"><a href="#why-ipv6" class="header-anchor">#</a> Why IPv6?</h5> <ul><li>The main reason is that there simply aren’t enough IPv4 address available! There are 4,294,967,296 (2^32^) IPv4 addresses available.</li> <li><strong>VLSM</strong>, <strong>private IPv4 addresses</strong>, and <strong>NAT</strong> have been used to conserve the use of IPv4 address space. Those are short-term solutions.</li> <li>The long-term solution is <strong>IPV6</strong>.</li></ul></blockquote> <h3 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h3> <p><img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202209092306230.png" alt="image-20220630150318255"></p> <blockquote><ul><li><p>长度为 128 bits（<strong>32 hexadecimal characters</strong>, <strong>16 Bytes</strong>）, 或者 8个 Hextet*(16 bit)*(<em>4个十六进制数 为 1个 Hextet(2 Bytes)</em>) 。基本体系结构的网络部分为 64 位，主机部分为 64 位。通常，IPv6 地址（或其部分）的主机部分将派生自 MAC 地址或其他接口标识。</p></li> <li><p>IPv6地址总数量: 2^128^ = 3.4 * 10^38^ (<em>可以标记地球上每一粒沙子!</em>)</p></li> <li><p>根据子网前缀，IPv6 的体系结构比 IPv4 的体系结构更复杂。IPv6 地址的数目比 IPv4 地址的数目大 10^28^倍。</p></li> <li><p>IPv6 地址的文本格式为 <code>xxxx : xxxx : xxxx : xxxx : xxxx : xxxx : xxxx : xxxx</code>，一共8个quartets, 也即32个十六进制数。</p></li> <li><p>IPv6可以内嵌IPv4, 例如，::ffff:10.120.78.40 表示 IPv4 映射的 IPv6 地址。IPv4 占据 xxxx:xxxx,, 即2个Hextet, 也即8个Hexadecimal。</p></li> <li><p>使用Web浏览器连接到IPv6设备的HITP连接时，必须将IPv6地址用方括号括起。为什么呢?因为冒号已被浏览器用来指定端口号。如果不用方括号将地址括起，浏览器将无法识别地址。</p> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325729.png" alt="image-20220630150459050"></p></li> <li><p>IPv4 环回地址为<code>127.0.0.1</code>.而IPv6 环回地址为<code>::1</code>;</p></li> <li><p>IPv6 addresses use the <code>/</code> notation to indicate the prefix length, even when configuring the address in the Cisco IOS CLI. This <code>/64</code>, for example, means the first half of the address would be the network portion, and the second half would be the host portion.</p></li></ul></blockquote> <h4 id="shorting-abbreviating-ipv6-addresses"><a href="#shorting-abbreviating-ipv6-addresses" class="header-anchor">#</a> Shorting(abbreviating) IPv6 addresses:</h4> <blockquote><ol><li>Leading 0s can be removed.</li></ol> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220623135337200.png" alt="image-20220623135337200" style="zoom:80%;"> <ol start="2"><li>Consecutive quartets of all 0s can be replaced with a double colon <code>::</code>. <strong>But you can only use the double colon to shorten an IPv6 address once!</strong></li></ol> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325410.png" alt="image-20220623135426137" style="zoom:67%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304031718189.png" alt="image-20230403171812088" style="zoom:33%;"></blockquote> <h6 id="quiz"><a href="#quiz" class="header-anchor">#</a> Quiz</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304031806292.png" alt="image-20230403180653072" style="zoom:33%;"> <details><summary>Correct Answer</summary> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304031724263.png" alt="image-20230403172457007" style="zoom:33%;"></p></details> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304031802159.png" alt="image-20230403180231969" style="zoom:33%;"> <details><summary>Correct Answer</summary> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304031806730.png" alt="image-20230403180603500" style="zoom:33%;"></p></details> <h4 id="finding-the-ipv6-prefix"><a href="#finding-the-ipv6-prefix" class="header-anchor">#</a> Finding the IPv6 prefix</h4> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304031748987.png" alt="image-20230403174852711" style="zoom:28%;"> <h6 id="quiz-2"><a href="#quiz-2" class="header-anchor">#</a> Quiz:</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304031750429.png" alt="image-20230403175021215" style="zoom:33%;"> <details><summary>Correct Answer</summary> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304031752588.png" alt="image-20230403175252342" style="zoom:33%;"></p></details> <blockquote><h6 id="rfc-5952"><a href="#rfc-5952" class="header-anchor">#</a> RFC 5952</h6> <p>(stands for <strong>Request for Comments</strong>, is a publication from the ISOC, Internet Society, and associated organizations like the IETF, Internet Engineering Task Force, and these RFCs are the official documents of Internet specifications, protocols, procedures, etc.)</p> <ul><li>RFC 5952 is ‘A Recommendation for IPv6 Address Text Representation’ ; Before this RFC, IPv6 address representation was more flexible;
<ul><li>You could remove leading 0s, or leave them;</li> <li>You could replace all-0 quartets with ::, or leave them</li> <li>You could use upper-case 0xA,B,C,D,E,F, or lower-case 0xa,b,c,d,e,f</li></ul></li> <li>RFC 5952 suggests standardizing IPv6 address representation:
<ul><li>Leading 0s MUST be removed;</li> <li><code>::</code> MUST be used to shorten the longest string of all-O quartets.</li> <li>If there are two equal-length choices for the <code>::</code>, use <code>::</code> to shorten the one on the left.</li> <li>Hexadecimal characters ‘a’, ‘b’, ‘c’, ‘d’, ‘e’, and ‘f MUST be written using lower-case, NOT upper-case AB c D E E</li></ul></li></ul></blockquote> <h3 id="ipv6的分类"><a href="#ipv6的分类" class="header-anchor">#</a> IPv6的分类</h3> <blockquote><ul><li>Typically, an enterprise requesting IPv6 addresses from their ISP will receive a <code>/48</code> block.</li> <li>Typically IPv6 subnets use a <code>/64</code> <strong>prefix length</strong>.</li> <li>So, the enterprise received a /48 block, but the usual prefix length is /64. This means that an enterprise has <strong>16 bits to use to make subnets</strong>.</li> <li>And the remaining 64 bits can be used for hosts.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325626.png" alt="image-20220623135655198" style="zoom:60%;"></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325019.png" alt="image-20220623095058115" style="zoom:67%;"> <blockquote><ul><li><p>==Global Unicast==地址:</p> <ul><li><p>Originally defined as <code>2000::/3</code>(from <code>2000::</code> to <code>3FFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF</code>); <strong>Now all addresses which aren’t reserved for other purposes are global unicast addresses.</strong></p></li> <li><p>public addresses which can be used over the Internet.</p></li> <li><p>must register to use global unicast addresses. Because they are public addresses, it is expected that they are globally unique.</p></li> <li><p>three sections of a global unicast address:</p> <ul><li><p>the global routing prefix: 48 bits;</p></li> <li><p>the subnet identifier: 16 bits, means 65535 subnets;</p></li> <li><p>the interface identifier: 48 bits;</p></li></ul></li></ul></li> <li><p>==Unique Local==:</p> <ul><li><p>Uses the address block <code>FC00::/7</code> (from <code>FC00::</code> to <code>FDFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF</code>); however a later update requires that the 8th bit be set to 1, <strong>so really all unique local addresses will begin with <code>FD</code></strong>.</p></li> <li><p>private addresses which cannot be used over the Internet(<em>like private IPv4 addresses</em>).</p> <ul><li>do not need to register to use them. They can be used freely within internal networks and don’t need to be globally unique, but you should still try to make the addresses unique.</li></ul></li> <li><p>Can't be routed over the Internet, your ISP will simply <strong>drop packets</strong> destined for unique local addresses.</p></li></ul></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304080845155.png" alt="image-20230408084526914" style="zoom:28%;"> <blockquote><h6 id="why-should-global-id-be-randomly-generated-and-not-just-use-something-simple-like-all-0s"><a href="#why-should-global-id-be-randomly-generated-and-not-just-use-something-simple-like-all-0s" class="header-anchor">#</a> Why should Global ID be randomly generated and not just use something simple like all 0s?</h6> <ul><li>The global ID should be unique so that addresses don’t overlap when companies merge. If all companies use the simple global ID of all 0s, when two companies merge and connect their networks they might have the same subnet in different parts of the network, which can cause a lot of problems.</li> <li>By randomly generating this global ID, the chances of having duplicate subnets are very low.</li> <li>So, even though these unique local addresses don’t have to be globally unique, it’s still a good idea to randomly generate the global ID and try to make it globally unique.</li></ul></blockquote> <ul><li><p>==Link Local==: 类似于Windows自动配置的IP地址169.254.x.x;</p> <ul><li><p>Uses the address block <code>FE80::/10</code> (<code>FE80::</code> to <code>FEBF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF</code>); However, the standard states that <strong>the 54 bits after <code>FE80/10</code> should be all 0</strong>, so you won’t see link local addresses beginning with FE9, FEA, or FEB. <strong>Only FE8</strong>.</p></li> <li><p>automatically generated <strong>using EUI-64 rules</strong> on IPv6-enabled interfaces; you can use the command <code>Router(config-if)#ipv6 enable</code> to enable IPv6 on an interface without actually configuring an IPv6 address on it. It will then automatically generate a link-local IPv6 address, and that will be the only IPv6 address on the interface.</p></li> <li><p>Link local means that these addresses are used for communication within a single link, a single subnet. Routers will not route packets with a link-local destination IPv6 address, they will not forward the packets between subnets.</p></li> <li><p><strong>must specify the exit-interface when using the Link-local address as ipv6 next-hop</strong>;</p></li> <li><p><strong>Common Uses of Link-Local addresses</strong>:</p> <ul><li><p>routing protocol peerings(OSPFv3(used for IPv6) uses link-local addresses for neighbor adjacencies, sending LSAs,etc.)</p></li> <li><p>used as the next-hop address for static routes.</p></li> <li><p>Neighbor Discovery Protocol (NDP, IPv6’s replacement for ARP) uses link-local addresses to function</p></li></ul></li></ul></li> <li><p>==Multicast==:</p> <ul><li><p>IPv6 uses range <code>FF00::/8</code> for multicast. (<code>FF00::</code> to <code>FFFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF</code>); 与IPv4 中一样，将组播地址用作目标地址的分组将被传输到该地址标识的所有接口。这种地址也被称为<code>一对多地址</code>;</p></li> <li><p>IPv6 doesn’t use broadcast (there is no ‘Broadcast Address’ in IPv6!) Basically, <code>FF0::1</code> functions like a broadcast, since it’s destined for <strong>all hosts</strong> like a broadcast.</p></li></ul></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304080913515.png" alt="image-20230408091310204" style="zoom:29%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304080927473.png" alt="image-20230408092718250" style="zoom:33%;"> <blockquote><h6 id="multicast-address-scopes"><a href="#multicast-address-scopes" class="header-anchor">#</a> Multicast address scopes:</h6> <ul><li>IPv6 defines multiple multicast ‘scopes’ which indicate how far the multicast packet should be forwarded.</li> <li>For example, the addresses in the previous slide all use the ‘link-local’ scope (FF02), which stays in the local subnet.</li> <li><strong>IPv6 multicast scopes</strong>:
<ul><li><strong>Interface-local scope (FF01, aka. ‘node-local’)</strong>: The packet doesn’t leave the local device. Can be used to send traffic to a service within the local device, but the router won’t actually send traffic out of a physical interface.</li> <li><strong>Link-local scope (FF02)</strong>: The packet remains in the local subnet. Routers will not route the packet between subnets.</li> <li><strong>Site-local scope (FF05)</strong>: The packet can be forwarded by routers. Should be limited to a single physical location (not forwarded over a WAN). it’s up to the network engineers to configure the boundaries of the scope.</li> <li><strong>Organization-local scope (FF88)</strong>: Wider in scope than site-local (an entire company/organization). it’s up to the network engineers to configure the boundaries of the scope.</li> <li><strong>Global scope (FF0E)</strong>: No boundaries. Possible to be routed over the Internet.</li></ul></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304080925726.png" alt="image-20230408092552446" style="zoom:33%;"></blockquote> <ul><li>==Anycast==: <code>2000::/3</code>;
<ul><li><p>a new feature of IPv6; Anycast messaging is ‘one-to-one-of-many’. There are multiple possible destinations, but the traffic is only sent to one.</p> <ul><li><p>Multiple routers are configured with the same IPv6 address. They use a routing protocol to advertise the address;</p></li> <li><p>when hosts send packets to that destination address, other routers will forward it to the nearest router configured with that IP address(‘Nearest’ refers to the smallest routing protocol metric).</p></li></ul></li> <li><p>there is no specified range for anycast addresses. Use a regular unicast address, for example a <strong>Global Unicast</strong> or <strong>Unique Local</strong> address and specify it as an <strong>Anycast</strong> address.</p></li></ul></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304080933736.png" alt="image-20230408093354497" style="zoom:33%;"> <blockquote><p>==What is the difference between IPv6 unicast and anycast addressing?==</p> <p>An individual IPv6 unicast address is supported on a single interface on one node but an IPv6 anycast address is assigned to a group of interfaces on multiple nodes.</p></blockquote></blockquote> <blockquote><h5 id="特殊的ipv6地址"><a href="#特殊的ipv6地址" class="header-anchor">#</a> 特殊的IPv6地址</h5> <ul><li><code>::</code> 相当于IPv4 地址<code>0.0.0.0</code>;
<ul><li>can be used when a device doesn’t know its IPv6 address yet.</li> <li>IPv6 default routes are configured to <code>::/0</code></li></ul></li> <li><code>::1</code> Loopback Address,
<ul><li>used to test the protocol stack on the local device.</li> <li>Messages sent to this address are processed within the local device, but not sent to other devices.</li> <li>相当于IPv4 地址<code>127.0.0.0/8</code>; Instead of wasting a huge block of addresses in IPv4 for loopbacks, IPv6 uses just a single address, which is much more efficient.</li></ul></li> <li><code>2001:db8::/32</code> This address is commonly used in documentation and examples, and it is not intended to be used in a real network.</li> <li><code>2002::/16</code> 保留供<strong>6to4隧道技术</strong>使用。6to4隧道技术是一种从IPv4迁移到IPv6的方法，让IPv6分组能够通过IPv4网络进行传输，而无需配置显式的隧道;</li></ul></blockquote> <blockquote><h5 id="ipv6-的优势"><a href="#ipv6-的优势" class="header-anchor">#</a> IPv6 的优势</h5> <ul><li>海量地址: IPv6的地址长度为128bit, 一共 3.4 x 10^38^ 个地址;</li> <li>简化的报文头: IPv6 分组报头包含的字段减少了一半，且所有字段都与64位边界对齐，这极大地提高了效率一一相比于IPv4. 查找速度要快得多;</li> <li>层次化的编址结构: 新增的长度让地址空间可包含更多的层次，从而提供了更灵活的编址架构; 提高了路由选择的效率和可扩展性，因为可以更有效地聚合地址。</li> <li>即插即用: IPv6支持无状态地址自动配置(SLLAC), 终端接入更加简单;</li> <li>安全性提高: IPsec机制, 真实的源地址认证保证了端到端安全; 避免IPv4中的NAT破坏端到端通信的完整性;</li> <li>增强的Qos特性: 额外定义了流标签字段, 可为应用程序和终端所用, 针对特殊的服务和数据流分配特定的资源</li> <li>IPv6 还允许主机和网络有多个地址，这对亟须改善可用性的企业来说显得尤其重要。</li> <li>IPv6 还更广泛地使用了组播通信(一台设备向很多主机或一组选定的主机发送数据);</li> <li>IPv6 还支持另外两种通信:单播和任意播，其中单播与IPv4 中相同，而任意播是新增的。任意播可将同一个地址分配给多台设备，而向该地址发送数据流时，它会被路由到共享该地址的最近主机。这仅仅是开始，在15 .3 .2 节，我们会更详细地介绍各种类型的通信。</li></ul></blockquote> <h3 id="ndp"><a href="#ndp" class="header-anchor">#</a> NDP</h3> <h4 id="solicited-node-multicast-address"><a href="#solicited-node-multicast-address" class="header-anchor">#</a> Solicited-Node Multicast Address</h4> <blockquote><ul><li>An IPv6 solicited-node multicast address is calculated from a unicast address.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304081713546.png" alt="image-20230408171355352" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304081715443.png" alt="image-20230408171524242" style="zoom:38%;"></blockquote> <h4 id="neighbor-discovery-protocol"><a href="#neighbor-discovery-protocol" class="header-anchor">#</a> Neighbor Discovery Protocol</h4> <blockquote><ul><li>is a protocol used with IPv6.</li> <li>It has various functions, and one of those functions is to <em>replace ARP</em>, which is no longer used in IPv6.</li></ul></blockquote> <h5 id="function-1-replace-arp-in-ipv4"><a href="#function-1-replace-arp-in-ipv4" class="header-anchor">#</a> Function 1: replace ARP(in IPv4)</h5> <blockquote><ul><li>The ARP-like function of NDP uses <strong>ICMPv6</strong> and <strong>solicited-node multicast addresses</strong> to learn the MAC address of other hosts.
<ul><li>(ARP in IPv4 uses <strong>broadcast</strong> messages for the ARP requests.)</li> <li>Solicited-node multicast messages are much more efficient, being addressed to a specific host, unlike a broadcast which is for all hosts.</li></ul></li> <li>In the process, two message types are used:
<ul><li><strong>Neighbor Solicitation</strong> message(the NDP equivalent of an ARP request) = <strong>ICMPv6 Type 135</strong>;</li> <li><strong>Neighbor Advertisement</strong> message(the NDP equivalent of an ARP reply) = <strong>ICMPv6 Type 136</strong>;</li></ul></li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304081732565.png" alt="image-20230408173259215" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304081733929.png" alt="image-20230408173358606" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304081735853.png" alt="image-20230408173520561" style="zoom:33%;"> <h5 id="function-2"><a href="#function-2" class="header-anchor">#</a> Function 2:</h5> <blockquote><ul><li>Another function of NDP <strong>allows hosts to automatically discover routers on the local network</strong>.</li> <li>two messages are used for this process(<strong>allow a device to learn the network prefix for SLAAC</strong>):
<ul><li><strong>Router Solicitation</strong>, which is <em>ICMPv6 type 133</em>;
<ul><li>Sent to multicast address <code>FF02::2</code>, the all routers address;</li> <li>asks routers on the local link(the local network) to identify themselves;</li> <li>This message is sent <em>when an interface is enabled</em>, or <em>when the host is connected to the network</em>.</li></ul></li> <li><strong>Router Advertisement</strong>, <em>ICMPv6 type 134</em>;
<ul><li>sent to multicast address <code>FF02::1</code>, the all nodes address;</li> <li>Using this message, <em>the router announces its presence</em> and <em>provides some other information about the link, the local network</em>.</li> <li>These messages are sent in response to <strong>RS messages</strong>. However, even if the router doesn’t receive an RS, it will send RAs <strong>periodically</strong>.</li></ul></li></ul></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304081741310.png" alt="image-20230408174154152" style="zoom:33%;"></blockquote> <h5 id="function-3-slaac"><a href="#function-3-slaac" class="header-anchor">#</a> Function 3: SLAAC</h5> <p>See [Configuration of SLAAC](#Configuration of SLAAC)</p> <h5 id="function-4-dad"><a href="#function-4-dad" class="header-anchor">#</a> Function 4: DAD</h5> <blockquote><ul><li><strong>Duplicate Address Detection</strong>(DAD), which is another function of NDP, allows hosts to check if other devices on the local link are using the same IPv6 address.</li> <li>Any time an IPv6-enabled interface initializes, for example via the <code>no shutdown</code> command, or an IPv6 address is configured on an interface(for example a manual IPv6 address, or a SLAAC, etc.), the device performs DAD to check if another device is using that same IPv6 address.</li> <li>DAD uses two messages(that you already learned earlier):
<ul><li><strong>Neighbor Solicitation</strong></li> <li><strong>Neighbor Advertisement</strong></li></ul></li> <li>To perform DAD, the host will <strong>send an NS</strong> to its own IPv6 address(solicited-node multicast address).
<ul><li>If it doesn’t get a reply it knows the address is unique.</li> <li>However, if it does get a reply, a neighbor advertisement message, it means that another host on the network is already using the address.</li></ul></li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304081802940.png" alt="image-20230408180205785" style="zoom:33%;"></blockquote> <h3 id="ipv6配置方式"><a href="#ipv6配置方式" class="header-anchor">#</a> IPv6配置方式</h3> <h4 id="手动配置ipv6"><a href="#手动配置ipv6" class="header-anchor">#</a> 手动配置IPv6</h4> <blockquote><ol><li><p>全局配置模式下, 执行 <code>ipv6 unicast-routing</code>, enables the routers to <strong>perform IPv6 routing</strong>;</p> <p>If you don’t enable this, it’s not going to actually forward IPv6 packets.</p></li> <li><p>接口配置模式下:</p> <ul><li><p>可指定一个完整的128 位IPv6 全局地址:</p> <p>执行 <code>ipv6 address 2001:db8:3c4d:1:0260:d6FF.FE73:1987/64</code>;</p></li></ul></li></ol> <div class="language- extra-class"><pre><code>- 也可使用eui-64 选项。eui-64 格式允许设备对其MAC地址进行转换，以生成接口ID:
 
    执行 `ipv6 address 2001:db8:3c4d:1::/64 eui-64`
</code></pre></div><blockquote><p>若使接口只使用==链路本地地址==，可使用接口配置命令<code>ipv6 enable</code></p></blockquote></blockquote> <h5 id="配置固定的ipv6"><a href="#配置固定的ipv6" class="header-anchor">#</a> 配置固定的IPv6</h5> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304040456447.png" alt="image-20230404045625167" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304040501916.png" alt="image-20230404050107696" style="zoom:33%;"> <blockquote><ul><li>Notice that the <strong>shortened version</strong> of the address is displayed, not all 32 hex digits;</li> <li>Each of these interfaces has two IPv6 addresses, even though we only configured one. <code>FE80::/10</code> are called ‘<strong>link-local</strong>’ addresses, and they are automatically configured on an interface w<em>hen you configure an IPv6 address, when IPv6 is enabled on the interface.</em></li></ul></blockquote> <h5 id="eui-64-配置"><a href="#eui-64-配置" class="header-anchor">#</a> EUI-64 配置</h5> <blockquote><ul><li>EUI stands for <strong>Extended Unique Identifier</strong>；‘EUI-64’ isn’t really a ‘type’ of IPv6 address, it’s a method of automatically generating an IPv6 address using a specified prefix and a MAC address.</li> <li>EUI-64 allows routers to <strong>automatically generate an IPv6 address</strong> by <em>expanding their MAC address to a 64-bit interface ID</em>, which is then <em>combined with the specified IPv6 address prefix</em>.</li> <li>the technically correct term is ‘<strong>modified’ EUI-64</strong>, but usually it’s just referred to as <strong>EUI-64</strong>.</li> <li>is a method of converting a <strong>48-bit MAC address</strong> into a <strong>64-bit interface identifier</strong>， and this interface identifier can then become the ‘<em>host portion</em>’ of a /64 IPv6 address.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304080740309.png" alt="image-20230408074035076" style="zoom:33%;"></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304080745149.png" alt="image-20230408074540885" style="zoom:33%;"> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304080749673.png" alt="image-20230408074911341" style="zoom:36%;"> <h6 id="quiz-3"><a href="#quiz-3" class="header-anchor">#</a> Quiz：</h6> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304080741426.png" alt="image-20230408074157186" style="zoom:30%;"> <details><summary>Correct Answer</summary> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304080744662.png" alt="image-20230408074405393" style="zoom:30%;"></p></details> <h6 id="why-invert-the-7th-bit"><a href="#why-invert-the-7th-bit" class="header-anchor">#</a> Why invert the 7th bit?</h6> <blockquote><ul><li><p>MAC addresses can be divided into two types:</p> <ul><li><p><strong>UAA</strong>(Universally Administered Addresses): <strong>uniquely</strong> assigned to the device by the manufacturer;</p></li> <li><p><strong>LAA</strong> (Locally Administered Address) : Manually assigned by an admin (with the <code>mac-address</code> command on the interface) or protocol. <strong>Doesn’t have to be globally unique</strong>.</p></li></ul></li> <li><p>You can identify a UAA or LAA by the 7th bit of the MAC address, which is called the U/L bit(Universal/Local bit):</p> <ul><li>U/L bit set to 0 = UAA</li> <li>U/L bit set to 1 = LAA</li></ul></li> <li><p>However, in the context of IPv6 addresses and EUI-64, the meaning of the U/L bit is reversed:</p> <ul><li>U/L bit set to 0 = means that the MAC address the EUI-64 interface ID was made from was an LAA;</li> <li>U/L bit set to 1 = means that the MAC address the EUI-64 interface ID was made from was an UAA;</li></ul></li></ul> <blockquote><p>Note that this doesn’t actually effect the function of the IPv6 address itself. It doesn’t mean the IPv6 address is universal or local. If you want to know the exact reasons for this inversion, do a Google search for ‘<em>eui-64 packetlife.net</em>’, there is a great explanation there.</p></blockquote></blockquote> <h4 id="slaac"><a href="#slaac" class="header-anchor">#</a> SLAAC</h4> <blockquote><ul><li>SLAAC stands for <strong>Stateless Address Auto-configuration</strong></li> <li>SLAAC is a standard function of IPv6, Not only routers but also end hosts like PCs can do this too.</li> <li>自动配置是一种很有用的解决方案，让网络中的设备能够给自身分配链路本地单播地址和全局单播地址。</li> <li>When using SLAAC, hosts use the RS and RA messages to learn the IPv6 prefix of the local link(i.e. <code>2001:db8::/64</code>), and then automatically generate an IPv6 address.</li> <li>When using the <code>ipv6 address prefix/prefix-Length eui-64</code> command, you need to manually enter the prefix.</li> <li>However, the command for SLAAC <code>ipv6 address autoconfig</code> command, you don't need to enter the prefix. The device uses <strong>NDP</strong> to learn the prefix used on the <strong>local link</strong> via RS/RA messages.</li> <li>Then the device will use <strong>EUI-64</strong> to generate the interface ID, <em>or it can be randomly generated</em>(depending on the device and maker).</li></ul> <blockquote><h6 id="example"><a href="#example" class="header-anchor">#</a> Example:</h6> <ul><li>R1 is configured with an IPv6 address, but R2 doesn’t have one yet. So, I use the command IPV6 ADDRESS AUTOCONFIG on R2’s G0/0 interface, and you can see the <strong>global unicast address</strong> it generated, and of course <strong>the link-local address</strong>, as always.</li></ul> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304081749031.png" alt="image-20230408174938837" style="zoom:43%;"></blockquote> <h5 id="运行步骤"><a href="#运行步骤" class="header-anchor">#</a> 运行步骤:</h5> <ol><li><p>主机首先从路由器那里获悉前缀信息(全局前缀和子网信息): 发送一条路由器请求(Router Solicitation, RS)消息。该消息以组播方式发送给所有路由器。这实际上是一种ICMP消息，并用编号进行标识。则消息的ICMPv6类型为133.</p></li> <li><p>路由器使用一条路由器通告(RA) 进行应答，其中包含请求的前缀信息。RA消息也是组播分组，被发送到表示所有节点的组播地址，其ICMPv6类型为134. RA消息是定期发送的，但主机发送RS消息后，可立即得到响应</p></li> <li><p>主机再将自己的接口MAC地址(48bit)在中间插入额外的位FFFE, 然后用作接口ID(64bit)。</p></li></ol> <h5 id="主机或接口id-eui-64-的生成"><a href="#主机或接口id-eui-64-的生成" class="header-anchor">#</a> 主机或接口ID(EUI-64) 的生成:</h5> <ul><li><p>在MAC地址的中间插入额外的位，即FFFE。</p></li> <li><p>插入后将采用改进的==eui-64 (扩展唯一标识符)==格式，它使用首字节的第7位来标识地址是本地唯一的还是全局唯一的:</p> <ul><li><p>如果这一位为1，则表示地址是全局唯一的;</p></li> <li><p>如果为0，则表示地址是本地唯一的。</p> <img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220623131728916.png" alt="image-20220623131728916" style="zoom:80%;"></li></ul></li></ul></blockquote> <h5 id="案例"><a href="#案例" class="header-anchor">#</a> 案例</h5> <p><img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325393.png" alt="img"></p> <p>We will <em>enable SLAAC on interface R1-e0/0</em> which will <em>receive prefix information from Router R6</em>.</p> <h6 id="step-1-enable-ipv6-routing-on-r6"><a href="#step-1-enable-ipv6-routing-on-r6" class="header-anchor">#</a> Step-1 Enable IPv6 Routing on R6</h6> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R6<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#ipv6 unicast-routing</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="step-2-enable-ipv6-and-add-prefix-on-r6"><a href="#step-2-enable-ipv6-and-add-prefix-on-r6" class="header-anchor">#</a> Step-2 Enable IPv6 and Add prefix on R6</h6> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>interface Ethernet0/0
no <span class="token function">shutdown</span>
<span class="token function">ip</span> address <span class="token number">192.168</span>.100.10 <span class="token number">255.255</span>.255.0
ipv6 address <span class="token number">2000</span>:1234:5678::6666:1/64
ipv6 <span class="token builtin class-name">enable</span>
end
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h6 id="step-3-enable-ipv6-routing-on-r1"><a href="#step-3-enable-ipv6-routing-on-r1" class="header-anchor">#</a> Step-3 Enable IPv6 Routing on R1</h6> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#ipv6 unicast-routing</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="step-4-enable-ipv6-and-configure-ipv6-auto-config-on-r1"><a href="#step-4-enable-ipv6-and-configure-ipv6-auto-config-on-r1" class="header-anchor">#</a> Step-4 Enable IPv6 and configure IPv6 auto-config on R1</h6> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>interface Ethernet0/0
no <span class="token function">shutdown</span>
no <span class="token function">ip</span> address
ipv6 address autoconfig
ipv6 <span class="token builtin class-name">enable</span>
end
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h6 id="result"><a href="#result" class="header-anchor">#</a> Result</h6> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>R1<span class="token comment">#sh ipv6 interface ethernet 0/0</span>
Ethernet0/0 is up, line protocol is up
  IPv6 is enabled, link-local address is FE80::A8BB:CCFF:FE00:2000 
  No Virtual link-local address<span class="token punctuation">(</span>es<span class="token punctuation">)</span>:
  Stateless address autoconfig enabled
  Global unicast address<span class="token punctuation">(</span>es<span class="token punctuation">)</span>:
    <span class="token number">2000</span>:1234:5678:0:A8BB:CCFF:FE00:2000, subnet is <span class="token number">2000</span>:1234:5678::/64 <span class="token punctuation">[</span>EUI/CAL/PRE<span class="token punctuation">]</span>
      valid lifetime <span class="token number">2591997</span> preferred lifetime <span class="token number">604797</span>
  Joined group address<span class="token punctuation">(</span>es<span class="token punctuation">)</span>:
    FF02::1
    FF02::2
    FF02::1:FF00:2000
  MTU is <span class="token number">1500</span> bytes
  ICMP error messages limited to one every <span class="token number">100</span> milliseconds
  ICMP redirects are enabled
  ICMP unreachables are sent
  ND DAD is enabled, number of DAD attempts: <span class="token number">1</span>
  ND reachable <span class="token function">time</span> is <span class="token number">30000</span> milliseconds <span class="token punctuation">(</span>using <span class="token number">30000</span><span class="token punctuation">)</span>
  ND advertised reachable <span class="token function">time</span> is <span class="token number">0</span> <span class="token punctuation">(</span>unspecified<span class="token punctuation">)</span>
  ND advertised retransmit interval is <span class="token number">0</span> <span class="token punctuation">(</span>unspecified<span class="token punctuation">)</span>
  ND router advertisements are sent every <span class="token number">200</span> seconds
  ND router advertisements live <span class="token keyword">for</span> <span class="token number">1800</span> seconds
  ND advertised default router preference is Medium
  Hosts use stateless autoconfig <span class="token keyword">for</span> addresses.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="ipv6-static-routing"><a href="#ipv6-static-routing" class="header-anchor">#</a> IPv6 Static Routing</h3> <blockquote><ul><li>IPv6 routing works the same as IPv4 routing.
<ol><li>A packet arrives on one of the router’s interfaces, it looks up the destination IP address in its routing table,</li> <li>and then forwards the packet according to the most specific match in the routing table;</li></ol></li> <li>However the two processes(IPv4 routing &amp; IPv6 routing) are separate on the router, and the two routing tables(<code>show ip route</code> &amp; <code>show ipv6 route</code>) are separate as well.</li> <li>IPv4 routing is enabled on Cisco routers by default; However, IPv6 routing is disabled by default, and must be enabled with the <code>ipv6 unicast-routing</code> command.</li> <li>If IPv6 routing is disabled, the router will be able to send and receive IPv6 traffic, but will not ‘route’ IPv6 traffic, meaning it will not forward traffic between networks. <strong>Always make sure to use the <code>ipv6 unicast-routing</code> command.</strong></li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304081814729.png" alt="image-20230408181438388" style="zoom:33%;"> <blockquote><ul><li>Just like in IPv4, a connected ‘<strong>network route/64</strong>’ is automatically added for each connected network;</li> <li>Also, a local ‘<strong>host route/128</strong>’ is automatically added for each address configured on the router.</li> <li>the route to <code>FF00::/8</code>, that’s the IPv6 multicast range. It says ‘<strong>via Null0</strong>’, which is an interface that discards traffic matching that route, so this discards multicast traffic. <em>This route was automatically configured, but it’s beyond the scope of the CCNA.</em></li> <li><strong>Routes for link-local addresses are not added to the routing table.</strong></li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304082126725.png" alt="image-20230408212627562" style="zoom:33%;"> <blockquote><ul><li>Curly brackets <code>{}</code> mean a required choice.</li> <li>square brackets <code>[]</code> mean optional;</li></ul></blockquote> <blockquote><p>There is actually a name for each of these different kinds of static routes, depending on if you specify just the exit interface, just the next hop, or both. (This concept isn’t unique to IPv6, by the way, it applies to IPv4 static routes too.):</p> <ul><li><p><strong>Directly Attached</strong> static route is a route where only the exit interface is specified, <code>ipv6 route destination/prefix-Length exit-interface</code>;</p> <blockquote><ul><li><strong>In IPv6, you can’t use Directly Attached static routes if the interface is an Ethernet interface!</strong> The command will work, but the route will not!</li> <li>If it was a serial interface, for example, it would work!</li></ul></blockquote></li> <li><p><strong>Recursive</strong> static route: specifies only the next hop address, <code>ipv6 route destination/prefix-Length next-hop</code>; (It’s because it requires a ‘recursive’ lookup in the routing table, R1 has to check its routing table multiple times - First, it has to look up the destination; Then it has to look up the next hop to know which interface to send the traffic out of.)</p></li> <li><p><strong>Fully specified</strong> static route: Both exit interface and next hop are specified, <code>ipv6 route destination/prefix-Length exit-interface next-hop</code>;</p> <blockquote><p>If you want to use a link-local address as a next-hop, you have to specify both <strong>the next hop address</strong> and <strong>the exit interface</strong>.</p> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304082141544.png" alt="image-20230408214145305" style="zoom:59%;"></blockquote></li></ul></blockquote> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202304082139314.png" alt="image-20230408213937966" style="zoom:33%;"> <h3 id="ipv6-dynamic-routing-protocols"><a href="#ipv6-dynamic-routing-protocols" class="header-anchor">#</a> IPv6 Dynamic Routing protocols</h3> <p>所有IPv6路由选择协议最大的变化之一可能是，在接口配置模式下启用网络通告，而不是在路由器配置模式下使用network 命令。</p> <h4 id="ripng"><a href="#ripng" class="header-anchor">#</a> RIPng</h4> <blockquote><ul><li><p>RIPng 的主要功能与RIPv2 相同。它仍是一种<code>距离矢量胁议</code>，<code>最大跳数为15</code>，并使用<code>水平分割</code>、<code>反向抑制(poison reverse)</code>等环路避免机制，但使用<code>UDP端口521</code> 而不是UDP520。</p></li> <li><p>仍使用<code>组播</code>来发送更新，但在IPv6 中，使用的目标地址为<code>FF02::9</code>。这实际上很好，因为在RIPv2中，使用的组播地址为<code>224.0.0.9</code>;</p></li> <li><p>RIPv2 中，路由器在路由选择表中存储了前往每个网络的下一跳地址，但在RIPng 中，路由器存储的下一跳地址为<code>链路本地地址</code>，而不是全局地址。</p></li> <li><p>使用RIPng 时，可直接在接口上通告该路由选择协议，这将创建一个RIPng进程(而无需在路由器配置模式下启动RIPng 进程)，如下所示:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Router1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ipv6 rip 1 enable</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>但如果要进入路由器配置模式，以配置重分发等功能，也可以这样做，如下所示:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>Routerl<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#ipv6 router rip 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></blockquote> <h4 id="eigrpv6"><a href="#eigrpv6" class="header-anchor">#</a> EIGRPv6</h4> <blockquote><ul><li><p>EIGRPv6 也是一种高级距离矢量协议，有一些链路状态协议的特征。它也使用<code>Hello分组</code>来发现邻居，使用<code>可靠传输协议(RTP)</code> 来提供可靠的通信，并使用<code>弥散更新算法(DUAL)</code> 实现无环路快速会聚。</p></li> <li><p>Hello 和更新分组是以组播的方式发送的，与R1Png 一样， EIGRPv6 使用的组播地址的最后部分与原来相同:在IPv4 中，使用的组播地址为224.0.0.10 ，而在IPv6 中，使用的组播地址为FF02::A (A是10 的十六进制表示)。</p></li> <li><p>要启用EIGRPv6 ，需如下操作:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Router1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#ipv6 router eigrp 10  # 10 自治系统(AS) 号</span>
Router1<span class="token punctuation">(</span>config-rtr<span class="token punctuation">)</span><span class="token comment">#no shutdown</span>
                                        
Router1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ipv6 eigrp 10 # 进入指定接口的配置模式</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul></blockquote> <h4 id="ospfv3"><a href="#ospfv3" class="header-anchor">#</a> OSPFv3</h4> <blockquote><ul><li><p>仍是一种链路状态路由选择协议，将整个互联网络或自治系统划分成区域，以形成层次结构;</p></li> <li><p>在OSPFv2中，默认情况下，路由器ID( 阻D)为最大的四地址(也可以手工指定它)，但在OSPFv3中，需要手工指定阳D 和区域ID ，它们仍是32 位的值，但不再默认使用E 地址，因为IPv6 地址长128 位。通过要求手工指定这些值，并将OSPF 分组报头中的IP 地址删除，使OSPFv3 几乎可用于任何网络层协议;</p></li> <li><p>在OSPFv3中，邻接关系和下一跳属性是使用链路本地地址指定的，它还使用组播来发送更新和确认:</p> <ul><li>用组播地址<strong>FF02::5 表示OSPF路由器</strong>，并用组播地址<strong>FF02::6 表示OSPF指定路由器</strong>。在OSPFv2中，与这些组播地址对应的分别是224.0.0.5和224.0.0.6 0;</li></ul></li> <li><p>可在接口配置模式下将接口及其连接的网络加入OSPF进程:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>Router1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#ipv6 router osfp 10</span>
Router1<span class="token punctuation">(</span>config-rtr<span class="token punctuation">)</span><span class="token comment">#router-id 1.1.1.1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>要配置汇总和重分发等，必须进入路由器配置模式;但配置OSPFv3 时，可不在这种模式下进行，
而可在接口模式下进行配置。
配置完接口后，将自动创建OSPF 进程。接口配置类似于下面这样:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>Router1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ipv6 ospf 10 area 0.0.0.0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>因此，只需进入每个接口，并指定进程ID 和区域即可。</p></li></ul></blockquote> <h3 id="ipv4-迁移到-ipv6"><a href="#ipv4-迁移到-ipv6" class="header-anchor">#</a> IPv4 迁移到 IPv6</h3> <img src="https://cdn.jsdelivr.net/gh/Jonas-Wolfxin/MyPicgo/img/202303310325401.png" alt="image-20220623104136985" style="zoom:87%;"> <h4 id="dual-stack双栈技术-isatap"><a href="#dual-stack双栈技术-isatap" class="header-anchor">#</a> dual-stack双栈技术(ISATAP)</h4> <blockquote><ul><li>允许设备同时运行IPv4和IPv6协议栈，从而能够同时支持现有IPv4和新的IPv6。</li> <li>one way of transitioning your network from IPv4 to IPv6. You keep IPv4 running, add IPv6 on top, and then slowly transition to using IPv6 exclusively.</li></ul></blockquote> <p>在思科路由器上配置双栈非常容易: 只需启用IPv6路由转发并给接口配置IPv6地址即可，如下所示:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>corp<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#ipv6 unicast-routing</span>
corp<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#interface fastethernet 0/0</span>
corp<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ipv6 address 2001:db8:3c4d:l::/64 eui-64</span>
corp<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ip address 192.168.255.1 255.255.255.0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_6to4-隧道技术"><a href="#_6to4-隧道技术" class="header-anchor">#</a> 6to4 隧道技术</h4> <blockquote><p>如果要让两个IPv6网络通过IPv4网络进行通信，可选择这种策略。简单地说，隧道技术就是拦截要穿越IPv4网络的IPv6分组，并给它添加一个IPv4报头。</p></blockquote> <p><img src="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/image-20220701003651014.png" alt="image-20220701003651014"></p> <p>要创建隧道， 需要两台前面介绍过的双栈路由器，并添加一些配置， 在这些路由器之间建立一条隧道。隧道的创建非常简单，只需告诉每台路由器，隧道的起点和终点在什么地方。要在圈15-3 所示的路由器之间建立隧道，只需做如下配置:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>Routerl<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int tunnel 0</span>
Routerl<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ipv6 address 2001:db8:1:1::1/64</span>
Routerl<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#tunnel source 192.168.30.1</span>
Routerl<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#tunnel destination 192.168.40.1</span>
Routerl<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#tunnel mode ipv6ip</span>

Rout er2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#int tunnel 0</span>
Router2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#ipv6 address 2001:db8:2:2::1/64</span>
Router2<span class="token punctuation">(</span>config斗f<span class="token punctuation">)</span><span class="token comment">#tunnel source 192.168.40.1</span>
Rout er2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#tunnel destination 192.168.30.1</span>
Route r2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment">#tunnel mode ipv6ip</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>需要注意的一个要点是，如果穿越的IPv4网络包含NAT转换点， 前面创建的隧道将遭到破坏! 多年来，NAT 获得了重大改进，能够处理特定的协议和动态连接;如果没有这些改进，NAT可能破坏大部分连接。鉴于大多数NAT实现都没有考虑这种迁移策略，因此NAT会带来麻烦。但有一种解决这种问题的方案，被称为<code>Teredo</code>，借助它能够将通过隧道传输的数据流都放在UDP分组中。NAT不理会UDP分组，因此这些分组不会像其他协议分组那样遭到破坏。使用Teredo后，分组将伪装成UDP分组，从而逃过NAT破坏。</p> <h4 id="nat-pt-转换技术"><a href="#nat-pt-转换技术" class="header-anchor">#</a> NAT-PT 转换技术</h4> <blockquote><p>不同于IPv4 NAT , NAT-PT 和NAPT-PT并非用于在公有IPv6地址和私有IPv6 地址之间转换，而用于在IPv4 地址和IPv6 地址之间转换。再重申一次，仅在万不得已时才能使用它。在大多数情况下，隧道技术的效果要好得多，没有这种配置带来的麻烦和系统开销。</p></blockquote> <blockquote><p>有一种迁移策略名为NAT协议转换(NAT-PT), 只有在万不得已的情况下才使用这种方法，因为它并非很好的解决方案。使用这种解决方案时， IPv4主机只能与IPv4主机通信，而IPv6主机也只能与IPv6主机通信。NAT-PT不重新封装分组，而将分组从一种IP类型转换为另一种IP类型。</p> <p>与IPv4中的NAT一样，实现NAT-PT的方式有3种:</p> <ul><li>静态NAT-PT 提供一对一的映射，将一个IPv4 地址映射到一个IP喃地址，这类似于静态NAT;</li> <li>动态NAT-PT，它使用一个IPv4 地址池，将一个IPv4 地址映射到一个IPv6 地址;</li> <li>有端口地址转换协议转换(NAPT-PT)，它提供多对一映射，将多个IPv6地址映射到同一个IPv4地址和不同的端口号。</li></ul></blockquote></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Jonas-Wolfxin/Jonas-Wolfxin.github.io/edit/main/docs/40.网络运维/05.CCNA/10.CCNA知识笔记/03.IP Addressing.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">last Updated:</span> <span class="time">2023/06/08, 22:42:49</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/91ab17/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">OSI Model</div></a> <a href="/pages/0cd5e5/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">TCP/IP Suite</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/91ab17/" class="prev">OSI Model</a></span> <span class="next"><a href="/pages/0cd5e5/">TCP/IP Suite</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/32db2d/"><div>
            Layer 3 Forwarding
            <!----></div></a> <span class="date">06-07</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/6b8f16/"><div>
            Layer 2 Forwarding
            <!----></div></a> <span class="date">06-06</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/fe5ceb/"><div>
            Virtual Routing and Forwarding
            <!----></div></a> <span class="date">05-16</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/Jonas-Wolfxin" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/Jonas-Wolfxin" title="Gitee" target="_blank" class="iconfont icon-gitee"></a><a href="https://cdn.jsdelivr.net/gh/Wolfxin/MyPicGo/img/202206100005451.jpg" title="Wechat: @Jonas_Wolfxin" target="_blank" class="iconfont icon-weixin"></a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=1914303043&amp;site=qq&amp;menu=yes" title="QQ: 1914303043" target="_blank" class="iconfont icon-QQ"></a><a href="mailto:wolfxin@outlook.com" title="联系我" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2023
    <span>Jonas Wolfxin's Blog</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div><div></div><div></div><!----><!----><APlayer audio="" fixed="true" mini="true" theme="#b7daff" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div></div></div></div>
    <script src="/assets/js/app.d858ddbb.js" defer></script><script src="/assets/js/2.309e711a.js" defer></script><script src="/assets/js/129.1abfd9a0.js" defer></script><script src="/assets/js/16.acd3428d.js" defer></script><script src="/assets/js/8.5b4b6c67.js" defer></script><script src="/assets/js/10.58f97cc7.js" defer></script><script src="/assets/js/17.0b7a5267.js" defer></script>
  </body>
</html>
